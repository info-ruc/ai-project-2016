 
sensor based navigation is fundamental to any mobile robot. conventional statistical approaches to the navigation problem maintain an exact global description of environment geometry. however  in practise  the behaviour of real physical sensors and the observations they make of the environment make such central geometric representations extremely fragile. to overcome such problems  this paper proposes the use of qualitative models of physical sensor observations. these aim to describe the world in terms of local sensor-centric representations of the observed environment. each representation exploits those landmarks most natural to the physical sensor involved and no explicit geometric representation of the world is assumed. this leads naturally to a navigation process defined in terms of relationships between different sensor observables; an intrinsically more robust mechanism than found in conventional navigation algorithms. the representation and navigation methodology proposed is illustrated using sonar data from a real vehicle. 
1 	introduction 
often metrical information  from either sensory cues or models  is either incomplete  inaccurate or hard to interpret and navigation using purely quantitative techniques is fragile  elfes  1; leonard and durrantwhyte  1 . quantitative models tend to produce either descriptions which are too accurate for the task at hand or  in the case when information is incomplete  no descriptions at all. robust navigation is possible only when the robot is able to construct accurate models appropriate to the detail of its sensing information. a qualitative description of the processes can be sufficient to constrain the robot to perform to a certain specification 
   this work is supported by epsrc grants gr/j/1 and gr/j/1. 
1 	action and perception 
 i.e. avoid collisions and move along a corridor  without over constraining and forcing the robot to follow exacting metrical descriptions. however  qualitative descriptions can be ambiguous. in such circumstances quantitative information can be used to constrain the models further. 
¡¡qualitative navigation  where the emphasis is on building  maintaining and planning with topological descriptions of the environment have been studied  dai  1; kuipers and byun  1 . these approaches generally rely on the identification of distinctive objects  landmarks  which are either individual features or places. these landmarks are inter-connected by procedural information describing travel routes between them. the choice of landmark is sensor dependent since different modalities detect different significant features in the environment. it is important  therefore  to avoid a central composite representation. we adopt a sensor centric representation and reason with qualitative abstractions of the sensor cues. 
¡¡sensor data fusion can be viewed as the assimilation of constraints from two or more information sources whether quantitatively described using statistics  numeric intervals or qualitative information describing relative changes. their conjunction is a more refined estimate of the parameter. an empty conjunction signifies either an incomplete model or a faulty sensor. we use the qualitative inference engine qsim  kuipers  1  to infer the qualitative behaviours of sensory cues and then show how information can be assimilated at the qualitative and quantitative levels. 
¡¡we apply our approach to the sonar range sensing domain and demonstrate data fusion between proprioceptive and external sensing modalities. in section 1 we introduce the sonar model. then  in section 1 we present the qualitative model of how sonar cues are related to odometric  translational motion  and gyrometric  rotational motion  proprioceptive cues. finally  we will show how these models can be used to  a  infer the rules of navigation and  b  fuse senor maps at both the qualitative and quantitative levels. throughout we will refer to a real robot application and illustrate using real data. 
1 the sonar model 
for a typical in-air sonar there is no obvious direct correspondence between the environment and the recorded range measurements. figure 1  for example  shows a sonar scan of a simple environment. however  from this scan it can be seen that the range measurements for reflections perpendicular to the walls at a  1  c and d in the figure  the edge at e and corners at /  g and h are in close correspondence to distance between the sensor at + and the reflectors. further  range values are equal over a range of bearings each side of these points. this phenomenon has been noted in  kuc and siegel  1  and  leonard and durrant-whyte  1  and the latter has coined the phrase the region of constant depth  rcd . an rcd is a contiguous sequence of bearings with equal range values  rcd formations in the sonar map for a room in figure 1 and a robot at '+'  are shown in bold . they are formed because the sonar beam is wide and during a sweep scan a tiny part of the reflector is visible over a finite sequence of bearings. since the sonar wavelength is large compared to reflector surface fluctuations walls behave like specular  i.e. mirror like  objects. imagine walking through the room depicted in figure 1. when walking towards location y  for example  the rcd at a would move abreast of the observer. the edge at h would appear to move away from the observer. 

figure 1: accumulated rcds from 1 scan positions 
ometry of the environment. however  the information  i.e. rcds  are predictable and have motion patterns which are well understood consequences of the underlying physics of the sensing process. in section 1 we show how rcd range and bearing information to the same feature at different locations can be related to the robot's translational and rotational speed by two ordinary differential equations. 
1 the qualitative model 
leonard  introduces a unified description of plane  edge and corner sonar reflectors. this is the generalised 


figure 1: range-bearing plot with overlaid environment 
¡¡as a robot moves through the environment the rcds move predictably. rcds formed by reflections from walls move tangentially with the wall and abreast of the robot. corner and edge rcds rotate about the point of reflection. this is apparent in figure 1 which shows the overlay of a set of rcds taken from various positions in the environment. what is evident here is that the door-frame at i  which is not an obviously significant feature in a global geometric map  is the most significant feature to a sonar. conversely  the wall at c is significant in geometric terms  but is very weak to a sonar. leonard  demonstrates how a robot can navigate by tracking rcds as the robot moves. the essential point here is that the information obtained by a sonar does not correspond well with the underlying gecylinder in which planes are cylinders with infinite radius and edges and corners are cylinders with zero radius. equations 1 and 1 relate the radius of a cylinder r and 

figure 1: system geometry 
the perpendicular distance from its surface r to a robot moving with translational speed and rotational speed  see figure 1 . 

¡¡these equations form the basis for qualitative navigation. from these we can use qualitative simulation techniques to construct a set of qualitative rules which can be used to constrain the qualitative interpretation of sensor measurements. 
	reece and durrant-whyte 	1 
¡¡qsim  kuipers  1  is a qualitative simulation package which generates qualitative behaviours from qualitative descriptions of the continuously differentiable equations governing the system and guarantees soundness though not completeness. variable values are denoted by landmarks and intervals between landmarks and variable derivatives are either increasing  inc   decreasing  dec  or steady  std . we shall use the notation  qv qd  to denote a qualitative variable with value qv and derivative qd. 
¡¡to implement the interpretation of qualitative sensor cues  qsim was extended to deal with persistently infinite variables. qsim treats infinities as point values and  therefore  a variable cannot remain at infinity and be decreasing simultaneously. it is not possible to represent plane reflectors in such a system since  r+ r  in equations'1 and 1 is infinite but not necessarily constant. 
in general  we want to allow behaviours for a t  when 
+ b t  and a i  remains infinite but 
. this is achieved by allowing the in-
finity landmarks to be both successors and predecessors of themselves in qsim quantity spaces. 
¡¡each variable in equations 1 and 1 is assigned sensor centric landmarks. the angle type landmarks charac-
terise orientation: left  forward  right and behind. the quantity spaces are shown in table 1. the zero angle landmark means forward in qsim notation. the reflector type landmarks 1 and inf denote edges  and corners  and planes respectively. 
¡¡figure 1 shows the qualitative behaviours obtained from equations 1 and 1 for a robot moving with zero angular velocity  towards a plane 
1 	action and perception 

and past a cylinder and an edge. the top three graphs in figure 1  behl  show the qualitative behaviour for the case of the plane rcd. in the top left graph 
  the generalised cylinder radius 
is infinite and steady corresponding to a plane reflector. graph behl-var-r:range shows that the range value decreases and graph behl-var-th:bearingshows us that the bearing  to the plane remains constant. for plane reflectors the rcd moves tangentially to the reflector and abreast of the robot and this is the reason why 1  in this case  is constant. 
¡¡the second row of graphs  beh1  describe the behaviour of an edge  or corner  rcd. in the middle left graph beh1-var-r:reflector-type  the generalised cylinder radius is zero and steady corresponding to an edge reflector. in beh1-var-r:range we see that the range gradually decreases until some time point t  and then increases indefinitely. this corresponds to a robot moving towards a point like object fixed in space  passing close to it and then moving away from it. in graph beh1-var-th: bearing we can see that this rcd moves gradually further to the left and then recedes behind. the third row of graphs  beh1  shows the rcd behaviour for an arbitrary cylinder of finite radius. 

¡¡in general  purely qualitative information is insufficient to differentiate reflector types for small odometric displacements. it is impossible to determine  for example  whether a change in bearing is due to the motion of an edge or noisy data from a plane reflection. however  numerical information can be used to distinguish these cases. using q1  kuipers  1  we can estimate numerical bounds for future bearing readings from current values for each type of reflector and thus disambiguate the types of observed reflectors. this is crucial for navigation by feature tracking. 
1 	qualitative navigation 
in the previous section we demonstrated that a robot can predict the behaviour of rcds from a qualitative relationship between its sensor cues. in this section we show how this mechanism can be used in path planning by utilising a sensor centric behavioural description of the robots motion towards a goal state. the robot navigates by following single reflectors or moving between pairs of reflectors and so we are interested in the motion of single rcds and the differential motion of rcds between pairs of reflectors. this approach can be implemented as a generic two object qualitative differential equation. we illustrate this by showing how a robot can plan qualitatively to pass between two objects by predicting its sensor cue behaviours under the constraint that collisions should be avoided  i.e. r=1 is a qsim unreachable condition . 
¡¡figure 1 shows a plane  p  lying initially frontal-left and a narrow cylinder  c with r = 1  lying to the frontalright of the robot. the goal is to pass between both ob-
jects without colliding with either. the goal state is that the plane is left-rear and the cylinder is right-rear. we build a combined two object qualitative differential equation from equations 1 and 1 in which both range-bearing pairs are related by shared translational and rotational speed variables. we constrain the envisionment further by insisting that the speed and angular velocities remain constant. 

tain a gradual turn to the right. the robot would expect to observe decreasing range cue values to both the cylinder and the plane initially  i.e. in graphs r1.range and r1:range r1 = r1 =   1 inf  dec   in the time interval  to t1  . the bearing of both features would gradually increase until the robot finds itself at its closest approach to both features simultaneously  i.e. where the range values are steady at time t1 . at this stage the plane would be parallel to the direction of motion since 1 = left. the robot would then observe r1 and r1 begin to increase and 1 = { left behind  inc  indicating that it has turned away from the plane and is moving away from both objects. the top left plot in figure 1 shows the rate of change of the angle subtended by the plane and cylinder rcds at the robot. as expected for motion between two objects this angle should increase throughout the simulation. in summary  this is a specification of a path which allows the robot to safely navigate between the plane and the cylinder by keeping the cylinder to its right and the plane to its left. 
1 	quantitative sensor data fusion 
in section 1 we described how landmark values from each of the sensory modalities can constrain the allowed values and directions of change of other landmarks. in this section we show how numeric information can be included in the assimilation process in situations when qualitative information is ambiguous. 
¡¡since the radius of a cylinder can take values close to 1 or infinity the cylinder rcd can behave very much like an edge or a plane rcd. it is necessary  therefore  to utilise more information about the cylinder in order to use it for tracking purposes. by determining the radius of the cylinder numerically the robot is able to predict numeric values for its future sonar range and bearing cues. such numeric constraints can be used to constrain both the estimated qualitative and estimated quantitareece and durrant-whyte 1 

tive values of the sensory cues for the other sensors in the system. 
¡¡to illustrate this  figure 1 shows range-bearing plots for the robot at positions a  b and c in the environment shown in figure 1. feature x is a cylindrical reflector near the centre of the room. the robot moves in a straight line a distance odo 1  1 1  between each position  starting at a. at each position it records the range and bearing to the cylinder at x. table 1 shows the sonar range and bearing to the cylinder at each position a  b and c. the notation  l  u  denotes a closed interval on the reals with lower-bound l and upper-bound u. 

bearing when the robot is at position c. 




figure 1: example cartesian range-bearing plots. 
¡¡using q1  a derivative of qsim   it is possible to navigate by tracking the cylinder. information obtained at positions a and b can be used to infer numerical bounds for the radius r of the cylinder. these bounds can then be used to estimate numeric bounds for its range and 
1 	action and perception 
¡¡q1 predicts the radius of the cylinder r €  1 1  after observing it from positions a and b. this estimate is then fed back into qsim with the range and bearing coordinates to the cylinder from position b. the q1 generated estimates from position c are range 
rc €  1 1  and bearing 1c €  -1  -1  which are consistent with the measured values in table 1. the qsim plots for range and bearing are shown in figure 1. in this figure the robot is at position b at time to and position c at time t1. 
¡¡further information can be gleaned from the quantitative constraints. for example  it is clear from figure 1 that the robot achieved its closest approach to the cylinder between positions b and c  at time t  . 
1 	conclusion 
rcds within the same class  i.e. edge type or plane type  exhibit identical qualitative behaviours. reasoning with such invariants can be useful in situations where quantitative approaches are fragile. however  although qualitative interpretations of sensory cues is advanta-

geous it can only complement and not replace the quantitative information available. 
¡¡we have demonstrated that qualitative descriptions of sensor cues can be used in the sensor fusion and navigation tasks. in  reece and durrant-whyte  1  we apply this approach to the map building and localisation problems. 
acknowledgements 
we would like to thank prof. b. kuipers for providing the qsim software and j. leonard for providing the ultrasonic sonar data. 

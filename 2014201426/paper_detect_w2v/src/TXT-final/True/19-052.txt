 
many studies of analogy in artificial intelligence have focused on analogy as a heuristic mechanism to guide search and simplify problem solving or as a basis for forming generalizations. this paper examines analogical learning  where analogy is used to conjecture new knowledge about some domain. a theory of verification-based analogical learning is presented which addresses the tenuous nature of analogically inferred concepts and describes procedures that can be used to increase confidence in the inferred knowledge. the theory describes how analogy may be used to discover and refine scientific models of the physical world. examples are taken from an implemented system  which discovers qualitative models of processes such as liquid flow and heat flow. 
1 introduction 
analogy is roughly composed of three stages: access  mapping  and evaluation and use. previous work in analogy has focused primarily on how one forms an analogical mapping and how this mapping may be used as a heuristic mechanism to guide search and simplify problem solving. this paper makes a distinction between the differ-
ent usee of analogy and focuses on analogical learning  where analogy is used to conjecture new knowledge about some domain. since the underlying assumption of analogical inference is that certain similarities between two domains imply stronger  relational similarities  the validity of knowledge inferred in this manner is very tenuous. this paper describes some procedures that can be used to increase confidence in the inferred knowledge. specifically  a theory of verification-based analogical learning is presented which may be used to discover and refine scientific models of the physical world. new models' predictions are compared against observed behavior  enabling the system to test the validity of the analogy and sanction refinements where the analogy is incorrect. the work also addresses another common problem in analogy  that of knowing what relations to map  by showing that the behavioral similarity of two phenomena can be used to initiate and guide the mapping process. 
   many scientific theories are postulated as qualitative models of physical phenomena which must be actively confirmed or refuted. this work shows how analogy may be seen as one source of creativity in discovering such models and focuses on how the results of this creativity must be carefully examined. intuitively  the theory corresponds to how one might construct a wave model of sound from prior knowledge of water wave behavior. examples are taken from an implemented system to demonstrate how the theory may be used to discover qualitative models of liquid flow and heat flow. 
1 the analogy process 
to understand the possible uses for analogy  one must first have a clear definition of analogy itself. this section serves to clarify common terminology by presenting a breakdown of the analogy process  similar to gentner  1   followed by a discussion of the different uses for analogy. 
   'this research is supported by an ibm graduate fellowship and by the office of naval research  contract no n1-k-o1 this paper represents a brief summary of work described in  falkenhainer  1 . 
access: the access stage has two purposes. first  it locates a body of prior knowledge  the base  which may be analogous to the current situation  the target . second  it should garner out those features of the base which are pertinent to the analogy. 
mapping: the mapping stage consists of finding similarities between the base and target  matching   and possibly transferring additional knowledge from the base to the target  inference . the work presented in this paper draws from gentner's  1  structure-mapping theory of analogy and uses a simulation of these principles  the structure-mapping engine  sme   falkenhainer  et al  1 . mappings constructed by sme consist of the set of base/target correspondences and a potentially empty set of analogical inferences - relations that augment the target description by transferring knowledge from the base. sme is guided by a set of match constructor rules that specify what items may plausibly match  providing a useful programability option. 
evaluation and use: once the correspondences have been found  the quality of the match and its consistency with general domain knowledge should be evaluated before using the proposed analogy. the uses for analogy are discussed in the following section. 
1 using an analogy 
analogy matches a base description with a target description of varying levels of completeness. when the target is complete  analogy indicates where the correspondences are and has no predictive power. when the target lacks certain relations  analogical inference may occur; relations which hold in the base but are not known to hold in the target are mapped into the target domain. borrowing from indurkhya  1   we may formally define two types of analogical inference: 
definition: a set of analogical inferences are strongly coherent if every sentence being mapped is logically entailed by the target. the inferences are weakly coherent if they are merely consistent with the target  rather than entailed by it.1 
thus  some analogical inferences may be seen as knowledge which exists for the target domain  yet is not explicitly stated  i.e.  search would be required to retrieve it . other analogical inferences represent new 
  knowledge   conjectured facts about the target domain. this is an important distinction for categorising the different uses of analogy: 
analogical reasoning. analogical reasoning involves using past experiences as heuristics to guide or assist current reasoning processes  as in recommending promising search paths  e.g. carbonell  1   kedar-cabelli  1  . the classification also refers to cases in which analogy is used as a focusing mechanism  e.g.  stating an analogy to point out the salient features of the target . it also applies to case-based reasoning systems  which draw on previous instances of similar situations for guidance  e.g. kolodner et al  1; hammond  1 . here a strict definition of 
　　1 indurkhya  1  uses cohersnt and its subset  strongly coherent  to refer to the entire analogical mapping  matches plus inferences . here we add the term weakly coherent and only apply these terms to the inferences. 

1 	knowledge acquisition 

reasoning by analogy will be employed  in which analogy is used for guidance and those analogical inferences which end up being useful are strongly coherent. 
similarity-based generalisation. in analogy  one may use the similarity between two concepts found during the matching stage to form a single  generalised concept. this corresponds closely to many empirical  often called similarity-based  learning methods  some of which use pattern matching techniques to detect similarities in the structural representation of features  e.g.  hayes-roth & mcdermott  1; michalski  1 . 
analogical learning. this is a method of learning that is unique to analogy. roughly  if we know about some base situation and we encounter some target situation which is believed to be similar to the base  perhaps the additional knowledge we have about the base may also hold for the target. thus  analogical learning uses weakly coherent analogical inferences to posit new knowledge about the target domain. 
   these uses of analogy may be intermixed. for example  one may use the results of analogical learning to form a more general concept description. thus  knowledge of the solar system could be used to learn about the rutherford model of the atom. in turn  these could be used to form a general concept of central-force systems. in addition  the results of analogical reasoning processes may be stored  thus  learning  in the analytical  ebl  sense. this paper focuses on analogical learning. in analogical reasoning  the inferences are used as a heuristic device. falsely drawn inferences only mean an impact on performance rather than correctness  i.e.  they will cause backtracking . in analogical learning  the inferences are accepted as new knowledge which did not exist prior to the analogy. thus  we must be sure there are sound reasons for believing that the inferences are correct. 
   the underlying assumption of analogical inference is that surface similarity implies a stronger  relational similarity. thus  it is a tenuous form of plausible inference. accepting weakly coherent inferences requires a cautious investigation of the learned concepts. one way to ensure that they make sense is to compare the consequences of these inferences against observed physical behavior - hence  verification-based analogical learning. theories produced by analogy are evaluated by their ability to predict observed physical phenomena. 
1 a theory of model acquisition 
scientific theories are seldom constructed in a vacuum. they tend to be either refined versions of existing theories or they are transferred theories of similar phenomena. this work addresses both type* of theory construction  using analogical inference as the  inventive  mechanism. knowledge refinement techniques model the incremental 
stage of theory construction. by contrast  discovery techniques enable the construction of  first-pass  theories of the world. analogy offers a method for making large leaps in current knowledge. it allows a reasoning system to come up with an initial theory for some domain which knowledge refinement methods may subsequently adjust. 
   in general  we know that when two bodies  one hot and one cold  are placed in contact with each other  after a period of time they will reach the same temperature. what happens between the time the two objects are placed in contact and the time the two temperatures equalise  if the notion of water flow suggests itself  we may construct a 
   model for the situation in which heat is seen  flowing  from a higher temperature to a lower temperature. using the new model shows that it accurately explains the phenomenon. this is called verifying the consistency of the model. the new theory now predicts that certain 
other events must also be able to happen  such as the bidirectionality of heat flow. we attempt to recollect a prior experience  history  demonstrating this predicted behavior or we conduct simple experiments to explore the space of hypothesized behaviors. this is called venfying the predictions of the model. if we were to extend the anal-
egy further by hypothesising that heat was itself a type of liquid  i.e.. therory of heat  a nmber additional predicational may be-

made baaed upon the intrinsic properties of liquids and physical ob-
jects. for example  conservation of matter would lead to predictions based on conservation of heat. exploring the consequences of these additional predictions is called verifying the extension of the analogy. this entire process of hypothesis formation  confirmation  refutation  and subsequent refinement is the essence of verification-based analogical learning  vbal . 
   in order to learn in this manner  we must be able to reason about scientific theories and the physical situations they describe. this work models the world in terms of qualitative physics  using for bus' qualitative process theory  forbus  1 .1 a physics reasoner  qpe  forbus  1b   is employed  which takes qualitative models and produces an envisionment for a given system that describes its possible physical states and the possible transitions between them. a single path through the envisionment  an actual behavior  is called a history. in addition  a physics interpreter  atmi  forbus  1a   is used to monitor the world and relate obserations to known or postulated theories. 
　the current implementation of vbal  called phineas  figure 1   is designed to operate as a passive observer  relating observed physical phenomena to known theories of the world. when atmi fails to adequately interpret a new event  the vbal control module is called upon to construct a potential explanation of the situation  see figure i  it interacts with sme and a knowledge refinement module to construct a new or revised model:1 
1. dynamic behavior match. first  a prior situation that appears to exhibit similar behavior is accessed and sme is used to form a match between the behavior of the current and prior situations. this analogy serves to explicitly indicate which aspects of their behavior are the same  e.g.  perhaps only some of the prior behavior's states are analogous  and establishes the object and quantity correspondences between the two domains. 
1. relevant theory retrieval. once a satisfactory experience has been retrieved  the domain theories used to explain the matched parts of the prior situation are fetched. these theories are simply a collection of the entity and process definitions that were used by atmi when it originally encountered the previous behavior. each state in the history indicates what processes were active during that state. thus  if the current history only matches a subset of the states in the old history  only the relevant process models are used. 
1. theory mapping. sme is invoked a second time to map the potentially analogous domain theory to the new domain of interest. this second analogy is generally a pure mapping of structure from one domain to another  appropriately transformed according to the object correspondences provided by the prior analogy 
　1 in qp theory  a situation is represented as a collection of objects a set f relationships between them  and a set of processes which account for all changer in ne world  eg  liquid flow . each object has a set of continuous parameters such as temperature and pressure  which are represented as symbolic quantities that have in amount and a denvative process definitions contain a set r  initial conditions 
that constriant activation and a set of relations that indicate how the active process would affect the war 
　1 the knowledge element modine iscorrectly antimiplations 
	falkenhalner 	1 

1 forming a new model 
the program now fetches the relevant domain theory which led to its prior understanding of water flow a second analogical match is performed by sme  this time between the retrieved process model for 

   at any time during the verification stages  if the model is found to be flawed  knowledge refinement would be required to make the appropriate adjustments in the model. for example  we could call upon our general physical knowledge to make  common sense  adjustments alternately  we could resort to directed experimentation to uncover the source of the discrepancy  e.g.  rajamoney  1 . finally  we could resort to analogy again  using different situations to fill in and correct the missing theory  e.g.  burstein  1 . 
   phineas' operation will now be reviewed in conjuction with an example of how the system learns a new model of heat flow by drawing an analogy with a similar water flow experience. 
1 accessing analogous behavior 
suppose the program was given time-ordered measurements of a heat flow situation in which a hot horse shoe has just been thrown into a bucket of cold water. atmi would translate this sequence into the qualitative history shown in figure 1 and attempt to explain it in terms of known theories. if the program has no knowledge of heat flow  interpretation will fail. as a result  the analogical learning module will attempt to construct a plausible explanation. first  an analogous history must be located from past experience. currently  we assume that a suitable situation has been retrieved  leaving the problem of analogical access for separate investigation.1 
   in this case  an analogous water flow history is found  a beaker and a vial attached by a pipe  and sme is invoked to match the current heat flow history to the prior water flow history this establishes which things are behaving in an analogous manner  e.g.  which ob-
ject is the source of flow and which object is the destination . the roles of the beaker water and vial water in the water flow history are found to correspond to the roles of the horse shoe and water in the heat flow history  respectively. those correspondences which provide a mapping between entities or between their quantities are stored for later reference  the correspondences shown in figure 1 . 
water flow and the current heat flow situation  producing a new model for heat flow based upon the old water flow model  figure 1 .＜ 
　the analogy at this stage is highly constrained  due to the set of entity and function correspondences established when the dynamic behaviors were matched. sme's rule-based architecture complements this activity  since the reasoning program may dynamically modify sme's match construction rules to force a match between those entities and quantities that were found to be analogous during the access stage  e.g.  pressure and temperature  and prevent any alternate matches for these items  e.g.  amount-of and temperature . 
   notice that the  analogy  here is composed almost entirely of weakly coherent inferences  since the system had no prior model of heat flow. thus  the model was constructed by analogy rather than augmented by analogy. additionally  this method shows how sme's rule-based architecture supports situations in which entity correspondences are given prior to the match  rather than derived as a result of the match. 
   in many cases  not enough information is explicitly given for the theory to properly match. in the heat flow example  we need a way of knowing what is flowing. this information is not available if the temperature change is all that is known. the domain model for water flow includes an amount-of function which corresponds to heat in the heat flow domain. however  the quantity heat never appeared in the heat flow history as an observable. without a notion of heat  the program would be forced to either map amount-of directly into the new heat flow model or postulate the existence of an unknown aspect of the objects involved which corresponds to an amount-of concept for heat flow situations. to avoid this  the world knowledge must include enough information to deduce that temperature and heat possess a relationship similar to the relationship between pressure and amount  mass . in this example  the relation function-of was used to approximate this relationship  enabling the system to match pressure to temperature and amount-of to heat. 
the results produced by sme  figure 1  contain the entity 
 *skolem* pipe . this indicates that  at the moment  the heat path is 


1 	knowledge acquisition 


a conjectured entity. further experimentation could be used to identify the actual heat path  a knowledge of paths in general could be used to indicate that immersion is a likely path  or the path could be left as a conjectured entity. this last choice correspond  closely to the period in science when a substance  called the ether  was believed to exist in order to provide a medium for the flow of light waves. in this example  phineas concludes that physical contact represents a valid path. 
1 consistency verification 
now that phineas has a new process model for heat flow  it may repeat its attempt to interpret the original situation. the heat flow process model is given to qpe and atmi compares qpe's new predictions against the original observations. since the water flow and heat flow situations are so similar  atmi finds that the new theory accurately models the heat flow situation. the program has thus verified that the theory is accurate for this and functionally similar instances of heat flow. experiments may be used to further verify the theory and the new model may be added to the set of known domain theories vbal takes weakly coherent analogical inferences and adds a new dimension of validity to them  that of empirical validity. 
1 other examples 
phineas has been used to learn different types of water flow and heat flow models  e.g.  an infinite heat source - a stove  and its knowledge representation is being extended to enable learning of oscillation models. a common problem in analogy is knowing what to map. focusing on the theory that explained the base history indicates which system of relations should be mapped  thus eliminating the need to consider irrelevant relations  e.g.  evaporation  in the water - heat analogy.  falkenhainer  1  describes an example in which a model of water flow was learned by drawing upon a two-state heat flow situation  heating up  boiling . it shows how the dynamic behavior match enabled the system to deam the boiling irrelevant to the purpose of the analogy 
   the examples described above consist of ideal situations; that is  the recalled behavior and corresponding theory were sufficiently similar to analogously explain the observed behavior. since this will often not be the case  any general theory of analogical learning must include a theory of model refinement. see  falkenhainer  1  for a discussion of refinement in the context of vbal and how analogy may serve to focus the refinement process. 
1 discussion 
analogy has been shown to be a useful  inventive  mechanism  enabling a reasoning system to construct initial theories of some domain which knowledge refinement methods may subsequently adjust. the current implementation opens the door for a variety of future report h directions. for example  the various access mechanism.- urrently being investigated may now be installed and evaluated in addition the system lacks a knowledge refinement module and so is- unable to corrrectly process the non-ideal situations requiring modification works. in progress to construct a suitable refinement module. this will allow direct testing of the utility of different refinement schemes in the context of analogy. we would also like to test different and more complex domain models to explore the limits of analogy as a learning device. 
　a key issue in analogical learning concerns the tenuous nature of the inferences made. given that two domains appear to be similar in a number of ways  how valid are the conjectures made by the matching module about the target domain  one way to ensure they make sense is to compare the consequences of these inferences against observed physical behavior  that is  to establish their empirical validity. similaritybased and explanation-based techniques produce learned concepts that are guaranteed to be correct for the examples used to generate them. in analogical learning  explicit verification and refinement are required in order to learn anything  yet alone refine past knowledge. 
　this paper has stressed a number of points. first  when discussing analogy  we must draw a clear distinction between reasoning by analogy  similarity-based generalization  and analogical learning. second  in learning physical models  dynamic behavior may be used to initiate and guide the analogy process. third  when performing analogical learning  it is important that we ensure there is a  causal  argument for believing that surface similarities will lead to meaningful and valid inferences. in addition  we must confirm these inferences by comparing the derived theories against real world behavior. finally  it has been stressed that any model of analogical learning must necessarily possess a complementary model of knowledge refinement. 
acknowledgements 
i would like to thank ken forbus  dedre gentner  barry smith  janice skorstad  and steve chien for interesting and educational discussions on analogy and helpful comments on prior drafts of this paper. 

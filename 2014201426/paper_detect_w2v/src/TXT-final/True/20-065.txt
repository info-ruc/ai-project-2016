 
communicating problem solvers can cooperate in various ways  such as negotiating over task assignments  exchanging partial solutions to converge on global results  and planning interactions that help each other perform their tasks better. we introduce a new framework that supports different styles of cooperation by using partial global plana to specify effective  coordinated actions for groups of problem solvers. in this framework  problem solvers summarise their local plans into node-plant that they selectively exchange to dynamically model network activity and to develop partial global plans. however  because network and problem characteristics can change and communication channels have delays and limited capacity  problem solvers' models and partial global plans may be incomplete  out-of-date  and inconsistent. our mechanisms allow problem solvers to agree on consistent partial global plans when possible  and to locally form partial global plans that lead to satisfactory cooperation even in rapidly changing environments where complete agreement is impossible. in this paper  we describe the mechanisms  knowledge representations  and algorithms that we have developed for generating and maintaining partial global plans in a distributed system. we use experiments to illustrate how these mechanisms improve and promote cooperation in a variety of styles. 
	i. 	introduction 
communicating problem solvers can pool their resources and expertise  work in parallel on different parts of a problem to solve it faster  avoid harmful interactions such as resource conflicts or working at cross-purposes  and promote helpful interactions such as moving information to where it is most needed or tasks to where they can best be performed. the style in which the problem solving node$ should cooperate depends on problem domain 

this research was sponsored  in part  by the national science 
foundation under grant mcs-1  by the national science 
foundation under support and maintenance grant dcr-1  by the national science foundation under cer grant dcr-1  and by the defense advanced research projects agency  dod   monitored by the office of naval research under contract nr1. edmund durfee was also supported by an ibm graduate fellowship. 
and environmental characteristics  and there are a variety of styles for which different mechanisms have been developed. sometimes the nodes channel all of their information to coordinating nodes that generate and distribute multi-agent plans  cammarata et a/.  1  corkill  1  georgeff  1  konolige  1  steeb et a/.  1 . when communication is very expensive  however  nodes should work relatively independently and selectively exchange their local solutions to converge on global solutions in a functionally-accurate/cooperative  fa/c  manner  corkill  1  lesser and corkill  1 . alternatively  they may negotiate in small groups to contract out tasks in the network  davis and smith  1  smith  1 . 
     the trouble with having different mechanisms for each style of cooperation is that some distributed problem solving situations call for several styles simultaneously. for example  consider a vehicle monitoring problem where nodes track vehicles moving through an area monitored by acoustic sensors. a sample problem situation  figure 1  has four problem solving nodes  each connected to a different sensor  node i to sensor i  that supplies it with signal information at discrete times. a node tries to combine signals into tracks  which we represent as di-dj whered  is data for the track's first sensed time and dj is data for its last. when all the data is present  then from a local perspective: node 
1 plans to develop two tracks 	1 plans 
for one track i but because its sensor is faulty it will need much time to filter out noisy data; 1 plans for one track  and 1 has no local plans. from a global perspective: node 1 should first work on track d1-di1 since it has more global significance  joining the tracks of 1 and 1   and also should quickly generate and send a predictive result  like the short track ds-d1 which borders on node 1's view  to help 1 disambiguate its noisy data; 1 should expect this predictive information; 1 should take responsibility for the data that both it and 1 sense  since 1 has more data to process; and 1 should take on some tasks  either by getting data from other nodes  or by acting as network coordinator  or both. the nodes therefore need to negotiate about task assignments  exchange partial results to converge on global solutions  and plan interactions that will help each other perform their tasks better. 
     instead of developing a hybrid system that uses different mechanisms for different styles of cooperation  we have constructed a unified framework that supports all these styles through the use of partial global plana that specify how sets of nodes will act and interact. each basic style 
	durfee and leaser 	1 


the four overlapping sensors detect signal data at discrete sensed times  the dots with associated times . sensor.1 is faulty and not only generates signal data at the correct frequencies but also detects noisy signals at spurious frequencies 
figure 1: four-sensor configuration with sensed data. 
of cooperation can be viewed as using partial global plans in some way. in the multi-agent planning style  the partial global plan is the multi-agent plan  while in the contracting style each contract is a partial global plan involving a pair of nodes. the fa/c style has an general  implicit partial global plan  in the form of an organizational structure  that predisposes nodes to exchange and integrate information. within our new framework  nodes always use partial global plans to coordinate their behavior as best they can  and their style of cooperation depends on how they form  exchange  manipulate  and react to partial global plans. this framework lets nodes converge on common plans for network activity in a stable environment  where their plans do not change because of new data  failed actions  or unexpected effects of their actions . however  when network  data  and problem solving characteristics change and when communication channels have delay and limited capacity  the framework allows nodes to locally respond to new situations and to cooperate effectively even when they have inconsistent partial global plans. 
     our approach to coordination emphasizes sophisticated local control: a problem solver uses its current local view of network activities to control its own actions. therefore  although problem solvers selectively exchange information about local plans and partial global plans  each may use this information differently and asynchronously. coordination is part of each problem solver's control activities and is interleaved with problem solving. this paper describes how this view of coordination through partial global plans has been implemented and shows how the new mechanisms allow nodes to coordinate in a variety of ways. in the next section  we briefly review how the problem solvers in our experimental domain plan their local activities. in section 1  we describe the implemented mechanisms for integrating local plans into partial global plans  covering such issues as how and where local plans are sent  which nodes develop partial global plans  what information about partial global plans is exchanged  and what happens if nodes have incomplete  obsolete  or inconsistent partial global plans. in section 1  we use experimental results to evaluate the ability of the mechanisms to improve coordination and allow different styles of cooperation  and we discuss how network and problem characteristics affect how  and whether  nodes develop consistent views. finally  we summarize our approach in section 1  citing its strengths  weaknesses  and remaining open problems. 
i i . 	distributed vehicle monitoring 
the distributed vehicle monitoring testbed  dvmt  simulates a network of vehicle monitoring nodes  where each node is responsible for a portion of the sensed area and where the nodes develop partial tracks in parallel and exchange these to converge on a complete map of vehicle movements  lesser and corkill  1 . a node applies signal processing knowledge to correlate the data  attempting to recognize and eliminate errorful sensor data as it integrates the correct data into an answer map. each problem solving node has a blackboard-based architecture  erman et al.  1   with knowledge sources  kss  and blackboard levels of abstraction appropriate for vehicle monitoring. 
     each node has a planner that uses an abstract view of the problem solving state to plan sequences of actions for resolving uncertainty about the potential solutions to develop and for developing them  durfee and lesser  1  durfee and lesser  1 . the abstract view is built by clustering related data into a hierarchy of abstractions  and it allows the planner to recognize long-term problem solving goals  to track some type of vehicle through a particular region . in the sample situation  figure 1   for example  node 1 develops an abstract view indicating that two vehicles may have passed through its area and roughly where they were at each sensed time. the planner develops a plan to form a track satisfying each goal: it sketches out its long-term activities  the order it will process data ; it builds predictions about how long each of these activities will take and about their likely results; and it details a sequence of short-term actions to process the next data. the planner adds detailed actions to the plan incrementally because how  and whether  it processes subsequent data can depend on the results of earlier actions and on unexpected changes to its data. thus  the node interleaves plan execution with plan generation  monitoring  and repair so that it can respond to unexpected situations. node 1's plan to form track d'1~d'1  for example  eventually fails because the kss that know about allowed vehicle movements do not give credibility to hypotheses involving such sharp zigzagging. 

   to coordinate nodes whose plans may change at any time  we could force nodes to pursue their plans no matter what happens: nodes that commit to plans are much more predictable  fikes  1 . unfortunately  they are also unresponsive to changing circumstances. but nodes with the flexibility to respond to unexpected situations risk disrupting coordination when they take unpredictable actions that can lead them into interfering with each other or ignoring important tasks because they falsely assume other nodes are doing them. what we need are mechanisms that allow nodes to exchange useful information about their views and to use whatever local information they have to find the best balance between predictability and responsiveness. 
	iii. 	implementation 
to model each other and modify their local plans based on their perceived opportunities for cooperation  nodes must integrate and reason about large amounts of information. implementing the concept of coordination through partial global plans is thus a difficult task  and this section describes important issues and algorithms we have identified. 
a. 	network models 
to locally plan actions that help overall network problem solving  a node needs a dynamic model of network activity  figure 1 . the node has local plans based on its own knowledge and local view  from the clusters of its abstraction hierarchy . for example  node 1 in figure 1 will have two local plans  and the one to form the track is outlined in figure 1. the node's planner summarizes each of its local plans into a node-plan that specifies the goals of the plan  the long-term order of the planned activities  and an estimate of how long each activity will take  based on the time costs of the plan's past and current activities . the planner uses this information to generate the node-plan's activity-map: a series of activities  where each activity has a predicted starting time  ending time  and result track. the node-plan for node l's local plan to form track  for example  is outlined in figure 1. since node-plans have much less detailed information than local plans and do not point to local data structures  nodes can cheaply exchange them and can reason about each other's node-plans as they can their own. thus  nodes can communicate node-plans to build up models of each other  corkill  1  georgeff  1  konolige  1 . 
     a node's planner scans the model of the network to recognise partial-global-goals  pggs . a pgg is global in the sense that it may  but does not necessarily  encompass the local goals of several nodes  and is partial in that only part of the network might participate in it. the planner identifies pggs by comparing local goals and using simplified knowledge  in this domain  about allowable vehicle movements  to determine whether they are part of a larger goal  tracking the same vehicle . for each pgg  the planner forms a partial-global-plan  pgp  that represents the concurrent activities and intentions of all of the 
 the network model of node 1 from figure 1 it graphically depicted along with simplified views of the data structures. a local plan has pointers to local data clusters  a goal track  a region for each sensed time  and vehicle types  the long-term order for processing data  data for sensed time t  then j  etc  and the estimated cost for each  timecost pairs   and finally the specific kss to process the next data. a node-plan has the local plan's goals and longterm information  and has an activity-map  each activity has a start-time  end-time  and result-track . a pgp points to participating plans  combines their goals  interleaves their node-plans' activity-maps  and has a solutionconstruction-graph and communication predictions  for example  node 1 forms forms 
figure 1: an example of a node's network model. 
durfee and lesser 1 

nodes that are working in parallel on different parts of the same problem  to potentially solve it faster . for example  the pgp to generate the overall track   figure 1  by combining the plans of nodes 1  1  and 1 is outlined in figure 1. the planner interleaves the participating nodeplans' activity-maps to recognize the relative timing of the nodes' activities and to discover how activities might be reordered to avoid harmful interactions  such as performing redundant activities  and to promote helpful interactions  such as providing predictive information sooner . 
     given a suitably ordered set of activities for the participating nodes  the planner uses this view of how nodes will act to develop expectations about how they will interact. it estimates when a node will complete a group of activities that together form a sharable result  and forms a aolution-construction-graph that indicates how and where results should be integrated. for example  in the situation of figure 1  node  and node l's track  may be combined at node 1 to form track  figure 1 . the planner uses its network model to assign integration tasks to nodes with available computation re-
 sources or suitable expertise. thus  while the activity-map provides details about how each node will form its own results  the solution-construction-graph provides a high-level view of how the nodes are pooling resources and working together. this view of node interactions helps nodes avoid wasting communication resources because they can better identify important communication actions  to send track  from node 1 to node 1 as in figure 1  for example . 
¡¡¡¡to summarize  a network model has three types of information: 
local plan: the representation of a plan maintained by a node that is pursuing the plan. contains information about the plan's objective  the order of major plan steps  how long each is expected to take  and detailed actions  kss  that have been taken or will be taken. 
node-plan: the representation of a plan that nodes communicate about. contains information about the plan's objective  the order of major plan steps  and how long each is expected to take. details about short-term actions are not represented. 
p g p : the representation of how several nodes are working toward a larger goal. contains information about the larger goal  the major plan steps that are occurring concurrently  and how the partial solutions formed by the nodes should be integrated together. 
     a pgp can be formed for any number of nodes with compatible local goals. initially  a node's pgps correspond only to its local plans  but  as information from other nodes arrives  it builds larger  more encompassing pgps. because nodes build their network models asynchronously and over time  they may be incomplete or out-of-date and cooperating nodes may have inconsistent pgps. the extent and quality of a node's network model and how it is formed depends on the meta-level organization: the communication topology  capacity  delay  and reliability; the coordination responsibilities of different nodes; the credibility that a node has in coordination information from other nodes  which determines their authority relationships ; and so on. the distributed problem solving network is therefore organized both in terms of problem solving responsibilities  the domain-level organization   corkill  1  corkill and lesser  1  and in terms of coordination responsibilities  the meta-level organization . 
     we assume in this paper that the meta-level organization is statically defined during network creation. a node sends its node-plans to those nodes specified in the organization  perhaps to a particular coordinator-node  or maybe to all other nodes so that they recognize p g p s individually  as in figure 1 where node 1 receives node-plans from 1 and 1 and forms its own pgps . when it coordinates other nodes  a node may send them pgps to guide their actions  but two nodes with equal authority may also exchange pgps to negotiate about  converge on  a consistent view of coordination. a node that receives a node-plan or pgp considers the sending node's credibility when deciding how  or whether  to incorporate the new information into its network model: it can follow a highly-rated pgp from a much trusted coordinator-node  but may disobey coordination requests if the credibility and ratings of its local information is superior. the meta-level organization therefore influences how nodes may converge on consistent views of network activity and how responsive they will be  allowing various levels of autocracy and democracy  obedience and insubordination. 
     although they often convey similar information  nodeplan and pgp messages serve different purposes. in some organizations  a node might not have authority to locally change a received pgp even if it believes the changes represent improvement. by sending its local view as a nodeplan  it might persuade a node with more authority to change the pgp  or it could persuade other low-authority nodes that they should all change their pgps together  in a kind of  grass-roots  movement . pgp messages say how nodes art working together  while node-plan messages provide context for deciding how nodes might cooperate. finally  nodes could send only some of a pgp's information  leaving out the planned activities of some participants  so that recipient nodes have insufficient context to recognize and suggest improvements. this enforces consistent views and reduces computation at recipient nodes  since they blindly follow the pgp and cannot explore alternatives. 
b. 	group activity 
a pgp's activity-map interleaves the concurrent activities of the participating node-plans  and each activity has an estimation of when it begins  when it ends  what task  part of a track  it is working on  and what results  tracks  it will produce. the planner scans the activity-map to find activities that are more useful  such as activities that form important results to share  or less useful  such as activities that unnecessarily form redundant results . each activity is rated based on attributes such as its expected time costs  its expected result quality  how it will be affected 

by preceding activities  and how it will affect later activities. the planner attempts to reorder activities to move more highly-rated ones earlier in the plan. for example  node 1  figure 1  has a plan to build track d1 d1 and  since it locally has no reason to prefer certain activities over others  it chose  as the ordering  figure 1 . when the activities of nodes 1 and 1 are incorporated in the pgp  however  node l's activities are no longer equally rated: because they provide node 1 with predictive information  the activities for generating tracks neighboring node 1 are more highly rated  for example  the partial track   but because they may generate redundant results  the activities for times 1 and 1 have their ratings lowered. by rating activities in alternative orderings  the planner determines that node l's activities should be reordered to 
     to reduce planning overhead  the planner does not guarantee an optimal ordering  which would require a large search  but instead uses a less costly hill-climbing algorithm that generates a satisfactory ordering: it begins with the activity-map built from the node-plan activity-maps  which it expects each node to currently be following   and rates the activities. it then reorders the activities so that the most highly rated occur earlier  and then rates the activities in this new order. because the ratings of activities depend on their relative ordering  reordering them may reduce ratings of some activities and raise ratings of others. the sum of the ratings before and after reordering are compared: if the original ordering has a higher total  then it is used; if the new order is better  then the process repeats until no better ordering can be found. 
   the planner uses the activity-map to form the solution-construction-graph. it first identifies the earliest times that different pieces of the overall solution will be generated and at what nodes  and then determines when and where they should be integrated into a single answer. for example  after reordering the activity-map as described above for the pgp to form track   figure 1   the planner makes a solution-construction-graph specifying that tracks d1-db from node 1 and d1-d1 from node 1 should be combined at node 1  and the resulting track should be combined at node 1 with that node's track alternatively  in a slightly different network where node 1 has very good integration expertise 
 kss   the solution-construction-graph has nodes 1  1  and 1 send their tracks to 1 for integration. the planner builds the solution-construction-graph by: finding the pair of partial results that can be combined earliest  time both are at an integrating node plus an estimate of how long it will take  depending on its expertise  to combine them ; adding the combination as a new partial result; and then repeating this process until a complete result is formed. this inexpensive  iterative algorithm generates a graph that is acceptable although possibly non-optimal. 
     the solution-construction-graph improves communication decisions since a node has a more global view of where results are needed than it has with a more local view  durfee tt a/.  1b  durfee et a/.  1 . for example  it knows that track should be sent from node 1 to node 1. a node's planner can also make better local decisions by identifying whether it is or is not responsible for a particular result  and how much time it has to generate that result. in situations with multiple solutions  integration responsibilities for a solution are assigned to one node so that others can more quickly move on to other solutions. also  since two partial results cannot be integrated until they are both at the integrating node  the planner may identify cases where the node has some time to spare: it predicts that n time-units are needed to form and send the result  but that the other result will not be ready for n 1 time-units. our mechanisms allow the planner to work on important activities for other pgps  perhaps generating predictive information  during the other i time-units  treating the n + i time-units as a window in which the task to generate the result can be moved around  vere  1 . 
c. 	planning node activities 
the planner reasons about the concurrent actions of nodes and about their potential interactions to find the next problem solving action for the node to take  as shown in figure 1. it first uses any received network information  node-plans and pgps  to update the network model. it then finds the current-pgp: the pgp that specifies activities that the node should do at this time. the local plan that contributes to this pgp is updated and the next action is found. for example  if the pgp indicates that the local plan should develop data in a different order  the plan's long-term information is changed to reflect this and  if necessary  detailed short-term actions are found for the next data to process. when it is updated  the local plan may become inactive-it may not yet have data in the area where it is expected to work-so several pgps may need to be tried before one with an active plan is chosen and node problem solving can continue  figure 1  steps 1d-f . finally  any highly-rated pgps or node-plans that have been altered are sent to whatever other nodes should be informed  based on the meta-level organization . sending only highly-rated information can reduce communication costs and the number of pgps  combinations of node-plans   but may cause views to be inconsistent or important pgps to be missed. a parameter decides how highly rated information must be to be sent. when more or less complete communication would improve planning  the experimenter  and in future implementations perhaps the node itself  may alter this parameter. 
     when finding the current-pgp  the planner first updates its set of local plans based on any new data from its sensors or other nodes  figure 1  step 1a . the new data modifies the abstraction hierarchy  and the planner forms new plans for new potential solutions and modifies existing plans whose clustered information has changed. node-plans are created for any new plans and the nodeplans of modified plans are updated. the planner then updates the network model using new and updated nodeplans either formed locally or received  figure 1  step 1b . it updates the pgps of any updated node-plans and uses new node-plans to either update existing pgps  if com-
	durfee and lesser 	1 
a node's planner will: 
1. receive network information; 
1. find the next problem solving action using network model: 
 a  update local abetract view with new data; 
 b  update network model  including pgps  using changed local and received information  factoring in credibility based on source of information ; 
 c  map through the pgps whose local plans are active  for each: 
i. construct the activity-map  considering other 
pgps; 
ii. find the best reordered activity-map for the pgp; 
iii. if permitted  update the pgp and its solution-
construction-graph ; 
iv. update the affected node-plans 
 d  find the current-pgp  this node's current activity ; 
 e  find next action for node based on local plan of current-pgp; 
 f  if no next action  local plan inactive  then go to 1b  since local plans may have changed   else schedule the next action; 
1. transmit any new and modified network information. 
figure 1: the principal planning activities. 
patible  or to generate new pgps  if incompatible with all current pgps . if any pgps have been modified or created 
 as a result of changed node-plans or reception of credible pgps   the planner then checks the set of pgps  merging together any that are now compatible and separating any that are no longer compatible. for example  if the same vehicle passes through a node's area twice  then the node initially develops separate pgps for the two potential tracks. if it later receives node-plans from other nodes indicating that its two potential tracks are connected  then it merges the pgps into a single larget pgp. 
     once the network model is updated  the planner proceeds to find the current-pgp. it first finds the pgps to consider  leaving out pgps that have already failed to generate useful actions because their local plans are inactive  and orders them. it also decides what nodes to plan for- usually just the current node  but if this node is also to coordinate others it should plan for them as well. the planner then steps through the pgps from highest rated down  figure 1  step 1c   updating their activity-maps and solution-construction-graphs  until all the desired nodes are planned for or no pgps remain. for example  when the nodes it should plan for do not all participate in the same pgps  the planner must update multiple pgps until a current activity is found for each node. 
     when updating a pgp  the planner first generates a current activity-map by interleaving the activities of each of the participating plans  figure 1  step 1ci . for the local plan  the planner uses the past and predicted steps straight from the plan data structure. for non-local plans  the planner can get the activities from two potential sources: from a received node-plan  if there is one  or from the activity-map of the pgp  it may have been received from a node that had the node-plan . if the planner has information from both sources  it chooses between them using the information accompanying received node-plans and pgps specifying how current and credible the model of the plan is. if the planner has neither source  it must have received the pgp  it could not have formed it locally without the node-plan  with the sending node intentionally holding back information so that this node could not generate its own  possibly better  activity-map but instead must blindly follow the activity-map supplied with the pgp. 
     if it forms one  the planner checks the activity-map against any pgps that it has already planned for. a node that participates in this pgp may also be part of a previously formed pgp  and the activity-maps are compared to make sure the node is not expected to do two things at once. when there is a conflict  the node's activities in this  less highly-rated  pgp are moved to future  nonconflicting times. the planner then uses the hill-climbing algorithm previously described to reorder activities for better coordination  figure 1  step 1cii . the sum of the activity ratings for the new activity-map is multiplied by the node's credibility in its own plans  and this value is compared with the value of the previous activity-map  if any .1 if the value of the new activity-map is higher  the planner updates the pgp with the new activity-map  figure 1  step 1ciii   forms the solution-construction-graph and communication expectations  and modifies its local plans and their node-plans based on the better activities  figure 1  step 1civ . when the activity-map is improved but the credibility factors  authority relationships  do not allow the planner to change the pgp  the planner can transmit the node-plans that it believes should be modified: it assumes that if nodes with authority have the same view of these node-plans that it has  then those nodes will modify the pgp appropriately and the modified pgp will eventually be sent back to this node. 
     once all of the pgps have been updated and an action has been found for the node  the final step is to send out any important modified node-plans and pgps  as described previously  figure 1  step 1 . to make problem solving decisions based on the best  most up-to-date view of network activities  a node invokes the entire series of activities-from modifying the network model  to developing pgp activity-maps  to sending out new information- each time it needs to choose an action to take. if the node wants to conserve computational resources  it can do these activities less often at the cost of possibly making poorer control decisions. because nodes are asynchronously performing coordination activities and are interleaving these activities with problem solving  they must each balance the costs and benefits of these mechanisms. 


	iv. 	evaluation 
to evaluate the planning mechanisms  we must consider their ability to improve coordination  their ability to permit cooperation in a variety of ways  depending on the organization   and their costs  computation and communication . we have implemented the mechanisms as described in the dvmt  and here we summarize some initial empirical findings. this discussion concentrates on how well the implementation meets the goals of improving coordination and allowing cooperation in a variety of styles  and only briefly addresses the costs of these mechanisms. 
     using the situation in figure 1  which was constructed deliberately as a challenge to coordinate   we show how the new mechanisms improve network problem solving by considering three degrees of partial global planning: where no network information is exchanged  nodes have only local views ; where network information is exchanged so that nodes can rate their plans based on global significance but cannot change local plans based on this view; and where nodes can change their local plans by reordering activities. in all the experiments  the domain-level organization lets nodes exchange hypotheses so any node can potentially form solutions. the first meta-level organization that we explore is broadcast-nodes broadcast their node-plans to each other  with a simulated communication delay  and individually form pgps. although all of the data is present at the start of problem solving  nodes can have inconsistent network models because their plans change over time  for example  when node 1 receives predictive information from node 1 it reduces the predicted time needs for processing its data . the results of the experiments are summarized in table 1  experiments e1-e1. for each experiment we show the amount of time the network needed to find a solution  where each time unit corresponds to the execution of a ks  and the average plan-message traffic  node-plans and pgps  in the network. the results show that the new mechanisms can substantially reduce the solution time at the cost of increasing communication  recall that a node currently transmits every highly-rated node-plan or pgp that it modifies without regard to the significance of the modification . we have found similar results in other problem situations. 
     a broadcast organization allows inconsistencies and uncoordinated behavior because a node's view of its own plans is more up-to-date than its view of other's plans. in one problem situation  for example  two nodes that had both planned to work on the same data assumed that the other would work there and changed their plans. the messages about the changed plans incurred communication delays  so time elapsed before the nodes recognized that the one of them involved in less highly-rated pgps  as determined by their local models of network activity  should change its plan back again. in situations where their models are inconsistent  however  both or neither may change plans. a centralized meta-level organization can reduce such inconsistencies. in experiment  nodes 1 send node-plans to 1 which in turn sends pgps back. nodes 1 cannot locally modify the pgps they get from 1  so that 

they are all following consistent  received  pgps. this organization involves less communication than the broadcast but takes longer to respond to new situations  and to initially get multi-node pgps to nodes 1  because of combined communication delays to and from node 1. it still performs fairly well because the nodes are following completely consistent views. this can be compared to a  ring  organization  experiment e1   where a node sends node-plans only to its clockwise neighbor. the ring organization also uses less communication than the broadcast  but performs worse than either of the other organizations. delays in propagating network information around the ring cause nodes to have inconsistent views more often and for longer periods of time  impairing coordination. 
     our experiments indicate  not surprisingly  that the quality of coordination depends substantially on how consistent the different nodes' network models are. inconsistencies can have many causes such as communication delays and inaccurate estimates of when various pieces of the solution will be formed. when estimates are inaccurate  the communication and integration decisions may need to be modified and the changed plans communicated. so long as updated information is exchanged  nodes can in time recover from unexpected situations and once again coordinate their activities. the planner also can develop a more forgiving pgp by enlarging the duration estimates for activities  and thus providing some leeway in predicted interactions. the resulting pgp is less likely to need alteration  but also may have less crisp interactions between nodes. the balance between forming pgps that anticipate incorrect predictions versus using communication to update pgps depends on the communication resources and performance requirements. 
     developing and maintaining pgps involves computation and communication overhead. pgps substantially reduced the number of ks executions needed to solve our complex experimental situations  but  for simpler cases where nodes have little uncertainty about how to coordinate  the new mechanisms may introduce unnecessary overhead. the tradeoffs in improving problem solving at 
	durfee and lesser 	1 
the cost of increased planning overhead in a single node have been studied  durfee and lesser  1   but the evaluation becomes much more complex in a distributed system  durfee et a/.  1a  because of issues such as communication/computation tradeoffs  reliability  maintenance of consistent views  and assignment of planning responsibilities. for example  a broadcast is more costly than a centralised organization in both communication and computation  since each node forms similar pgps  but can be much more responsive and reliable  since the network does not depend on a single coordinator . 
     prescribing appropriate meta-level organizations and styles of cooperation for generic problem situations depends on the evaluation criteria considered  and is beyond the scope of this paper. what is important  however  is that our framework lets us explore different styles of cooperation using one set of mechanisms. we can have nodes pass around node-plans and plan for themselves  or send node-plans to a node that plans for everyone  in which case we can even force them to sit idle waiting for these pgps by having them give no credibility to their locally developed pgps. or we could let nodes exchange pgps so that they negotiate on a consistent global view by adopting the most highly-rated version of a pgp. nodes can also use node-plans and pgps to form contracts. a node with a particular task can generate a pgp activity-map that has the task being performed in the future at some remote nodes.1 the pgp is sent to these nodes which locally develop node-plans representing these potential future tasks. these node-plans are modified and rerated to reflect the node's view of its own activities; for example  if it may form an activity-map for the node-plan indicating that the received tasks could not be performed until much later in the future. the nodes return these node-plans to the original node  which adopts the best one and follows it by sending task information  data  to the chosen node. in essence  one node requests bids for a cooperative plan and each of the others bids on how it expects it could cooperate. the node that likes the interaction most  or dislikes it least  is awarded the task. moreover  because the returned node-plan conveys information about how the task fits into the bidding node's more global view  the originating node could use the node-plans it gets back to recognize that the task is unimportant and should not be awarded at all. 
     depending on its relative credibility in received versus locally generated pgps  a node could respond to an important local development by breaking its contract or disobeying a superior. the pgp-based framework for coordination permits different degrees of commitment for the various styles of cooperation. the nodes can be organized as predictable team-players or as locally responsive skeptics. in fact  a node with authority could elicit activity it desires from other nodes by misrepresenting itself or the network-changing its node-plans or pgps based on some 

   'the node's planner thus not only reorders activities but also finds possible reassignments that move computational load from a bottleneck node to nodes that are not participating in highly-rated pgps. making such reassignments is a complex problem for which we as yet have only primitive mechanisms. 
1 	reasoning 
local goal of how it wants the network to behave regardless of network goals. our framework therefore not only allows nodes with common goals to work as a better team  but also lets nodes with competing goals satisfy their own goals by misrepresentation   lying   and exerting authority   threats    rosenschein and genesereth  1 . 
	v. 	conclusion 
a node in a distributed problem solving network must not only solve problems in its task domain but must also plan its activities to coordinate with others. however  planning is only important insofar as it improves domain problem solving: nodes should only plan as much or as little as they need to  or are able to  depending on the problem and network characteristics. the approach that we have described is therefore not strictly a distributed planning system because nodes may solve their domain problems without ever developing an overall network plan. although our framework allows organizations where nodes can cooperatively develop and converge on a consistent distributed plan before domain problem solving begins  it emphasizes that planning usually occurs during problem solving and that nodes in an uncertain environment will build and modify their plans for network activity over time. when communication and computation resources are limited and when problem and network characteristics change rapidly  nodes simply may not be able to plan for optimal cooperation. since the purpose of the network is to solve the domain problem  nodes need not cooperate optimally so long as they cooperate well enough to form acceptable solutions. what nodes need is the flexibility and local sophistication to use whatever information they have to decide how best to cooperate at a given time. 
     in this paper we introduced a new framework that uses partial global plans to promote many different styles of cooperation. nodes build pgps by exchanging short summaries of their local plans and recognizing when a group of nodes should work together. a node can hypothesize how the cooperating nodes could best interact and modify its local actions accordingly. we outlined important issues and algorithms in implementing these mechanisms  and showed experimentally how these mechanisms work. 
     several avenues for further research remain. nodes should be able to alter their meta-level organization: they need to exchange and reason about pertinent information to find a suitable style of cooperation for their current situation. nodes also should use computation and communication resources effectively by selectively transmitting only plan information that will significantly impact network behavior and by selectively applying planning mechanisms to maximise the improvement in problem solving while minimizing the overhead costs. finally  since nodes cooperate in so many different styles in this framework  we should try to develop some rules-of-thumb about how nodes should cooperate for generic problem situations. 

     although our mechanisms have been implemented in a specific problem domain  we believe that they are applicable to distributed problem solving systems in general. our description has stressed the basic knowledge representations and reasoning that goes on  and though the decisions about how goals and activities interact and how they fit into this representation is domain dependent  the planning and communication algorithms are not. we expect to use these mechanisms for coordinating concurrently running kss in a multiprocessor blackboard-based problem solver  and  through this paper  we hope to encourage their application in other distributed ai systems as well. 
acknowledgments 
we would like to thank reid smith for many suggestions concerning the content and presentation of this paper. 

 
since there existed no convincing theoretical explanation for the usually observed benefits of minimax search in practice  we investigated two instances of a class of tree models which are based on the concept of quiescence.  this way the strict separation or static and dynamic aspects in prac tical programs is modeled.  we performed monte carlo simulations  enhanced by analytic results. the behaviour of these models in our studies gen erally corresponds quite well to observations in practice  especially that of the model based on the more restrictive definition of quiescence . hence  we found empirical evidence for an earlier conjec ture  and these results can serve as an important step towards understanding the reason for the benefits of minimax search. 
1 introduction 
for a long time  there was universal agreement to use minimax search in programs for two-person  perfectinformation games. in fact  this approach is very successful in games like chess  checkers  or kalah. usually it shows a dramatic improvement in playing strength with increasing search depth. however  the discovery of minimax pathology  nau 1  demonstrated that in certain game trees deeper minimax search can also have detrimental effects. in the meantime several mod els have been analysed which show pathological behav iour  and several models which do not  see  kaindl 1  for a critical overview . recently   althofer 1  proved for special game trees that under certain conditions not only minimax searches fail  but also every other algorithm. however  none of these models explains convin cingly  why minimax search is this beneficial in prac tice  by showing dramatic improvements of the deci sion quality with increasing search depth  and having a convincing relationship of the assumptions and the observed phenomena with  reality  . 
   from extensive experience with computer chess practice   kaindl 1  developed an illustrative model based on an abstract concept of quiescence. in the following we sketch this and a related model  describe the design of our experiments  and present the results of our simulation studies investigating the behaviour with increasing search depth. 
1 b a c k g r o u n d 
in general  the move decision in  interesting  games is based on bounded look-ahead to artificial terminal nodes. usually  the  worth  of such nodes can only be estimated heuristically. this is normally done by a stat-
1 	search 
hermann kaindl 
marxergasse 1/1 wien austria 
ic evaluation function f n   assigning a single point value-usually ranging over an interval of integer values-to a node n.  in the following we assume that fin  represents this value from the viewpoint of the side on move in the evaluated position  which is represented by the node n.  these values are propagated towards the root of a search tree according to a back-up rule  usual ly via minimaxing. 
   definition 1. a minimax value mmf  n  of a node n can be computed recursively as follows  in the negamax framework : 

n  of n. 
   usually  the primary interest is not the minimax value of the tree itself  but rather the move to be selec ted at the root  the given position . in accordance with this back-up rule  the choice is one of what may be several moves leading to the maximum  backed-up  value of the successors. since the depth of such searches will be important for the purpose of this paper  we also define a special case of using this rule. 
   definition 1. mmfd n  is the minimax value of node n resulting from exactly d applications of the recursion  1  in definition 1 in every branch of the search tree. 
   in fact  mmfd n  defines the minimax value from a full-width search of the tree below n to uniform depth d  according to the  type a strategy  described by  shannon 1  . while this kind of look-ahead is still the usual paradigm in computer game-playing practice  f does not directly denote here the static evaluator itself  but a simple dynamic quiescence evaluator based on the static one. in this paper it is sufficient to consider f as some heuristic function which evaluates nodes with some error. 
1 	t h e concept of quiescence 
these quiescence evaluators are dynamic in the sense that they themselves perform a search-a rather selective quiescence search: for instance in chess  most programs try capture moves  searching for  relatively  quiescent positions  where the side on move cannot profitably capture . the term  quiescent  was already coined by  shannon 1   and explained using an exam ple of capture moves from the domain of chess. indepen dently  also turing derived the same concept from his considerations about chess programming-he called quiescent positions  dead   see  turing et al. 1  . due to the difficulties in controlling more elaborate quies cence searches  even now most chess programs restrict themselves to consider capture  and sometimes also checking  moves there. more sophisticated domain-specific aspects as well as a general framework for control-

ling such a quiescence search can be found in  kaindl 1a  b . 
   however abstracting from the issues of a specific game  what is the domain-independent concept of quiescence all about  generally  we would not consider a position as quiescent if its value can be changed drastically by moves or move sequences. these values are derived from the static evaluation function and/or the back-up rule.  capture moves in chess significantly change the static values assigned by the materially dominated evaluation functions.  based on this  
 kaindl 1  defined an abstract model of quiescence  rewritten here more formally . 
   definition 1. a node k is n-ply-quiescent i f f / k   = mmfn k . 
   this definition is already tailored towards a simpli fied environment with two-valued functions. as indi cated above  these functions usually return a wider range of values. therefore in practice  strict equality would be achieved very seldom  and a relaxation  for example  in the sense of  small difference  would be more realistic. moreover  it only relates the values of the nodes at a certain constant distance of a given node with its own value. while this has been considered suf ficient for illustrative purposes  a more restrictive defi nition may provide a more realistic model  e.g. one re quiring stability up to a certain depth. 
   definition 1. a node k is uo-to-n-ply-quiescent iff k is i-ply-quiescent for all i e  {l..n . 
1 	t r e e models based on quiescence 
the question to be answered is  why deeper and deeper minimax searches usually achieve better and better results in practice. while this may seem intuitively  clear  at first glance when considering a concrete domain like chess  up to now a convincing explanation based on a general model has not been given. the key question for this can be stated using ken thompson's words:1   what is it in the tree   
   we are rather convinced now that the central con cept for such an explanation is quiescence. based on it  the following criteria specify tree models with simplified properties  which should nevertheless capture what is important for strongly beneficial behaviour of minimax search. hence the question is  whether searches in such trees using the minimax back-up rule show such behaviour. 
   definition 1. a class of game tree models is specified by the following assumptions: 
 1  the tree structure has a uniform branching degree 
1. 
 1  true values of nodes  tv  are either win or loss. 
 1  true values have the game-theoretic relationship. 
 1  heuristic values  assigned by f  are either +1  estimating win  or -1  estimating loss . 
 1  probabilities of error e+ and e- are defined as follows  k being a node : 

 1  for all nodes / that are quiescent and for all nodes m that are not quiescent the following conditions hold: 

1  private communication of the second author with ken 
thompson in san francisco  october  1 
 1  the number of nodes that are quiescent is small compared to the number of nodes that are not quiescent. 
   substituting  n-ply-quiescent  for  quiescent  here results in the model presented in  kaindl 1   using '' up-to-n-ply-quiescent' yields a related model. both of these model instances have been investigated to study also the influence of the respective definition of quiescence. 
   in order to make studying the behaviour of these models feasible at all  they are kept as simple as possible. hence  the relationship of these assumptions to reality and their possible influence on the behaviour should be discussed. criterion  1  assumes a uniform branching of the tree  which is normally not the case in practice. however  according to  michon 1  this property as a special case of  non-inertness  even seems to further pathological behaviour  the contrary of what we are going to show . criteria  1  and  1  assume only two possible values for the true as well as the heuristic values. while especially the second of these simplifications seems strong  for instance the studies of  bratko & gams 1  and  pearl 1  show that they did not influ ence the behaviour of their models. assumption  1  dis tinguishes two different probabilities  since the analyses of  schrufer 1  and  pearl 1  indicate that this may be important for the behaviour. we will describe below whether this is also the case with our models. 
   in summary  assumptions  1  to  1  are fairly stan dard. however  assumptions  1  and  1  are new and should model  what it is in the tree   based on the concept of quiescence . assumption  1  states that the errors of statically evaluating quiescent nodes are usually smaller than those of evaluating nonquiescent ones. 
 why else are resources spent for quiescence search   assumption  1  models the current situation in domains like chess  checkers  or kalah  where at least up to now no static evaluation functions have been written that are sufficient to capture their dynamic aspects. if they were  the searches would not have to discover this much.  we have also investigated this case within our simulation studies.  
   as the parameters of the models are important for the investigations  we will enumerate them explicitly. the shape of the game tree is completely specified by the uniform branching degree 1  but also the probability p = p tv k  = win  for all nodes k may be important  see e.g.  pearl 1  . the remaining parameters characterize the properties of the static evaluation function f: the errors e+ and er have to be considered twice  once for quiescent nodes  eq+  eq-  and once for nonquiescent nodes  en+  en~ . the number n of n-ply quiescent or up-to-n-ply-quiescent is of special interest  since a relationship with the benefits of searching n plies deep has been conjectured by  kaindl 1 . at last  also the probability fraction - p k is quiescent  for all nodes k can be parametrized  determining the average fraction of the number of quiescent nodes to the total number of nodes. 
   besides specifiying the model assumptions we also have to define how the behaviour of the models shall be measured. the question is whether the errors made by the evaluation function are increased or decreased by backing up the heuristic estimates through several levels of the tree via minimaxing. hence we define the probability of the error made by the minimax value of a certain search depth in estimating the true value as follows  using the fact that in our models p tv fe  = win  + p tv *  = loss  = 1.  the quality of the move choice at the root is directly related to this error.  


1 e x p e r i m e n t design 
since we have investigated the models performing sim ulations  we had to generate game trees according to the criteria of the models. within these trees  minimax searches were performed. 
1 tree generation 
while these models have resisted formal analysis up to now  even programming the generation of game trees according to their criteria was nontrivial. hence we will sketch the most important aspects here.  the reader interested in algorithmic details is referred to  scheucher 1 .  generally  every stochastic event has been simulated by a call to a pseudo-random number generator  parametrized independently of the relative frequencies achieved earlier in the tree generation process.1  
　　due to the complex relationships between the true and the heuristic values within whole subtrees it was rather clear that the trees should be generated topdown from the root. these relationships can be viewed as constraints which have to be satisfied within the trees. and it is more convenient to propagate such con straints down the tree and to assign values satisfying them  rather than just assigning values at the bottom which have to be retracted often  since the constraints cannot be satisfied with them . similarly  it was rather clear that the trees had to be stored explicitly  as gener ating them  on the fly  while searching them seemed unrealistic due to the complex relationships. 
   also it proved useful to assign the true and the heu ristic values  simultaneously . predetermining either of them  e.g. the true values  all over the generated tree first  leads to an undesirable effect: since there are severe constraints to be satisfied for the remaining values  the probabilities of error  e+ and e- for quiescent and for nonquiescent nodes  as parametrized may differ too much from the actually achieved relative frequencies. hence  we decided to generate the tree recursively as follows. 
　　first  for some node k and its children nodes k  true values are assigned according to the game-theoretic relationship and the  probability-to-win  parameter p. they are also labelled as  quiescent  or  nonquiescent  according to the parametrized fraction  of the former . then these successors are assigned heuristic values ac cording to the probabilities of error.  in fact  some of them already may have had one attached  which is not altered here.  after that  for each of the subtrees rooted in the nodes kt the generating program tries to assign heuristic values to certain descendant nodes so as to satisfy the respective criteria  depending on the label of node kt   quiescent  or  nonquiescent   and the used definition of quiescence  1 or 1 . this process itself works recursively through these subtrees  ensuring the reauired minimax values: either one branch has to be followed  selected at random   or all the successors have to result in a predetermined value. of course  it is easier to satisfy the constraints imposed by the defini tion of n-ply-quiescence than those by up-to-n-plyquiescence. for the latter  it may happen that the proc-
1  the ones used are named nrand1 and erand1  and they are available under unix* system v. unix is a registered trademark of at&t. 
1 	search 
ess of assigning heuristic values deeper in the tree has to backtrack  since the constraints could not be satisfied. in such a case other choices are tried first at those nodes where only one branch has to result in a predetermined value. 
1 simulation runs 
after the generation of such a game tree  minimax searches were performed within this tree.  of course  backward pruning was used to avoid unnecessary 
effort; see for instance  knuth & moore 1  for a de scription of the a-b procedure.  these searches computed minimax values mmf d for all the possible depths d in such a tree.  f is characterized in such a simulated tree search by the corresponding parameters.  the goal of performing these searches was to gather data about the behaviour of the error made by the minimax value in estimating the true value  depending on the search depth. these data provided relative frequencies for ed. in gathering them  we kept records whether the root nodes of the searches were labelled  quiescent  or  nonquiescent  since we expected different behaviour of the respective errors. 
   in order to study the influence of the parameters of the models  we varied them in certain ways  which are described together with the results . we investigated mainly parameter constellations fulfilling the assumptions of the models. however   near misses -in the sense that just one assumption is not fulfilled-seemed also to be of interest in order to see whether the respective assumption is necessary for the models to show the expected behaviour. 
   in addition to the parameters of the models them selves there are also parameters for the investigations 
via simulation. the size of a generated tree is deter mined here not only by the uniform branching degree 1  but also by its depth dg. since there was a maximum of available working memory determined by the given resources  pairs of b and dg were chosen so as to result in trees just fitting into the available memory. while of course searches not only from the root of the generated tree were possible  none of them were directed into the region below  dg - n  levels from this root   n is the parameter in definition 1 or 1  respectively.  the reason is that within this region the conditions of the models cannot be guaranteed  since it contains nodes for which the property of n ply-quiescence  or up-to-n-
ply-quiescence  cannot be ensured  because correlated nodes would be outside of the generated tree . 
   another parameter for a simulation run is the seed for the pseudo-random number generator.1  for gathering data about several trees with an otherwise identical parameter constellation  this seed was varied. the simulations reported in this paper have been run over a period of about two months on a workstation  mainly overnight or on weekends. 
1 	results 
since the given parameter values  especially for proba bilities  could not always be achieved accurately within the generated trees  also due to the constraints to be satisfied   the sampling of the data was done according to the actual values in these trees  especially relative frequencies . for this reason the figures shown below plot the results of using certain parameter values out of an interval. we will discuss the results of parameter 
1  in fact  the seeds for the  instances  of erand 1 were results of calls to nrand1  which was initialized by a single seed. 
1  that at d = 1 is 1 x 1.1  however  especially the model based on n-ply-quiescence also shows certain phenomena of increasing error. first we will discuss these phenomena  and then we will analyse the influence of the various parameters of the models. 
   let us compare the relative frequencies for e1 and e1 in the model based on n-ply-quiescence. with the exception of n = 1  the error rate generally increases here from the 1-ply to the 1-ply searches. fig. 1 may illustrate this phenomenon by showing a typical case  comparable to that of fig. 1 . we cannot relate it to practice  and it is not really clear why it arises. but we can see from our data comparing both models  that its effect is related to the weaker stability provided by the definition of n-ply-quiescence. while also the model based on up-to-n-ply-quiescence shows different behaviour in this case  the error is usually reduced at d = 1 compared to that at d = 1. 
   more generally  the model based on n-ply-quiescence sometimes also leads to increases in error when going from odd to even search depths. systematically  the behaviour here is worse than that when going from even to odd depths  while the overall tendency is always towards an error reduction. fig. 1 illustrates such  oscillations  and the average behaviour  showing the straight line of least square distances . it is interesting to notice that minimaxing did also relatively better when the search depth was odd in the studies of  nau el al. 1 . up-to-n-ply-quiescence strongly dampens these oscillations  see e.g. fig. 1 . since these phenomena are not known to have occured in practice  we attribute them to artificial assumptions in the models  such as keeping n constant for every quiescent node in a tree. 
   how does an increase of the parameter n influence the behaviour of the models  as to be expected  it reduces the overall rate of improvement per ply. but it also leads to stronger oscillations  especially for n-plyquiescence  compare for instance figs. 1 and 1 . for varying values of 1  the same patterns can be observed  indicating no significant influence of this parameter on the general behaviour. however  different values of p influence the phenomena described above: when nodes k have a larger and larger probability p tv k  = win   especially larger than 1   the strange phenomenon regarding 1-ply searches fades and even disappears. in much the same way the oscillations between odd and even depths are dampened by increasing values of p. 
   the influence of varying error probabilities for the static evaluation is of special interest here  since increasing errors at nonquiescent nodes  even any one of en* or en~  cause stronger improvement with increasing search depth  whereas low errors at such nodes do not even result in error reduction. there may be even a hint for the practical use of minimaxing  not to worry too much about estimating the values of nonquiescent nodes accurately. in fact  the most successful chess programs up to now do not use mechanisms  like swap-off analysis  which are attempting this for assigning static scores. the influence of these errors is stronger than that of the errors at quiescent nodes  especially it shows up  that any one of en  or en' should be large to achieve  strong  improvements . 
1  because of the way of tree generation and searching  we have more data for the shallower searches  and those of quiescent nodes are partially computed using the theorems whenever feasible  the computed values of e/ are plotted instead of relative frequencies the complete set of figures is available in  scheucher 1|  showing a much stronger variation of parame ters than is possible here due to space limitations. 

   for different error probabilities of overestimating and underestimating  e+ e~   we could not find differ ent results compared to the case of  nearly  equal robabilities. especially in contrast to the result of 
 schrufer 1   it was not necessary for e- to be negligible to avoid pathology. 
1  outside  
let us look at the effects of violating the assumptions 
 1  and  1  in definition 1  first one at a time. when some error probability at quiescent nodes becomes larger or equal to one of that at nonquiescent ones  the relative frequencies for ed are nearly independent of the search depth d  i.e. no improvements can be found.  see fig. 1  for instance.  according to theorem 1  for up -to-n-ply-quiescence the probabilities of the backedup errors at quiescent nodes become large  and strangly enough even larger than those at nonquiescent nodes. 
   what happens  when the number of quiescent nodes is not  small  compared to that of nonquiescent ones  when the fraction of the number of quiescent nodes increases  the relative frequencies for ed become already smaller at lower depths d  but they also cannot be reduced very much  see e.g. fig. 1 . this phenomenon can be related to rare cases in computer chess practice  in particular to certain chess endgames with very few possibilities for capturing pieces or promoting pawns. 
   hence  from the results of our simulation studies we can see that both these new and critical assumptions are necessary. in addition  experiments of violating them simultaneously lead to completely unrealistic effects. 
1 	r e l a t e d work 
now let us briefly compare our results with those of some of the earlier attempts to explain the benefits of minimax search observed in practice. previous work suggests that independence of the true values or inde pendence of the errors made by the static evaluation function is a necessary condition for pathology in mini maxing. note  that assuming independence instead of our critical assumptions  1  and  1   our models would be a generalization of a pathological one analysed by  pearl 1 . due to these assumptions  and our way of tree generation  we also avoid the  minimax conver gence  and the related necessity to have a specific value of the  probability-to-win  parameter p for  fair games   see e.g.  nau 1 . hence  most of the attempts to show nonpathological behaviour are based on various assumptions about  dependencies . 
nodes. but although this sibling correlation in nau's 
1 	search     nau 1  investigated  via n-games  the influence of dependencies between the true values which arise  incrementally  so that the strength or weakness of a board position tends to be roughly the same for sibling simulation was considered extremely strong by  pearl 1  p. 1   for instance table 1 in  nau 1  shows only modest improvements in decision quality with increasing search depth. these dependencies also cause the same static evaluation function to be clearly more ac curate for n-games than for the structurally equiv alent p-games  in which pathology occurs . this can be related to the more general result by  chi & nau 1  that low error rates favour minimaxing  especially versus product propagation. in order to achieve bene ficial behaviour in our models only a minority of nodes must be evaluated with low error-the quiescent ones. 
 this seems to be more realistic.  
   very similar to this  incremental  sibling relationship is the idea of  clustering  of true values investi gated by  beal 1 . in order to make a comparison feasible  we gathered data about the  clustering factor   as defined by  beal 1   in our models during the sim ulation runs.  in our models this factor cannot be con stant over all the levels of a search tree.  in the aver age  for the data at b = 1 a value of about 1 was found  at b = 1 about 1. most interestingly  compared to the data plotted in the appendix of  beal 1  this would mean error reduction in the former and error increase in the latter case. however  we could neither find such an influence on the behaviour depending on b nor one depending on the data about the  clustering factor  in our models. hence  while our assumptions obviously induce such clustering in our trees  its actual strength does not influence the behaviour critically. 
   in general  some of the earlier investigated dependencies are plausible to exist in real games  while their actual strength is not this clear . however  is the enor mous effort spent on searching deeper  because there are such dependencies  we think that the searches are performed deeper to discover dynamic aspects not incor porated in the usual static evaluation function  see also  kaindl 1  . and this is modeled here based on the concept of quiescence. the concepts introduced by these models appear to be more fundamental  in having a very plausible relationship to  reality   and in indue ing certain dependencies  for instance those denoted as  clustering . 
    pearl 1  investigated the argument that deeper searching avoids traps  in a very simplified model con sidering only actual terminal nodes  that is  mates and stalemates  at all levels of the game tree as  traps . based on practical data and experience   kaindl 1  argues that this type of trap alone does not seem to make a strong contribution to the benefits of minimax search in computer chess. in a higher sense  this  trap argument  actually served as a basis in developing the models investigated here. but they neglect pearl's type of  trap  which easily can be evaluated without error.  abramson 1  postulates instead of such  traps   but with the same consequences  that the evaluation func tion must be able to recognize more and more forced wins  evaluated without error  as search deepens  to avoid pathology. our models require neither of these strong assumptions to show beneficial behaviour of minimaxing-only a minority of nodes must be evalu ated with low error.  this distinction is insofar very important as e.g. the first model in  pearl 1  can avoid pathological behaviour only when one of the errors  e* or e~ in our notation  is equal to 1.  
1 	conclusion 
in summary  we found empirical evidence for the con jecture stated in  kaindl 1   that the benefits of minimax search usually observed in practice can be explain ed via the concept of quiescence. however  while the definition of n-ply-quiescence has been considered sufficient for illustrative purposes  the more restrictive definition of up -to-n-ply-quiescence resulted in a more realistic model. the most unrealistic issue here appears to be that n is constant all over the tree. hence  using a random variable may be an interesting idea. moreover  we investigated the  important  case  during  a game  ignoring completely the real end with actual terminal nodes. however  this can be modeled by introducing nodes which can be evaluated without error  like pearl's  traps  . while our searches have been performed to uniform depth d  quiescence searches also might be simulated within our game tree models- after all they are based on quiescence. 
acknowledgments 
we would like to thank siemens ag osterreich for supporting this research  especially by providing machine time for the simulation studies and facilities for typing this paper. wolfgang ginzel's effort in writing software for plotting the figures is great ly acknowledged. 

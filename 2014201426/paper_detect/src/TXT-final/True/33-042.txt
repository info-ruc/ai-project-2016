ion in simulation 
sarah e. goldin and philip klahr 
the rand corporation 
santa monica  california 1 

abstract 
         complex simulation programs typically require large amounts of computation to produce highly detailed output d i f f i c u l t for users to understand. building abstracted simulation systems that simplify both computation and output can make simulation both more economical and more i n t e l l i g i ble. ve describe an approach to abstracted simula* tion that uses a scenario network to represent typical sequences of events in the simulation domain. abstract simulation output is generated by probab i l i s t i c a l l y determined event-to-event transitions within the network. a learning process determines probabilities and builds up more abstract  chunked  events based on the actual frequency of event sequences in runs of the detailed simulator. the approach is generalizable across domains  and f u l f i l l s many of the goals of abstracted simulation: reducing computation  saving resources  f i l t e r i n g information and providing aggregated  intelligible 
output. 
i introduction 
         a r t i f i c i a l intelligence techniques developed over the last decade have enabled us to create complex simulations in many domains. such simulations typically include many rules that govern interactions between system entities and engage in intensive computation in order to generate their output. the complexity of these simulations can pose problems  however  in situations 
where the user is time-limited  or cannot afford the necessary computation  or is interested only in rough results. furthermore  the output of such simulations  which often consists of an agonizingly detailed trace of system events  can be d i f f i c u l t to understand at a global or intuitive level. these two considerations  economy of resources  time  cycles  and i n t e l l i g i b i l i t y   argue for the development of abstracted simulation systems. simu-
lations of reduced complexity that ignore certain interactions or collapse over some dimensions relevant in the detailed simulation. 	abstracting a detailed simulation can simplify both computation and output  providing a general picture of simulation events with a minimum expenditure of resources. 
         our interest in abstracted simulation was stimulated by our work on the ross simulation environment and our implementation of strategic air 
warfare simulator . the detailed simulator includes objects such as bombers  fighters  radars  targets and command centers. these objects interact according to heuristic rules to produce  vents such as radar detections  bombings  fighter assignments  dogfights  and so on. although ross has a graphics output capability that improves i n t e l l i g i b i l i t y   its main output is a lengthy event 
history. furthermore  its speed decreases as increasing numbers of objects are included in the simulation. hence  we have turned to abstracted simulation as a means of f u l f i l l i n g several goals: 1  filtering and aggregating output to improve i n t e l l i g i b i l i t y ; 1  allowing  quick and dirty  approximate simulations to save resources; 1  allowing the user to choose a level of detail appropriate to his or her needs. in addition  we have found that abstracted simulation provides an arena for exploring a number of interesting ai issues involving learning and knowledge representation. 
ii a scenario-based scheme for abstracted simulation 
         many alternative approaches to abstracted simulation are possible: 1  abstraction over time  e.g. by 	coalescing micro-events into more aggregated macro-events; 1  abstraction over instances  
e.g. by replacing individual objects with generic class objects; 1  abstraction over space  e.g. by combining spatial areas or schematizing spatially defined entities  such as radar ranges or routes ; 1  abstraction over procedures  e.g. by simplifying computations or caching average results as a substitute for computation  1 . in this research  we have focused on alternatives  1  and  1 . the abstracted simulation model  asm  generates event output by following a probabilistically- determined path through a scenario network that represents prototypic event sequences within the domain. the event network represents multiple levels of temporal aggregation; through interaction with the detailed simulation model  dsm   it builds abstract events by chunking together lower level events that tend to form recurring sequences in runs of the dsm. the user can then choose a level of abstraction and run the abstracted simulator as an 
independent system. 
1          the abstracted simulation process includes two phases  the learning phase  in which the asm uses dsm output to generate an i n i t i a l scenario network and build up new macroevents  and the event generation phase  in which probabilistic event-toevent transitions are used to produce an event trace similar to the dsm output. each of these phases is described in more detail below. 
	i l l 	learning phase 
         building up an abstracted simulation model begins with user specification of elementary simulation events. the set of elementary events 
derives from the output events produced by the detailed simulation model. in the ross air battle simulator  we used the event messages sent to the event reporting module to extract an elementary event set  e.g.  radar1 detects bomber1    fighter1 detects bomber1 . during the learning phase  these elementary events are connected by links indicating temporal succession to create elementary event networks . 
         once the elementary events have been specified  they must be grouped according to the roles involved in each event. 	the actors in an event 
description determine its roles. for instance  the roles associated with  radar1 detects bomber1  are radar and bomber. typically  the event trace of a detailed simulation w i l l indicate clusters of roles that interact  participate in common events  during some portion of the simulation history. for example  bombers interact with radars  with fighters and with targets  radars interact with commandcenters and with bombers  and so on. we refer to these role clusters as interaction sets. at the conclusion of the learning phase  the asm scenario network w i l l include a subnetwork corresponding to each interaction set  comprised of events that share the same roles. 
         in the learning phase  the elementary event srt is modified in response to input from the dsm. links between elementary events are created when those events occur in succession in the dsm input. probabilities for each event-to-event transition are built up by monitoring the frequency of dsm events. each event in the network keeps track of how often instances of that event occur in dsm runs; each event-to-event link keeps track of how often the two events it connects occur in succession. the ratio of link frequency to first-event frequency defines the conditional probability of transiting to the second event from the f i r s t . 

         when several events occur together with sufficient frequency  the asm chunks them to create an abstract event that represents that event sequence as a single entity  fig. 1 . 	this chunking depends on the fact that each link can also be 
viewed as a higher order event  namely   event 1 then event 1  . 	abstract events are created by linking together two pre-existing links. 	this pro-
cess of aggregation can extend upward  generating more and more general descriptions of domain events. 
         each interaction set is considered separately during the learning process. links are created and incremented within each interaction set subnetwork  but not between subnetworks. however  the asm monitors for the f i r s t event occurrence relevant to each subnetwork. when a f i r s t 
occurrence is detected  the asm attaches a constraint action to the preceding event  indicating that the preceding event activates the new subnet-
work. in the air battle domain  and  we suspect  in other domains as well   interaction sets operate in cascade. bomber/radar interactions trigger radar/command-center interactions  which trigger command-center/fighter interactions  and so on. the constraint actions associated with a triggering event represent these inter-subnet dependencies. 
         figure 1 shows a portion of the subnetwork structure build by the current version of the asm  including event transitions  abstract events  and 
constraint actions. the set of subnetworks created during the learning phase provide the basis for event generation. 

iv event generation phase 
         in the event-generation phase  the asm acts like a markov model  moving from eventestate to 
ovent-state based on the transition probabilities built up during learning. event generation begins with the activation of the f i r s t subnetwork and the starting of a simulation clock. activating a subnetwork involves setting its current state to a predefined start state and scheduling its f i r s t transition. each subnetwork makes a transition 
1 
every x clock t i c k s   where x is a subnet-specific parameter. the t r a n s i t i o n procedure p r o b a b i l i s t i c a l l y selects the next event s t a t e from the candidate set s p e c i f i e d by the network. sometimes  no linked event w i l l be chosen  and the subnet w i l l 
remain in the same event-state u n t i l the next move. as each subnet t r a n s i t s to a new e v e n t - s t a t e   it can output the name of that event  thus producing an event h i s t o r y s i m i l a r to that of the dsm. 
           the d i f f e r e n t subnetworks usually generate events independently. however  contingencies between subnets require the execution of cons t r a i n t acts associated w i t h t r i g g e r i n g events. for example  the event  radar reports detection to command-center   a part of subnet1  should not he generated u n t i l a f t e r the subnet1 event  radar detects bomber . during the learning phase  the c o n s t r a i n t action  activate subnet1  w i l l be associated w i t h the   d e t e c t i o n   event. if the subnet t r a n s i t s t o that event  i t s c o n s t r a i n t actions w i l l be executed  allowing the   r e p o r t   event to be generated by t r a n s i t i o n s in subnet1. 
           the event-generation phase of asm allows the user to select several output modes. in the sampling mode  the user selects one or two roles to follow through the network. only events i n v o l v i n g the sampled roles are reported. thus  t h i s mode f u l f i l l s a n information f i l t e r i n g f u n c t i o n . a l t e r n a t i v e l y   the user may select the s t a t i s t i c s mode  s p e c i f y i n g s t a t i s t i c s of i n t e r e s t   e . g . number of bombs dropped  and the number of each r o l e should be considered. the asm t r e a t s the p r o b a b i l i t i e s associated w i t h i n t e r - e v e n t t r a n s i t i o n s as proport i o n a l f a c t o r s   m u l t i p l y i n g p r o b a b i l i t i e s through the network u n t i l the event relevant to the s t a t i s t i c i s reached. 
　　　　　a l l discussion so far has focused at the elementary event l e v e l . however  the same procedures apply to generating events at higher levels of a b s t r a c t i o n   since the s t r u c t u r e of event objects and l i n k s is the uniform. in general  the higher the l e v e l of a b s t r a c t i o n chosen  the fewer the events in the network  and the f a s t e r the asm runs. 
	v 	evaluation and conclusions 
a. 	implementation status 
           both the d e t a i l e d and the abstracted simul a t i o n models are implemented in the ross language | 1     an o b j e c t - o r i e n t e d   message-passing language based on kahn's director   1   . the learning mode has been implemented  using elementary events from a f i r s t generation d e t a i l e d a i r b a t t l e model. the event-generation mode is in the process of implementation. meanwhile  a second generation dsm is being created. i t s more complex event s t r u c t u r e w i l l b e t t e r t e s t the power of the abstracted simu-
l a t i o n approach described here. 
!  	l i m i t a t i o n s of the asm approach 
　　　　　although the current approach seems promisi n g   it does have some l i m i t a t i o n s . 	f i r s t   no methods c u r r e n t l y e x i s t to guide the s e l e c t i o n of elementary event messages for the o r i g i n a l dsm. 	we have not defined  event  in any formal way  but have r e l i e d on i n t u i t i o n to s t r u c t u r e the simulat i o n output 	i n t o useful and manageable u n i t s . further experience w i t h t h i s approach may enable us to t r a n s l a t e these i n t u i t i o n s i n t o formal procedures for event s p e c i f i c a t i o n . 	second  asm learning c a p a b i l i t i e s are 	l i m i t e d to chunking 
together e x i s t i n g event concepts; 	it cannot d i s cover new concepts. 	however  much of human learning consists of s i m i l a r chunking processes 	| 1   . t h i r d   the asm is not as f l e x i b l y parameterized as would be d e s i r a b l e . the d e t a i l e d model allows the user to change both object parameters and rules of behavior 	. 	the asm 	trades 	f l e x i b i l i t y and modif i a b i l i t y 	for 	i n t e l l i g i b i l i t y and speed. 
c  advantages of the asm approach 
　　　　　the asm approach o f f e r s many advantages. it can be generalized to simulation in p r a c t i a l l y any domain. any d e t a i l e d simulation model can provide a set of elementary events on which the abstracted simulation can be based. furthermore  t h i s approach does f u l f i l l many of the goals of abstracted s i m u l a t i o n . it reduces computation  saves resources  allows information f i l t e r i n g   and generates aggregated  i n t e l l i g i b l e output. f i n a l l y   t h i s prototype-based scheme in many ways it p a r a l l e l s the workings of human learning and 
memory. 	based on world experience  humans b u i l d up p r o t o t y p i c event sequences that 	represent 	l i k e l y occurrences  	i . e .   	s c r i p t s or schemata | 1   . 	these event sequence representations can be considered at m u l t i p l e levels of aggregation  e . g . 	scenes  episodes  e t c . 	 1  	when asked to p r e d i c t the events that w i l l occur in a s p e c i f i c s i t u a t i o n   humans w i l l r e t r i e v e t y p i c a l events in the order they are l i k e l y to occur | 1   . 	the asm is not intended as a serious model of human memory and 
mental s i m u l a t i o n . 	however  it may have h e u r i s t i c value in i n v e s t i g a t i n g these areas  as w e l l as p r a c t i c a l value in improving simulation e f f e c t i v e ness. 

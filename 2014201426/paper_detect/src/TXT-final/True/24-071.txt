 
this paper describes a learning companion system called integration-kid in the domain of learning indefinite integration. a learning companion system is an intelligent tutoring system of a new breed. apart from the teacher  a learning companion models after an additional agent  called the learning companion. the learning companion acts as a companion for the human student in learning. thus the companion performs the learning task at about the same level as the student; and both the student and the companion exchange ideas while being presented the same material by the computer teacher. the computer companion might make mistakes  just like a human student. 
1. introduction 
intelligent tutoring systems  its   modeled after the idea of a private tutor  provide individualized instruction which offers the potential of better attention to individual student needs. this original vision remains strong today  clancey  
1 . realized as an interactive computer program  most its can be naturally conceived as a two agent model - a learning environment with a human student and a computer simulated teacher. 
   learning companion system  lcs   chan & baskin  1  1; chan  1  is a three agent model  figure 1 . in this model  the computer simulates not one  but two coexisting independent agents - a tutor and a learning companion. the additional agent added to the traditional its model forms a small society with a richer social context. the simulated learning companion may act as a competitor or as a collaborator to the student. while being challenged by the companion  the student also observes sub-optimal performance of the companion. such sub-optimal performance or misconceptions in learning are common  natural  and not limited to the human student. 
   the notion of a learning companion is related to collaborative partner and apprenticeship learning recently proposed by some its researchers. self and his colleagues 
 gilmore & self  	1; cumming & 	self  	1; 
dillenbourg & self  1  suggest that a computer may be viewed as a collaborative partner to the student  able to offer advice and suggestions about the material in the learning process  instead of being a teacher. also  a group of cognitive psychologists and its researchers  brown et al.  1; collins et al.  1; newman  1; brown  1  address that knowledge is  situated   being in part a product of the activity  context  and culture in which it is developed. in particular  they propose learning through apprenticeship-like methods. lcs is a model of its where learning is embedded in social activities of a particular simulated small society. different from the collaborative partner and the apprenticeship model  the additional agent of the learning companion allows lcs to offer a richer social context as well as to provide competition and reflection in terms of a peer's sub-optimal performance  not just collaboration by the collaborative partner or scaffolding by the teacher. common to these two models is the same emphasis on learning within a social context and the de-emphasis of the role of student model. 

	student 	companion 	teacher 
figure 1 learning companion model 
   the hypothesis of this research is: in the three agent model of learning companion system  more dimensions of learning may be achieved  higher motivation may be maintained  and better attitude of learning may be fostered  and thus  the three agent model is more educationally effective than the two agent model of traditional its. the contribution of this work is the establishment of an alternative architecture which enables realization of peer interaction and its implications into a computer-based learning environment. integration-kid has proved the feasibility of building such a system and we have noticed that it stimulates more dimensions for student's learning  e.g.  collaboration and competition  than the traditional single-teacher oriented its environment. 
   indefinite integration  at the level of a first year undergraduate  is the subject we chose to explore the design  construction  and operation of learning companion systems. 
for example    etc. integration-kid has been implemented with two man-year work using common lisp on ti explorer. 
1. psychological perspectives of peer learning 
influence of social interactions on individual cognitive development has been observed by a number of researchers. first  peers can be sources of cognitive conflict. piagct 
 1  suggests that peer exchanges  especially those that bring different viewpoints into the child's awareness  are likely to play a role in the reduction of egocentrism. second  peers can be providers of cognitive scaffolding. scaffolding involves a kind of cooperative problem solving effort by both learners. prominent among the viewpoints complementing piaget's emphasis on disequilibrium is that of vygotsky's hypothesis  1  that social interactions play a fundamental role in shaping internal cognitive structures. third  peers could be arousers of motivation which enhances a student's achievement-striving behavior. in particular  revealing strengths and weaknesses in comparison among peers can draw strong focus on students' attention and improvement. but such competition presents a number of ill effects  collins et al.  1 . in integration-kid  with teacher's emphasis on the process rather than the outcome  students will learn that sub-optimal performance is inevitable and natural in the process of learning. careful control of the performance of the learning companion and competence information to the student could avoid any decline of the student's intrinsic motivation but maintain its positive effects. 
   as an abstraction of understanding the  knowledge dynamics  in different learning environments  we may view the current knowledge of a person in a given domain as his own interpretation of the domain. this interpretation evolves from his previous interpretation as a result of learning. such a change of interpretation involves his background knowledge  historic culture  and the current learning environment. to emphasize such individual dependencies  we call a person's knowledge of the domain his own interpreted knowledge. but  such interpreted knowledge of the domain varies over time  so  at a given point of time  we say that he has acquired a version of interpreted knowledge in the domain. note that the interpreted knowledge may well consist of both correct and incorrect concepts. a version of interpreted knowledge is a higher level one than another if it articulates more knowledge  fewer misconceptions  and more flexible representation. 
   in the learning environment of a traditional its  the goal of the teacher is to try to alter the student's evolving interpreted knowledge so that it converges  figure 1a  to his own  which is a much higher level but rather static one . an important function that the teacher exercises is monitoring of the learning activities and providing support for the student so that the convergence goes effectively. 
   in the situation of learning companion system environment  while one student is looking at multiple perspectives  planning  evaluating new ideas  monitoring and assessing solutions  he is forced to unfold  examine  and defend his ideas when challenged by the other student  and in turn to keep an eye out for possible mistakes made by the other which may result in defeating a proposed idea. such a process of mutual justification may not easily happen in a student-teacher situation because of different social status and knowledge levels  and thus different expectations. thus  learning  in an lcs environment  is the merging  figure 1b  of two evolving versions of interpreted knowledge into the teacher's one. 
student's evolving 
versions of 
interpreted knowledge    teacher's version of interpreted knowledge 
current version 
initial version 
 a  traditional 	its 	environment 

 b  learning companion system environment 
figure 1 dynamic cognitive changes 
from this view  teaching may be regarded as the effort of altering the other's version of interpreted knowledge towards his own while learning is working the other way round. in this regard  it is quite easy to see that in the student-teacher environment  one is teaching and the other is learning. but  in the student-student interaction  both agents are teaching and learning. notice that  the level of a student's knowledge may never reach the level of the teacher's knowledge. for example  giving a problem of integral calculus to a student and to a professor of real analysis  even though they both solved the problem  we would never say that they have the same understanding of integral calculus. however  the presence of a teacher is necessary because of the imposing control on the student-student interaction; otherwise  their interpreted knowledge may not spontaneously converge to the knowledge defined by the learning goals. for young stu-
	chan 	1 
dents  this is particularly necessary for they arc not self conscious enough of their own learning. 
1. design rationale 
before conceiving the conceptual design of lcs  we have conducted some tutoring activities with a small number of human subjects for learning introductory integration. throughout the learning process  students seem to go through several stages of learning which we call the imitation stage  the developmental stage  and the integration stage. moreover  we noticed that domain knowledge structure  learning goal management  and difficulty level of problems are related concerns to be addressed at all levels in the design of integration-kid. 
   we may tell the student that the learning companion is simulated to be his classmate  or  that the learning companion is actually learning together with him. these different sayings correspond to two different approaches of implementing the knowledge of the companion - simulating skill acquisition and actual machine learning. in the first approach  performance capability of the companion is controlled by the system while in the second approach  the companion is required to be able to learn as the student does but by using the techniques of machine learning  gilmore & self  1; dillenbourg & self  1 . in both approaches  the image presented to the student must be that of a companion whose skill advances roughly in the same way as that of the student. while the machine learning approach may arouse the student's curiosity about how the companion learns and could possibly be one of the most interesting application areas of machine learning  the sophistication of the learning companion seems beyond the scope of current learning systems. in the simulation approach  the growing domain knowledge of the companion can be viewed as selective use of the knowledge preset by the system together with possible misconceptions of a typical student. in this work  we have adopted the simulation approach. in order to match a large population of students  the learning companion is simulated as a typical average student. also  to be conceptually clear in modeling the complex learning interaction  we have decided that the companion to be modeled as an independent agent  not controlled by the teacher. 
   a declared role always represents a range of expectations to others. in lcs  the student will have different expectations from the teacher and the companion. we have designed several different protocols of learning activities in different stages of learning where the role of each agent is defined. for example  in practising basic integration rules  we have adopted competition format. but in solving miscellaneous problems  the protocol responsibility sharing decomposes the problem solving process into negotiation  decision  and execution for the student and the companion. one is responsible for decision making and the other is for execution of the decision made. the one who will make decisions first suggests a plausible strategy and explains. for example  he suggests using integration by parts and specifies what is u and what is dv  then he explains how the problem is similar to the previous one. then the one who will work on the problem makes a different but plausible suggestion and explains why  if he finds one. next  the one who is responsible for making decisions decides which suggested strategy to use and the one who is responsible for execution works on the problem according to the decision. this procedure repeats until the next decision point. the roles alternate. the teacher interrupts if the learners get to nowhere. 
   integration-kid does not have a student model in the sense that there is no explicit representation of the student's knowledge. the purpose of student modeling in its is to induce a model of the student's knowledge from his observable behavior. some researchers have recently questioned the need and the possibility of building such a student model  self  1; newman  1 . in integrationkid  the companion's behavior can be viewed as a form of active student model. the companion uses a similar language to describe the problem  shares the same view and feeling  and shows sub-optimal performance in solving it which might have been a probable error by the student himself. rather than used by the teacher  it interacts explicitly with the student and reflects to the student an image close to him. 
   whether a student's response is buggy or correct  the student's response is either expected or unexpected to the system and has to be dealt with. in the early stages of learning in integration-kid  the student's expected buggy response is modeled as a part of the companion's behavior  e.g.  applying a buggy rule. when the student makes such an error  in addition to the teacher's indication and explanation  the student can compare his bug with that of the companion's. in learning advanced methods where the student and the companion interact intensively  whether a learner's move is correct or buggy is the subject of their discussion. thus  not only docs the human student make buggy moves  the computer docs also; not only is the computer responsible for discovering buggy moves  the human student is also. learning under a rich social context such as integration-kid  the system can directly tell the student that his response cannot be understood  based on their past interaction and the current problem situation. 
1. architecture and implementation 
in designing the architecture to simulate the lcs interaction within a learning episode  it is natural to represent the three agents in the system separately. each agent is a set of rules of behavior modeling the behavior of the agent. the three agents communicate via a blackboard through a simple agent scheduler. the blackboard is a collection of data representing the current situation. when an agent looks at the current situation  rules of behavior of that agent will be tested to see which one is appropriate to execute. such rules of behavior are represented as production rules. production rules exhibits some psychological validity in resembling how an agent looks and reacts to a situation. the protocols of activities are constructed with such rules of behavior. 
   behavior of the human student is driven by his own intelligence. but  for the teacher and the companion  their general communicative behavior in learning is supported by their domain knowledge. their problem solving abilities are modeled by the problem solver and are called by the action parts of the rules of behavior. this problem solving ability can be viewed as part of an agent's behavior. for the student agent  apart from those rules that interpret the student's input  there are rules that allow the student to control the system at his own pace such as referencing an old problem or the basic rules of integration. 
   the interface consists of four panes. the teacher  student  and companion panes represent the areas where each agent's utterances are displayed. the detail pane is for the student to reference some information. 
1 organization of rules of behavior 
the lcs learning activities can be described by three levels of abstraction. the global level is the curriculum level. the curriculum is the whole discourse of learning activities in a certain structure which incorporates the domain knowledge structure and learning goals into the structure of learning activities. the second level is the protocol level which organizes learning activities in a certain format  as discussed above. the last level is the episode level. an episode is a basic unit of learning activities  which usually has a beginning and an end. in short  a curriculum consists of a set of protocols  a protocol is composed by a set of episodes  and an episode is a basic unit of learning activities. 
   since the domain knowledge structure defines the learning goal hierarchy which  in turn  is the basis of the design of learning activities  we can represent the levels of abstraction by a curriculum tree structure  chan  1a . according to this structure  the whole curriculum is the root node of the tree  the protocols are the internal nodes that are above the episode nodes  the leaf nodes. rules of behavior of different agents which govern the learning activities are organized and distributed in this curriculum tree structure. that is  each node consists of a set of rules that arc related to that part of the curriculum represented by the node. two alternating phases are involved in running the system. in learning  that is  at a learning episode  rules of behavior of different agents related to that current episode node are invoked. after running the episode  then goes to the phase of scheduling. scheduling rules which are resided in the internal nodes will determine which episode node to be visited next. 
1 modeling of domain knowledge of companion and teacher 
the companion's problem solving behavior forms a basis of his interaction with other agents. first  the companion possesses certain background knowledge  such as simplification of algebraic expressions and differentiation. presumably  he has no trouble with such skill. after the teacher introduces the basic concepts and demonstrates some simple examples  the companion acquires a set of basic rules of integration. these basic rules of integration arc described as a form of term rewriting rules. term rewriting rules are simple in syntax. using a term rewriting system  we can offer a detailed explanation by showing for every step which rule to apply. 
   the set of rules is imperfect for there are incorrect and missing rules. forgetting a rule means a rule in the rule base is missing and refining a rule means replacing the rule by another rule. the set of rules is fine tuned when the companion solves problems independently with the student and reveals problems with the rules. in integration-kid  there are 1 term rewriting rules for integration  1 for differentiation  and 1 for simplification. it is a bit surprising that rules for simplification far out number the rules for the content to be learned  the rules of integration. indeed  it takes years to learn the skill of simplification before one is ready to learn integration. 
   in learning new techniques such as the substitution method  the companion acquires procedures which incorporate the basic rules and his background knowledge such as differentiation. with scaffolding by the teacher  both the companion and the student have no trouble applying these procedures. however  successful use of such techniques hinges on the right choice of a sub-expression for the integrand  a choice which is largely heuristic in nature. now  instead of generating and testing all possible candidate sub-expressions for each problem  the companion uses a set of plausible candidates as a base to hold conversation with the student via the protocol of activities. 
   for teacher  his problem solver is the same as that of the companion's  except at the outset  the set of rules of integration is complete and sound. both the teacher and the companion adopt the same list of candidates and the situation map  discuss below  but their rules of behavior that define the protocol reason differently on it. 
1 situation map - representation of problem situations 
in solving complex miscellaneous problems where almost every problem has its particular features that might not share with other problems  simply using rules of behavior to simulate such particularities may require a lot of rules for different problems as well as causing complexity in the action parts of the rules. such a difficulty seems to be an insufficiency of representing the relationship among changing problem situations by using simple data in the working memory. another concern of working on complex problems is the addition of social context to the current situation  for example  making a comment like  we are getting close.  such social context is usually situation specific to a particular problem. moreover  personal subjective feeling  speculation  or even inspiration could possibly contribute to such social texture. neither encoding such context within the rules of behavior which simulate the protocol of activities for a general set of problems nor using a simple data structure will suffice to represent such particular knowledge. 
   an explicit representation of problem situations which we call the situation map  chan  1b  is used to alleviates the difficulty of representing complex problem situations. a situation map is essentially a graph data structure. each node represents a problem solving situation and is filled with details of the particulars of that situation. a link relates two problem situations  and thus their previous interaction. 
¡¡¡¡the companion takes situation map as the blue print to choose an action for different situations. the companion will treat this representation as his expectation to react to the student's alternative suggested action. when the companion is to execute  he will compare the student's decision against this representation. thus  with a situation map  rules of behavior of the companion in the protocol 
	chan 	1 

become an interpreter of the situations represented by it during negotiation. 
   the use of a situation map have illustrated some characteristics. first  a situation map explicitly represents in an abstract way the situations in solving a particular problem so that it is general enough for different problems. as a result  the rules of behavior in an episode are significantly simplified. second  it captures many possible situations  particular details including social texture  the corresponding possible actions  as well as how all these situations relate to each other. thus  it is likely that for a particular student  the companion will only utilize partial information of this representation. finally  in running an episode  the history of the past situations of solving the problem are recorded in the representation. thus  during negotiation  the companion's decision reflects their past interaction. 
1. 	discussion 
integration-kid has been tested by a small number of individual case studies to conduct system verification and revision  but has not been fully tested or evaluated in teaching trials by human students. however  we have discovered that the students seem to be very curious about the companion's response and pay more attention to it than the teacher's. this reinforces the recent research concern and the need of further study of social context and motivation factors in the learning environment of its. 
1 	advantages 	and 	disadvantages 	of 	design approach 
our approach in designing an lcs is not limited to the domain of integration. for different domains  different curriculum tree structures and protocols of activities need to be constructed. thus  there will be different rules of behavior or scheduling rules. but the agent production systems  the scheduling facility  the utterance processing  and the screen interface design are all domain independent. for the problem solver  the term rewriting system may be extended to some other domains such as equations of chemical reactions. for other domains  one needs to build different domain problem solvers. along the implementation  we have constructed an environment for developing curriculum tree  that is  a development shell for lcs. with the use of curriculum tree architecture and situation map  we found that both the implementation time and the complexity of the system ar significantly reduced. 
   however  there are some disadvantages of our design approach. the intended broad coverage of the domain  which starts from concept introduction to complicated miscellaneous problems allows integration-kid to simulate a small complete course of integration. while this reflects the implications of peer interaction thoroughly in different stages of learning of the subject  there seems to have not enough attention been paid to peer learning interaction on complex problems. better focus may be attained if the test domain is limited to miscellaneous problems only. 
   the use of situation map in integration-kid is not comprehensive. for example  the map may cause a learner to give up the current choice and back up for another while it is still possible to carry on with the current problem state though it is inferior. however  we feel that the effort of seeking representations to capture changing problem situations and to embody social texture in a learning environment is still in an early stage. neither problem solving ability nor natural language understanding techniques in the state of art can simulate problem content particularities and various human individual intuition on problem situations. indeed  whether learning with social context or situated learning  recently advocated by researchers such as brown and collins  brown et al.  1; brown  1   is successful  depends upon such representations. 
   currently  we have modeled the learning companion as a typical average student with the assumption that the potential users of the system are students of average level. it is desirable that the companion's  level of expertise  can be dynamically adjusted to the performance of the student. 
1 limitations of lcs 
several limitations of lcs which are domain independent have been noted. first  there is a possibility that the student does not believe that the computer companion behaves as his classmate. second  the implementation of lcs is more complex than traditional its for the need to model an additional agent  the companion. third  some of the companion's mistakes might confuse the student. it is necessary to decide what kind of companion's mistakes will or will not confuse the student in order to model the companion. fourth  from a human-computer interface point of view  it is simpler for the student to interact with one agent rather than two agents. utterances on multiple panes may cause distraction and difficulty for the student to communicate with the system. finally  at different stages of learning  different protocols of activities and their implementation in lcs arc an extra burden while the two agent model of its usually uses the same format of learning activities. 
1 perspectives of lcs research 
despite of the above limitations  we believe that the lcs research will spawn a lot of studies of cognition and learning  chan & baskin  1 . in principle  it is possible to introduce a learning companion to a tutoring system on any domain. indeed  the paradigm of lcs represents a broad spectrum of its design due to the possible varieties on the number and the identities of the agents in an lcs. each of these varieties gives rise to particular cognitive issues in the student's learning. a project underway is a system of two human students who learn together through a network and the computers are simulated as an intelligent teacher who monitors the learning activities. such a distributed learning companion system will avoid the first two limitations discussed above. 
   an extrapolation of lcs research will perhaps be the indication that many computer systems should consider to maintain an explicit companion model rather than an implicit user model in order to enhance the system's human affinity to users. 

acknowledgements 
i would like to thank arthur baskin  richard dennis  howard aizenstein  and lisa chiu for their support during various stages of this research. 

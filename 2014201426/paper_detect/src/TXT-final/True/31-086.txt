 
autonomous agents working in multi-agent environments may need to cooperate in order to fulfill tasks. given a set of agents and a set of tasks which they have to satisfy  we consider situations where each task should be attached to a group of agents which will perform the task. the allocation of tasks to groups of agents is necessary when tasks cannot be performed by a single agent. it may also be useful to assign groups of agents to tasks when the group's performance is more efficient than the performance of single agents. in this paper we give an efficient solution to the problem of task allocation among autonomous agents  and suggest that the agents will form coalitions in order to perform tasks or improve the efficiency. we present a distributed algorithm with a low ratio bound and with a low computational complexity. our algorithm is an any-time algorithm  it is simple  efficient and easy to implement. 
1 	introduction 
autonomous agents working in multi-agent environments may need to cooperate in order to fulfill tasks. given a set of agents and a set of tasks which they have to satisfy  we consider situations where each task should be attached to a group of agents which will perform the task. the allocation of tasks to groups of agents is necessary when tasks cannot be performed by a single agent. it may also be useful to assign groups of agents to tasks when the group's performance is more efficient than the performance of single agents. groups of agents may have different efficiency in task performance due to differing capabilities of the members of different groups. the task allocation will be done with respect to these differences. 
¡¡the purpose of the allocation of tasks to groups of agents is to perform all of the tasks and to do so in an efficient way. we seek an algorithm that will enable such task allocation in a distributed manner  i.e.  without any central authority. an important property of any given 
¡¡*this material is based upon work supported in part by the nsf under grant no. iri-1 and the israeli science ministry grant no. 1. 
sarit kraus 
dept. of math and computer science 
   bar ilan university ramat gan  1 israel sarit bimacs.cs.biu.ac.il 
solution is a low computational complexity. therefore  in this paper we present an algorithm that will enable the agents to form groups and assign a task to each group. we call these groups coalitions. 
¡¡distributed artificial intelligence  dai  is concerned with problem solving in which several agents interact in order to achieve goals. during the past few years  several solutions to the coalition formation problem have been suggested by researchers in the field of dai. these solutions concentrate on the special case of autonomous agents in a super-additive environment    shechory and kraus  1; ketchpel  1; zlotkin and rosenschein  
1 . the solutions are given for coalition formation in multi-agent systems  mas   where each agent tries to increase its own personal utility via cooperation. most of these solutions are based on concepts from game theory. one of the main problems of coalition formation in the case of mas is how to distribute the common outcome of a coalition among its members. we intend to present a coalition formation algorithm which is appropriate for distributed problem solving  dps  cases where agents cooperate in order to increase the outcome of the system. in such cases  the disbursements to the agents are not as important as they are in mas. in addition  we do not restrict the solution to the super-additive environment. rather  we suggest a solution which is most appropriate for the non-super-additive case. 
¡¡distributed task allocation has been discussed in the context of dps systems. a well-known example of such a task allocation mechanism is the contract net protocol  cnp  smith  1 . this work discusses cases in which an agent that attempts to satisfy a task may divide it into several sub-tasks and sub-contract each subtask to another agent via a bidding mechanism. in the cnp  tasks are allocated to single agents and a procedure for task-partitioning is necessary. contrary to these cases  we solve the problem of assigning tasks to groups of agents. such a solution is necessary in cases where single agents cannot perform tasks by themselves and tasks cannot be partitioned  or the partition is computationally too complex. in the cnp the efficiency of the solution was evaluated through simulations. we provide 
   1  in a super-additive environment any combination of two groups of agents into a new group is beneficial. for details see section 1. 

a formal analysis of the complexity of our solution. 
¡¡coalition formation is an important method of cooperation in multi-agent environments. game theory describes which coalitions can form in n-person games under different settings and how the players will distribute the benefits of the cooperation among themselves  e.g.  
 neumann and morgenstern  1; rapoport  1; kraus and wilkenfeld  1; luce and raiffa  1 . game theory does not provide algorithms which agents can use in order to form coalitions. given a previously formed coalitional configuration  game theory usually concentrates on checking its stability or its fairness1. game theory rarely takes into consideration the special properties of a multi-agent environment. that is  the communication costs and limited computation time are not considered  and the solutions are not distributed. in our case  we are particularly interested in the coalition formation mechanism and how it will be distributed. we also seek a dynamic evaluation of the coalitions  where game theory usually provides a static evaluation. therefore  the game-theoretic coalition formation theories are not appropriate for the multi-agent situation with which we are concerned. 
¡¡the problem of coalition formation can be approached as a set partitioning problem  spp . set partitioning entails the partition of a set into subsets  and the set partitioning problem is finding such a partition that has a minimal cost  for details see section 1 . since coalition formation of agents results in the partition of the agents into subgroups  spp may be an appropriate way for determining which coalitions will form as a result of a coalition formation algorithm. the spp and the set covering problem  scp 1   have been dealt with widely in the context of np-hard problems  garey and johnson  1 . exact solutions and approximations to spp and scp have been proposed in the fields of operations research  combinatorial algorithms  and graph theory  garfinkel and nemhouser  1; balas and padberg  1; 1; christofides and korman  1; chvatal  1 . however  the solutions that have been proposed do not provide an appropriate solution to the problem of coalition formation among agents  due to three main deficiencies: 1  the exact and optimal solutions are solutions for nphard problems. that is  the complexity of the solution is exponential in the number of agents. such a solution cannot -be applied in cases where there are many agents in the environment  since the agents will be unable to calculate it; 1  the approximated solutions are of polynomial complexity  but they deal with a tightly restricted number of pre-defined possible subgroups of a given set. this restriction on the subgroups contradicts the fact that there are 1n subsets of a given set of size n  and therefore makes such solutions inappropriate for coalition formation among agents  unless the possible coalitions will be artificially limited; 1  all of the present solutions are centralized. that is  the solutions can be calculated and implemented only by a 
¡¡1 stability and fairness have several different definitions in the context of game theory. 
¡¡1 the scp  which is very similar to the spp  is described in section 1. 
1 	distributed al 
central agent which dominates the coalition formation process and supervises the other agents. such a case is not typical in distributed agents' environments  and is inappropriate for our case. 
¡¡in this paper we combine the combinatorial algorithmic approach and concepts from operations research with autonomous agents' methods in order to form a task allocation method that employs a coalition-formation procedure. the resulting coalitions of this procedure are beneficial for systems of agents. we will concentrate on environments which are not necessarily super-additive  conte et a/.  1; harsanyi  1 . 
¡¡we begin by illustrating the problem we intend to solve  section 1 . then  we give a brief description of the environment with which we deal in section 1. we also briefly present the basic definitions and assumptions in section 1. the algorithm is described in section 1  and its complexity is analyzed in section 1. section trends our paper with a discussion and conclusions. 
1 	illustration of the problem 
the problem we solve in this paper is that of task allocation among groups of autonomous agents in a dps system. given a set of tasks  the system as a whole has to satisfy all of the tasks  or at least seek the satisfaction of as many tasks as possible  thus maximizing its benefits. in our case there is no central authority that distributes the tasks among the agents. the agents shall reach an efficient task allocation by themselves  seeking a maximal outcome. 
¡¡an example is a transportation company1. the company supplies transportation services via a system of autonomous and automated trucks  lift trucks  cranes  boats and planes which we call agents. this system is usually constructed in a distributed manner  since every single agent may perform limited tasks by itself. the agents differ in their capabilities. that is  they differ in the type of actions that they can perform  in the size  volume and weight of goods that they can carry at one time  in the transportation speed  its costs and the method by which it is performed. there may be occasions where agents cannot perform a given transportation task by themselves. in such cases  cooperation is necessary. therefore  the agents shall form groups  and each group of agents will cooperatively fulfill a transportation task. we call such cooperating groups 'coalitions'. obviously  not every coalition can perform any given task  and among those that are able to perform a given task  the efficiency and the costs may be completely different. 
¡¡for example  suppose that a transportation task of delivering 1 flowers from new jersey to new york city has been ordered. such a task may be performed by several trucks or by a single helicopter. a lift-truck 
   transportation systems have been extensively used as examples for dps systems  e.g.   sandholm  1  . we do not intend to solve a specific transportation problem. however  we provide this example because the reader is familiar with it. more interesting examples  such as distributed car-pooling; for non-distributed car-pooling  some commercial implementations are already present  are too long for this paper. 

is necessary in both cases. however  using a helicopter in such a case will probably cost much more than using trucks and will take approximately the same length of time  due to flight constraints and regulations . therefore  the most appropriate coalition in such a case is a coalition of trucks and lift-trucks  with a size that would be appropriate for the freight size. this is because an overhead of agents in a coalition may prevent the formation of other beneficial coalitions and therefore may reduce the total outcome of the system. 
¡¡if the transportation company has many agents  a distributed task allocation mechanism may be advantageous  as discussed in section 1 . in such cases task allocation and cooperation shall be decided upon locally. however  such a company seeks the maximization of its benefits. therefore  the company shall attempt to satisfy every transportation order. this is so because such success will bring an immediate profit to the company  and will also result in a satisfied client  which is important 
for the future. since a single agent cannot always satisfy the client's order  close cooperation is necessary. for such cases  the company shall provide the agents with a simple but also efficient algorithm that will enable the formation of coalitions of agents. 
¡¡the problem of the transportation company is generalized in this paper. we provide an algorithm which enables the allocation of tasks among a system of agents via the formation of coalitions. we show that the algorithm is simple to implement  has a short run-time  hence can be used as a real-time method   and yields results which are close to the optimal results. 
1 environment description 
in order to elucidate the problem and its solution  we briefly present some general notations and definitions for concepts. we assume that agents can communicate  negotiate and make agreements  werner  1 . communications require time and effort on the part of the agents. we also assume that some resources can be transferred between agents. this ability may help the agents form 
more beneficial coalitions. 
1 	definitions 
there is a set of n agents  n = {a1 a1 .-. an} . bach agent ai has a vector of real non-negative capabilities bi -  bi .. .  blr . each capability is a property of an agent that quantifies its ability to perform a specific action. for example  in the case of the transportation company  the volume and weight that can be transported by an agent is its transportation-volume capability. in order to enable the assessment of coalitions and of taskexecution  an evaluation function shall be attached to each type of capability. such a function shall transform the capability units into monetary units. in the transportation case  this function may be the income from shipping a freight. this may be a linear function in the size of cargo. we also assume that there is a set of m independent tasks1 t = {t1  t1 ...  tm}- for 
¡¡1 the partition of a single task into subtasks is beyond the scope of this paper. however  if these subtasks are inthe satisfaction of each task tj  a vector of capabilities is necessary. 
¡¡a coalition can be defined as a group of agents that have decided to cooperate in order to achieve a common task. we assume that a coalition can work on a single task at a time  and that each agent is not a member of more than one coalition. a coalition c has a vector of capabilities   which is a sum over vectors . coalition c can perform a task t only if the vector of capabilities necessary for its fulfillment bt satisfies 
for each coalition c a value v can 
be calculated which is the joint utility that the members 
of c can reach by cooperating via coalitional activity for satisfying a specific task1. the coalitional value v is directly affected by the capabilities of the members of the coalition. recall the transportation company. given a specific transportation task  if the sum of transportationvolumes of a coalition is less than the volume necessary for the task  then the value of the coalition for this specific task is zero. if the coalitional transportation volume is much larger than necessary for satisfying the task  then the value is positive  but relatively small in comparison to the case of having the exact volume. actually  the transportation-volume is not the only capability of the agents and therefore does not affect the coalitional value exclusively. 
¡¡for reasons of convenience  we may sometimes employ the notion of coalitional cost c instead of coalitional value. this cost may be calculated as the reciprocal of the coalitional value. such a calculation attaches a low cost to a high-valued coalition and vice versa. the coalitional rationality  as described below   which leads agents to try to increase the coalitional value  likewise leads them to try to reduce the coalitional cost. 
we assume that the agents are coalitionally rational. 
they join a coalition only if they benefit as a coalition at least as much as the sum of their personal benefits outside of it 1. the agents benefit if they fulfill tasks. coalitional rationality is necessary to ensure that whenever agents form a coalition they always increase the system's common outcome  which is the sum of the coalitional outcomes. we also assume that each agent tries to maximize the common utility; among all the possibilities that an agent has  it will choose the one that will lead to the maximum common utility. however  coalitional rationality of the agents does not necessarily entail a super-additive environment. in order to emphasize the difference between the super-additive environment and the ones we deal with  we describe the super-additive environment below. 
¡¡a super-additive environment is such that the set of the possible coalitions satisfies the following rule: for 
dependent  then the algorithm that we suggest can be used recursively to allocate sub-groups of agents to the subtasks. 
   1 this notion of coalitional value is different from the notion of game theory coalitional value  since here the value depends on the coalitional configuration and on the task allocation. 1 this assumption is usually called  group rationality  in the game theory literature  harsanyi  1; rapoport  1; luce and raiffa  1 . 

reasonable n  the derived solution is not too far from the optimal one. given an algorithm with such a low ratio bound  it is very tempting to adopt it and implement it 
for the case of multi-agent coalition formation. unfortunately  this cannot be done - the algorithm provides a solution to the set covering problem  in which subgroups may overlap. such a situation is not allowed in the case of coalitions of agents; even if we do allow agents to be members of more than one coalition  i.e.  overlapping 
subgroups  there still remain other problems. these include the following: the set covering problem deals only with a small given set of subsets  and in the case of agents  the number of possible coalitions is 1n  hence  we need heuristics for reducing this number ; agents do not necessarily try to increase the common benefits of the group  or decrease the costs of the group   and may be self-motivated and try to increase their own benefits  even if such selfish behavior decreases the common benefits ; the algorithms for scp and spp are all centralized and  since we deal with autonomous agents  we seek a distributed algorithm. despite the deficiencies indicated above  we shall try to borrow some of the properties of the chvatal algorithm  thus constructing a coalition formation algorithm with a low ratio bound. 
	1 	the algorithm 
the algorithm we present below is a greedy distributed set-partitioning algorithm with a low ratio bound. it was designed for the special case of autonomous agents in an environment which is not necessarily super-additive  and that work as a dps system  i.e.  they try to act in order to increase the performance and benefits of the group as a whole . another important property of the algorithm we provide is that it is an any-time algorithm. that is  if the execution is stopped before the algorithm would have normally terminated  it still provides the agents with a solution which is better than their initial state or any other intermediate state. 
¡¡the algorithm will be constructed from three main stages  which we present in detail later : 
1. in the first stage of the algorithm the coalitional values shall be calculated. this is done because any efficient coalition formation algorithm requires information about the values of the possible coalitions  in order to be able to choose the preferred ones. 
1. the second stage of the algorithm entails an iterative greedy process through which the agents decide upon the preferred coalitions and form them. 
1. finally  the benefits of the cooperation may be disbursed among the agents. this stage is not always necessary since we deal with dps systems. however  if the disbursement of the outcome of the taskexecution is necessary  then we can provide some fair methods for doing so. 
¡¡as previously stated  the solution of the set partitioning problem in the case of autonomous agents is of an 
exponential complexity  since the number of the possible coalitions is exponential  1n . therefore  any attempt timal cost and the approximated cost. 
1 	distributed al 

to reduce the complexity of such a solution shall include a reduction of the number of permitted coalitions. this can be done via the constraints of the specific problem under investigation  e.g.  it may happen that all of the tasks must be performed by the same number of agents. if the problem itself does not provide any constraints  then the reduction can be done via heuristics. we suggest adopting the following heuristics: since communication and computation-time have costs  and the agents seek cost-reduction  they should try to avoid unnecessary communication and computational activities. therefore  small-sized coalitions shall be preferred as more economical to design than larger coalitions. this is the case since the calculations and communication operations are exponentially dependent on the numbers of members in a coalition. these heuristics will be implemented in our algorithm by presenting an integer k which will denote the highest coalitional size allowed. this restriction will turn the number of coalitions into a polynomial number in n. in the transportation case  a limitation on the size of coalitions may be even more reasonable than in the general case. here  it would be very convenient to assume that the volume of a single freight task never exceeds a given size  which is related to k  although it may sometimes be more efficient to perform the task by using a larger coalition. such a restriction affects the number of coalitions in the same way as in the case of communication and computation restrictions. more information about the properties of the tasks and the coalitional values may enable the calculation of the expectation values of the outcome of different coalitions  and improve the heuristics we employ  thus reducing the number of coalitions and the complexity of the algorithm. 
the initial coalitional state consists of n  single agents. 
the agents then begin negotiating  kreifelts and martial  
1  and  step by step  form coalitions. agents that join coalitions quit the coalition-formation process  and only the remaining single agents will continue negotiations. the reduction in the number of agents that continue negotiating reduces the computational and communication costs. at the beginning of this coalition formation process  each agent will calculate the values of coalitions in which it is a member. 
1 	distributed calculation of coalitional values 
as stated above  the first stage of the algorithm entails the calculation of the coalitional values in a distributed manner. in order to decide which coalitional values to calculate  each agent will perform the following steps: 
1. calculate all of the possible coalitions up to size k in which you are a member and form a personal list of coalitions. 
1. for each coalition in the personal list  contact each member and ask for its task-performing capabilities. 
1. inform the agent whom you have approached that you are committed to the calculation of the coalitional values of the coalitions in which you are both members. 
1. construct a personal list of agents that you have approached and avoid repeated approaches to the same agents. 
1. in case you were approached by another agent and it had committed to the calculation of the values of the common coalitions  erase all of your common coalitions from your personal list of coalitions. 
1. repeat the contacting of other agents until you have none to approach. 
at this stage  the agent has a list of coalitions for which it had committed to calculate the values. it also has all of the necessary information about the capabilities of the members of these coalitions. now  in order to calculate the values  each agent shall perform the following steps: 
1. check which capabilities are necessary for the execution of each task ti € t. compare them to the capabilities of the members of the coalition  thus finding the tasks that can be performed by the coalition. 
1. calculate the expected outcome of the tasks that can be performed by the coalition. for each task perform the following: 
  first  calculate the monetary values of all of its capabilities and sum them. 
  then  calculate the monetary values of the ca-pabilities of the coalition which are not used for the fulfillment of the task and sum them1. 
  subtract the second sum from the first. this will be the expected outcome of the task. 
1. among all of the expected outcomes  choose the maximal one. this will be the coalitional value. 
¡¡having calculated the coalitional values  the agents can proceed to the next stage of the process. 
1 	choosing coalitions 
in the second stage of the algorithm  the preferred coalitions are chosen and the coalitional configuration is gradually achieved. in order to simplify the representation of the algorithm  we denote the ratio between the cost of the coalition and the coalition's size by wi = ci | ci  | and call it the coalitional weight. at the end of the first stage of the algorithm  each agent will have calculated a list of coalitions and their values. each agent will choose the best coalition from among its list  i.e.  the coalition ci that has the smallest wi. next  each agent will announce the coalitional weight that it has chosen  and the lowest among these will be chosen by all agents. the members of the coalition that was chosen will be deleted from the list of candidates for new coalitions. in addition  any possible coalition from the lists of any agent  that includes any of the deleted agents  will be deleted from its list. 
   1 note that this calculation is done in order to reduce the value of coalitions whose capabilities do not precisely fit the capabilities necessary for task fulfillment. however  this reduction method was not tested for its quality  and other methods of such a reduction may be considered once the algorithm is implemented. 
¡¡the procedures of calculating coalitional values and will be the calculation of all of the relevant coalitions. choosing the preferred coalitions will be repeated un- this requires computation to coalitions   or until there are no more tasks to be allocated  or none of the possible coalitions is beneficial. the coalitional values shall be calculated repeatedly 
since they are affected by the coalitional configuration. this is because each value is calculated subject to the tasks that should be performed. any change in the coalitional configuration means that a task was assigned to a coalition  so this specific task no longer affects the coaliagent. since there are n agents  each agent will approach 
up to n - 1 agents. the average number of such communications is 1. however  considering the worst case  the communication complexity per agent at this stage is o n . 
¡¡the value-calculation process will proceed with the assignment of tasks to coalitions. since such an assignment is done for all tasks  it shall be done m times. the num-

calculated with reference to a task that has just been allocated must be re-calculated. all other values remain unchanged. calculations  others may happen to perform less than 
 calculations. this property of the process 
is advantageous because it occurs when there are differ-til all agents are deleted  that is  until all are assigned operations  which is of an average order per tional values which may previously have been affected ber of such operations per agent is of order by it. therefore  the coalitional values that have been however  while some agents perform value-
ences of computational capabilities among the agents. in such cases the non-equal partition of the calculations moderates the differences in the calculation-time of the agents  thus reduces the average time of calculation completion. assuming that the number of capabilities depends neither on the number of agents nor on the number of tasks  each assignment operation requires 1  operations. however  the constant here may be large. 
¡¡choosing the largest value is of the order of the number of coalitions  i.e.  computations per agent. the two processes of calculating coalitional values and choosing coalitions may proceed up to n - 1 times in the worst case  where all of the coalitions are of single agents. the average case is much smaller  but still the communication and computational complexity will be 1 n m . to summarize  the average computational complexity is of order and the communication complexity is of order 1 n ¡ö m   both for each agent. this complexity can be compared to the centralized case  where a single agent performs all of the operations. in such a case  this single agent will experience computations and 1 n  communications. therefore  the computational complexity is higher than in the average distributed case  the speed-up is of order 1 n    but the communicational complexity is lower1. 
	1 	discussion 
in this paper we presented an algorithm for task allocation among computational agents via coalition formation in a non-super-additive environment. the algorithm is suitable for cases where agents are motivated to act in order to maximize the benefits of the system as a whole. it is most appropriate for the incidents in which the agents cannot perform the tasks by themselves. however  it is also important for improving the efficiency of task execution when tasks can be performed by single agents. this may be the case when the performance of single agents is worse than their performance within groups. 
¡¡although the general task allocation problem is computationally exponential  we bring a polynomial-
¡¡1  if  for all agents  there exists a communication channel between every pair of agents  then the computational over-
head of the distributed case will not affect the performance of the algorithm. 
1 	distributed al 

complexity algorithm that yields results which are close to the optimal results and  as we have proven  are bounded by a logarithmic ratio bound. another advantage of the algorithm  which is crucial in the case of a distributed system  is the distribution of the algorithm. we distribute the calculations in a natural way. that is  the distribution is an outcome of the algorithm characteristics since each agent performs mostly those calculations that are required for its own actions during the process. in addition  our distribution method prevents most of the possibly overlapping calculations  thus saving unnecessary computational operations. 
¡¡the algorithm is an any-time algorithm. if halted before normally terminated  it still provides the system with several coalitions that have already formed. since the first coalitions to be formed are the better ones  the results  when halted  are still of good quality. the anytime property of such an algorithm is important for dynamic environments  wherein the time-period for negotiation and coalition-formation processes may be changed during the process. 
¡¡due to space limitations  we neither expand the examples nor provide the complete details of the algorithm. we also do not provide a method for distributing the outcome of the task-execution among the agents. these topics shall be presented in a full-length paper. 
¡¡to conclude  we suggest that designers of dynamic systems of distributed computational agents  wherein tasks shall be assigned to agents in order that the agents will perform them  use our algorithm in order to maximize the expected outcome of the system as a whole and to minimize the necessary run-time. 

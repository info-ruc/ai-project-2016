           learning partially observable deterministic action models                                                eyal amir                                    science department                              university illinois urbanachampaign                                       urbana il  usa                                          eyalcsuiucedu                       abstract                          paper presents approach called slaf simul                                                     taneous learning filtering exact learning ac       present ï¬rst tractable exact solution tionâ€™s effects preconditions partially observable       problem identifying actionsâ€™ effects deterministic domains approach determines set       partially observable strips domains al  possible transition relations given sequence actions       gorithms resemble version spaces logical  partial observations online updates log       filtering identify models ical formula models possible transition relations       consistent observations apply world states time step ï¬nds exactly       deterministic domains condi transition relations actions strips       tional effects inexact return false conditional effects map states        positives inefï¬cient bound                                                       algorithms polynomial time number       representation size experiments ver                                                     features number time steps        ify theoretical guarantees show                                                     cases exact complexity varies properties       learn strips actions efï¬ciently time                                                     domain example overall time learning       signiï¬cantly better approaches                                                     strips actionsâ€™ effects ot Â· cases       hmms reinforcement learning                                                     update time step takes linear time representa       inexact results especially surpris                                                     tion size bound size onk approx       ing inherent intractability                                                     imate representation kcnf formula yielding       general deterministic case results                                                     overall time ot Â· nk entire algorithm       applied autonomous agent vir       tual world facilitating decision making diag experiments verify theoretical results       nosis exploration                       show algorithms faster better qualita                                                     tively related approaches example                                                     learn strips actionsâ€™ effects domains   fea     introduction                                   tures exactly contrast work learning dynamic  autonomous agents limited prior knowledge  bayesian networks boyen et al  rein  actionsâ€™ preconditions effects ex forcement learning pomdps littman   plore new domains act intelligently inductive logic programming ilp wang                                                      approximate solution unbounded  learn actions affect world use knowl                                          edge respond goals important error deterministic domains time â„¦   goals change reason inapplicable domains larger  fea  actions instead trying world tures section  provides comparison     learning actionsâ€™ effects preconditions difï¬cult works  partially observable domains world state technical advance deterministic domains im  known completely actionsâ€™ effects mix each portant applications automatic software  hard associate change feature interfaces internet agents virtual worlds games  speciï¬c action situation surprising applications robotics humancomputer  work far limited fully observable interfaces program machine diagnosis use  mains wang  pasula et al  deterministic models approximations finally  hillclimbing em approaches unbounded er standing deterministic case better help develop  ror deterministic domains ghahramani  better results stochastic domains  boyen et al                                 following section  deï¬nes slaf precisely section  provides deductionbased exact slaf al    west    east               west    east   gorithm section  presents tractable modelupdate al   gorithms section  gives sufï¬cient conditions al                              gorithms keeping model representation compact                   â‡’   overall polynomial time section  presents  Â¬sw âˆ§ Â¬lit âˆ§ swon sâ€²  sw âˆ§ lit âˆ§     experimental results                                 sr                           sâ€™â€™r                                                                                    sâ€™r                                                                  sr                                                     Ï                                    sâ€™r Ï     slaf semantics                                      sr                   sâ€™r   deï¬ne slaf problem following formal   tools borrowing intuitions work bayesian learn figure  rooms ï¬‚ipping light switch   ing hidden markov models hmms ghahramani   slaf semantics progressing action ar    logical filtering amir russell  rows map statetransition pairs ï¬ltering     transition tuple hp ri observation crossing pairs     â€¢ ï¬nite set propositional ï¬‚uents     â€¢ âŠ† owp set world states     â€¢ ï¬nite set actions                  step  progression step  ï¬ltering     â€¢ âŠ† Ã— Ã— transition relation  world state âˆˆ subset contains assume observations observation model  propositions true state rs sâ€² means relating observations state ï¬‚uents given  state sâ€² possible result action state logical sentences ï¬‚uents performing action  goal paper ï¬nd given known denoted actions inexe  sequence actions partial observations logical cutable fail useful assume contains  sentences subset                     special boolean ï¬‚uent ok value success     transition belief state set tuples hs ri action attempted  state transition relation let  owsÃ— transition belief state Ï generalizes version spaces  Ã—  set possible transition relations wang  follows current state  let  Ã— hold transition belief known version spaceâ€™s lattice contains                                                                             state Ï âŠ† consider tuple hs ri âˆˆ Ï possible set transition relations Ï   hs ri âˆˆ Ï     example consider situation presented fig generalizes belief states transition relation  ure  rooms light bulb switch known belief state set possible states                                                         action ï¬‚ipping switch observation Ï   hs ri âˆˆ Ï read Ï restricted  east room real states world logical filtering amir russell  belief state  sâ€² shown unknown Ïƒ action equal deï¬ne     figure  demonstrates                                                        ilter Ïƒ    slaf       Ïƒ    knowledge evolves performing action swon                    âˆˆ    Ï Ï respective transition belief states Ï  know possible world states  slaf logical inference  arbitrary world states learning transition models using deï¬nition  directly  respective transition relations Ï                               sulting transition belief state action swon action intractable takes space â„¦                                                      cases instead section represent transition  swon takes state sâ€² according transition rela                                                     lief states compactly using logic  tion hsâ€² ri pair Ï  similarly takes                                                    compute slaf using general purpose logical inference  state sâ€² sâ€²â€² according transition rela                            â€²                          represent deterministic transition relation  tion takes according                                    â€²        â€²â€²       â€²                             language propositions mean  hs  ri hs  ri hs  ri pair Ï finally                                                            â€²                    ing â€œif holds hold executing aâ€  observing eliminates pair hs  ri Ï      false sâ€²                                   ag  âˆˆ action âˆˆ literal                                                     possibly negated proposition complete  deï¬nition  slaf semantics let Ï âŠ† tran term conjunction literals  sition belief state slaf Ï actions ob ï¬‚uent appears exactly sets  servations haj oj iâ‰¤jâ‰¤t deï¬ned             effects  preconditions respectively     slaf  aÏ                                 Â· Â· new propositional variables          hsâ€² ri  hs sâ€²i âˆˆ hs ri âˆˆ Ï    section  decrease number     slaf  oÏ  hs ri âˆˆ Ï  true   deï¬ne  Ï•r logical theory represents                                                                        â€²                 â€²     slaf  haj oj iiâ‰¤jâ‰¤tÏ                    Ï•r   ag âˆˆ  âˆ€hs âˆˆ  â‡’                                                                                       slaf  haj oj iijâ‰¤tslaf oislaf aiÏ Ï•r  Ï•r âˆª Â¬ag  ag âˆˆ  Ï•r                                                        intuitive properties hold representation  efï¬cient model update   Ï•r complete theory sentence learning world models easier slaf distributes  negation implied Ï•r Ï•r    logical connectives computation         Â¬f  Â¬ag  â‡”  ag  âˆˆ âˆˆ               tractable bottleneck time compute     transition belief state Ï slaf each separately section ex  ï¬ne theory ll âˆª corresponds Ï•Ï  amine distribution possible present    hsriâˆˆÏs âˆ§ Ï•r similarly theory Ï• lineartime algorithm gives exact solution   wll âˆª deï¬ne transition belief state ÏÏ•  cases weaker transition belief formula   hs ri  âˆˆ sâˆ§Ï•r  Ï• statetransition distribution properties hold slaf fol   pairs satisfy Ï• say theory Ï• transition low set theoretical considerations theorem    belief formula Ï•ÏÏ• â‰¡ Ï• note ÏÏ•Ï  Ï holds corollary  Ï• Ïˆ transition belief formulae ac     deterministic possibly conditional action tion   deï¬ne effect model time                                                      slaf   Ï•   Ïˆ    slaf   Ï•   slaf   Ïˆ                                                            âˆ¨   â‰¡          âˆ¨           teffa  lâˆˆfgâˆˆgat âˆ§ ag âˆ§ gt â‡’ lt âˆ§      slaf  aÏ• âˆ§ Ïˆ â‡’ slaf aÏ• âˆ§ slaf aÏˆ                                                  vlâˆˆf lt âˆ§ â‡’  gâˆˆgag âˆ§ gt       stronger distribution properties hold slaf                                              hold logical filtering   asserts action occurred time                                                     theorem  let Ï Ï transition belief states   use convention Ï•t result adding sub                                                     slaf  aÏ âˆ© Ï  slaf aÏ âˆ© Ï iff   script ï¬‚uent symbol Ï• ï¬rst                                  says executes time causes ilteraÏ âˆ© Ï   ilteraÏ  âˆ© ilteraÏ    holds holds time holds time   conclude following corollary theorems   second says holds aâ€™s execution   theorems amir russell                        ag holds corresponding corollary  Ï• Ïˆ transition belief formulae ac   current state parts correspond effect tion slaf aÏ•âˆ§Ïˆ â‰¡ slaf aÏ•âˆ§slaf aÏˆ   axioms explanation closure axioms used situation relation ÏÏ•ÏÏˆ following holds   calculus                                            maps states      ready zerothlevel algo  conditional effects know fails   rithm slaf slaf transition belief formula Ï• âˆ§ Ïˆ includes prime implicates   denote cnv Ï• set consequences Ï•  state known hs ri âˆˆ   vocabulary  let lt  pt âˆª vocab  ÏÏ• âˆª ÏÏˆ   ulary includes ï¬‚uents time   effect figure  presents procedure factoredslaf   propositions time apply progression computes slaf exactly conditions corol   given action current transition belief formula lary  hold consequently factoredslaf returns   Ï•t apply ï¬ltering current observations exact solution actions known                          lt     slafaÏ•t  cn     Ï•t âˆ§ âˆ§ teffa  actions conditional effects suc     slafoÏ•t  Ï•t âˆ§ ot                                                   cessfailure observed modiï¬ed factoredslaf     implement cn Ï• using consequence ï¬nd  solve problem exactly section    ing algorithms resolution vari precompute cache possible   ants simon del val  following sponses literalslaf time step   theorem shows formulaslaf algorithm cor procedure requires linear time representation size   rect exact                                                     Ï•t transition belief formula signiï¬cant   theorem  Ï• transition belief formula action improvement super exponential time taken    slaf  ahs ri âˆˆ  hs ri satisï¬es Ï•     straightforward algorithm potentially ex           hs ri âˆˆ  hs ri satisï¬es slafaÏ• ponential time taken generalpurpose consequence                                                     ï¬nding used zerothlevel slaf procedure     zerothlevel algorithm enable compact                                                                                                   â€²   representation does guarantee does theorem  stepslafa Ï• returns formula Ï•                                                                               â€²   guarantee tractable computation fact algorithm slaf oÏ•  Ï•  run literal   maintain compact representation tractable com slaf takes time stepslaf takes time oÏ•c   putation general slaf nphard logi finally assume assumptions corollary                                                              â€²   cal filtering nphard eiter gottlob   Ï• â‰¡ slaf oÏ•   deterministic actions representation closedform solution slaf   transition belief states uses polyp propositions beliefstate formula transition belief formulae                                                                               grows exponentially number time steps effect propositions ag makes procedure   starting transition belief states action literalslaf tractable allows examine   sequences                                        structure belief state formulae                                                      procedure factoredslafhai oiiiâ‰¤tÏ•          resulting clauses chosen set  gm   âˆ€i ai action oi observation Ï• transition belief formula chosen set literals  lm reason including                              aÂ¬li âˆ§ Â¬ali  choose clause                                                       gi     gi        set Ï• â† stepslafoiaiÏ•                                                                eliminate subsumed clauses Ï•         gi li speciï¬c type includes Â¬ag                                                                     Â¬l      return Ï•                                    produces ag                                                        finally formula theorem   procedure stepslafoaÏ•                               Â¬f                                                     ag  â‰¡ Â¬ag   characterizes exactly state   observation formula lp action Ï• transition fact set     belief formula                                                                              Ï• literal return oâˆ§literalslafaÏ• stronger rest entails rest      Ï•  Ï• âˆ§ Ï• return stepslafoaÏ•âˆ§step  gm complete terms set complete       slafoaÏ•                                 ï¬‚uent assignments gi satisfy Ï•      Ï•  Ï• âˆ¨ Ï• return stepslafoaÏ•âˆ¨step                                                       consequence theorem  imple       slafoaÏ•                                                     ment procedure literalslaf using equivalence   procedure literalslafaÏ•                                                                     theorem          ll âŠ†   action Ï• proposition lt negation slaf al â‰¡                lt      return cn  Ï•t âˆ§ âˆ§ teffa                          âˆ§ slaf atrue                                                       notice computation theorem  Ï•         figure  slaf using distribution âˆ§ âˆ¨  literal simple  gm complete                                                     terms lp include   theorem  beliefstate formula Ï• âˆˆ lp time                             Â¬l                       compact model representation  action ca  gâˆˆglâˆˆf ag âˆ¨ ag   gm âˆˆ                                                                                          terms invg gi  Ï•            theorem  high   num                                                     ber complete terms consequently clauses                                                             Â¬li            exponential length       slaf  aÏ•t â‰¡           âˆ¨   âˆ§ ca                                    gi             superexponential number clauses result                   llmâˆˆf                   section restrict attention strips ac     proof sketch      follow characterization tions fikes et al  provide overall polyno  offered theorem  formula     mial bound growth representation size                                                     steps time taken compute  Ï•t âˆ§ âˆ§ teffa resolve literals time  resolution guaranteed generate set conse sulting model strips class actions                             lt                    focus area ai planning  quences equivalent cn Ï•t âˆ§at âˆ§teffa                                                     execution years includes deterministic     assuming Ï•t âˆ§ teffa logically equivalent                                                   conditional executable actions  teffa tÏ•  lâˆˆfgâˆˆggÏ•ag âˆ§ gt â‡’  lt âˆ§                                    lâˆˆfgâˆˆggÏ•vlt â‡’ gt â‡’  ag follows     actions limited effect  fromv observations notice Ï•t implies domains assume action af                                                  âˆˆ  Ï• gt â‡’ ag    fects ï¬‚uents small            ag âˆ§ gt â‡’ lt antecedent does hold common assume actions strips   formula true second notice second fail knowing leaving                                          original teffa  gâˆˆggÏ•ag âˆ§ gt world unchanged assumptions allow                                             equivalent assuming Ï•    gt â‡’       progress slaf limited polynomial factor                            gâˆˆggÏ•               growth formula size     resolving literalsv time Ï•t âˆ§at âˆ§                                                       use language similar section  teffa tÏ• consider resolutions clauses                                                                               uses action propositions ag  gt term form ag âˆ§ gt â‡’ lt                                                   ing ï¬‚uent term size instead ï¬‚uent term size  clauses form lt â‡’ gt â‡’ ag each semantically al â‰¡         al       yields equivalent                                          lâˆ§âˆ§lk  lkln lâˆ§âˆ§ln                                                                                                                                  theorem  let Ï• âˆˆ lp beliefstate formula                             Â¬li     li          time strips action â‰¤ ï¬‚uents affected                        âˆ¨     âˆ§ Â¬a                                                                   gi      gi          precondition term let set terms                              gm âˆˆ                               ï¬‚uents lp consistent Ï•        Ï•  iâ‰¤m gi        lm âˆˆ                                                                                                                                                  Â¬li                                                     slaf  aÏ•t â‰¡                  âˆ¨   âˆ§ ca  eliminate literals time                              gi                                                                                                                                                 gâˆˆ  resolve sets clauses matching giâ€™s                                                                                  âˆ§  âˆ§ gk  Ï•   Ï•  iâ‰¤n gi formula encodes              lk âˆˆ                                                               proof omitted uses insights procedure aestripsslafhai oiiiâ‰¤t Ï•  case change occurs clause ai actions oi observations Ï•  fâˆˆp Ï•f ï¬‚uentfactored  theorem  subsumed clause entailed Ï•f  Â¬f âˆ¨ explf  âˆ§ âˆ¨ explvÂ¬f  âˆ§ af                                 li  slaf aÏ•t literal li  âˆˆ                                 gi                                              fâ—¦  li  lj  gi ï¬‚uent term disjunc set Ï•f â† Â¬f âˆ¨ âˆ¨ âˆ§ explf  âˆ§ âˆ¨                                                           aÂ¬f âˆ¨ afâ—¦ âˆ§ expl  âˆ§   tions second ag term equivalent                  Â¬f       formula al terms length affects    oi  observed set Ï•f â† Â¬f âˆ¨             gi        ï¬‚uents                                             rue âˆ§ âˆ¨ alse âˆ§ af âˆ§ explf     encode clauses    oi  Â¬f observed Â¬f set Ï•f â†                                                                alse      rue      expl   junction using subset extended action effect    Â¬  âˆ¨        âˆ§  âˆ¨       âˆ§ âˆ§   Â¬f                                                      eliminate subsumed clauses Ï•  fâˆˆp Ï•f   propositions ag term size                                                        return Ï•t  Ï•  onk terms onk propositions                               clause length identity  clause determined ï¬rst half set action ef figure  slaf alwaysexecutable strips  fect propositions consequently slaf aÏ•t takes     kk                           kk     Â·k  space represent using  clauses procedure aestripsslafhai oiiiâ‰¤tÏ•  length â‰¤                                                                                             turns Ï•  â‰¡  slaf  hai oiiiâ‰¤tÏ• time ot Â·                                                                 alwaysexecutable actions                    Ï•  â‰¤ ot Â·  times assume actions reason space bound end formula  executable example sequence actions does Ï•t  time step increase size  include action failures sequence chosen formula adding  new elements ï¬‚uent  knowledgeable agent human better improve implementation  observations                          time ot Â· largest number ï¬‚uents ob    use language similar sec served bound space taken Ï•t  tion  uses action propositions al improved ways op Â· log  holds executing alâ—¦ af set actions bound cnf repre  fected semantically al â‰¡   al        sentation Ï•t Ï•t similar                               lln lâˆ§âˆ§ln                                                                                                   fâ—¦        fâ—¦  aliâ—¦ â‰¡                ali                      â‡’  âˆ¨   âˆ§ âˆ¨   âˆ§          lliâˆ’liln lâˆ§lâˆ§âˆ§ln                                     assumev transitionbelief formula Ï• ï¬‚uent small bound manageable second  factored conjunction Ï•f each ï¬‚uent observed actions  Ï•f concerns ï¬‚uent actionsâ€™ effects action affects occurs know                                                    effect cnf representation Ï• takes space  Ï•f â‰¡ Â¬f âˆ¨explf âˆ§f âˆ¨explÂ¬f âˆ§af                                                                                   op Â· ak small bound useful  explf  explÂ¬f  af formulae action propositions    Â¬f       fâ—¦     possibly multiple different actions  action preconditions  format ï¬‚uentfactored intuition                                                    unfortunately simple procedure aestrips  explf explÂ¬f possible explanations  true false respectively af holds slaf figure  does provide exact solution  knowledge actionsâ€™ effects knowledge general reason action failure makes ï¬‚u  does depend fâ€™s current value example ents codependent each caused  know actions affect failure instance consider figure  assume  start exploration Ï•f  Â¬f âˆ¨ rue âˆ§ âˆ¨ add ï¬‚uent ok indicates  rue âˆ§ rue                                   action succeeds know Â¬on light    representation slaf aÏ•f       slafswonÂ¬on âˆ§ Â¬ok swon                                                    failed west room implies           fâ—¦              Â¬f   fâ—¦                         Â¬ok           Â¬sw          Â¬e  Â¬fâˆ¨a âˆ¨a  âˆ§explf âˆ§fâˆ¨a âˆ¨a  âˆ§explÂ¬f âˆ§af  sw âˆ¨ âˆ¨ aÂ¬eâˆ§Â¬swâˆ§Â¬lit âˆ¨ aÂ¬eâˆ§swâˆ§Â¬lit âˆ¨ aeâˆ§Â¬swâˆ§Â¬lit âˆ¨                                                    aÂ¬ok       theorem   similar formula holds observations          eâˆ§swâˆ§Â¬lit                                                      instead compute effect literal using    contributes simpler algorithm ae                                                    theorem  assuming exactly ï¬‚uents changed  stripsslaf present figure  computes                                                    action approximate dropping clauses  slaf ï¬‚uentfactored transition belief state                                                    ï¬‚uent ok  form sequence actions observations                                                    augment step aestripsslaf condition  theorem  let Ï• ï¬‚uentfactored transition belief succeeded oi  ok add fails  formula assume  alwaysexecutable use following formula instead set Ï•f â† Â¬f âˆ¨  strips actions  ot observation terms explf âˆ§explÂ¬okf âˆ§f âˆ¨explÂ¬f âˆ§explÂ¬okÂ¬f âˆ§af                                                     

                               logic weighted cspâˆ—             carlos ansoteguiÂ´                marÂ´Ä±a luisa bonet         jordi levy      felip manya               diei udl                         lsi upc                         iiia csic       jaume ii  lleida spain             barcelona spain          campus uab bellaterra spain                          abstract                          underlying logic wcsp deï¬ne encoding                                                        called signed encoding transforms wcsp instance      deï¬ne translation weighted csp       signed maxsat instance signed maxsat      signed maxsat complete resolutionstyle   maxsat problem multiplevalued clausal forms      calculus solving signed maxsat based     known signed cnf formulas ansÂ´otegui manya      results original exact al  references second deï¬ne complete      gorithm solving weighted csp finally resolution calculus solving signed maxsat      ï¬ne derived rules prove en devise exact algorithm solving wcsp com      force main soft arc consistency deï¬ned pleteness proof resolution calculus fourth deï¬ne      literature applied weighted csp instances sound inference rules signed maxsat en                                                        force known arc consistency properties applied    introduction                                       signed encoding binary wcsp instance                                                          structure paper follows section  contains  weighted constraint satisfaction problem wcsp preliminary deï¬nitions signed encoding section   known soft constraint framework modelling deï¬nes inference rule signed maxsat proves  constrained problems practical applications domains soundness completeness section  describes exact  resource allocation combinatorial auctions bioin algorithm solving weighted csp section  deï¬nes  formatics wcsp optimization version csp derived rules enforce soft local consistency properties  framework constraints extended associating finally section  presents conclusions work  costs tuples solving wcsp instance nphard  consists ï¬nding complete assignment minimal cost  preliminaries    global consistency wcsp algorithms bucket  elimination dechter  solve wcsp instances deï¬nition  truth value setordomain nonempty  search obtain optimal solution applying ï¬nite set iiin denotes cardinality  original instance transformations preserve cost dis sign subset âŠ† truth values signed literal  tributions hand wcsp branch bound  expression form spwheres sign  bnb based algorithms pfc freuder wallace propositional variable complement signed literal   pfcmrdac   larrosa meseguer rus  form sp denoted lissp  spasigned  sian doll search verfaillie et al macâˆ— larrosa clause disjunction signed literals signed cnf  schiex  mfdacâˆ— larrosa schiex  mula multiset signed clauses  medacâˆ—   givry et al  perform systematic search                                                        deï¬nition  assignment signed cnf formula  space possible assignments differ                                                        mapping assigns propositional variable ele  method computing lower bound each node proof                                                        ment truth value set assignment satisï¬es signed  tree prune parts search space modern al                      âˆ—        âˆ—            âˆ—           literal sp iff ip âˆˆ satisï¬es signed clause iff sat  gorithms mac  mfdac   medac    enforce                                                        isï¬es signed literals satisï¬es  extension arc consistency ac wcsp â€”soft         âˆ—                         âˆ—                    signed cnf formula Î“ iff satisï¬es clauses Î“ signed  ac ac   directional ac fdac  existential di                   âˆ—                                    cnf formula satisï¬able iff satisï¬ed  rectional ac edac â€” computing lower bound                                                        signment unsatisï¬able    paper relate ideas three different  search communities â€”multiplevalued logic satisï¬ability deï¬nition  signed maxsat problem signed  constraint processingâ€” aim describing cnf formula consists ï¬nding assignment mini                                                        mizes number falsiï¬ed signed clauses    âˆ—this research founded mec research projects  ideas tin mulog tinc deï¬nition  constraint satisfaction problem csp  sofsat tic program ramÂ´on cajal stance deï¬ned triple x cwherex                                                      ijcai                                                     xxn set variables  dxdxn                                                                                  ax  set domains containing values variables                                                                                                                          ax   ccm set constraints each                                                                                  bx  constraint ci  siri deï¬ned relation ri                                                                                                          bx  subset variables      ik  called constraint                                                                                                       scope relation ri represented extensionally                       cx                            dx   Ã—Â·Â·Â·Ã—dx                               subset cartesian product        ik                                        cx âˆ¨ ax                                                                                                                                                           cx âˆ¨ bx  deï¬nition  assignment csp instance x c                                                                                                    ax âˆ¨ cx  mapping assigns variable xi âˆˆ ele       ment vxi âˆˆ dxi assignment satisï¬es constraint                             bx âˆ¨ cx  x  âˆˆc     vx vx âˆˆr                             ik       iff          ik                                           bx âˆ¨ cx                                                                                       cx  âˆ¨ cx  deï¬nition  weighted csp wcsp instance deï¬ned                                               atriplex cwherex   variables  mains csp constraint ci deï¬ned pair  s                                      figure  wcsp instance signed encoding              ik constraint scope       dx  Ã—Â·Â·Â·Ã—dx    â†’                ik      cost functionthe                                           cost constraint induced assignment example  figure  shows wcsp instance x c                              variables       ik values    ik   signed encoding wcsp set variables          ik  optimal solution wcsp instance  xxx domains dxdxdx  complete assignment sum costs binary constraint variables  constraints minimal                               binary constraint variables xand  deï¬nition  weighted constraint satisfaction problem unary constraint variable unary costs  wcsp wcsp instance consists ï¬nding optimal picted inside small circles binary costs depicted la  solution instance                           beled edges connecting corresponding pair values                                                        label each edge corresponding cost values  deï¬nition  signed encoding wcsp  instance  x c                                             connected binary cost            signed cnf formula domain   instance optimal cost             dxi          xiâˆˆd       contains possible tu     b  âˆˆdx     Ã—  Ã— dx   ple      ik                  ik         x  âˆˆc      straint      ik             ik  copies     inference rule soundness  signed clause                                        completeness                 âˆ¨Â·Â·Â·âˆ¨b                             ik   ik                 deï¬ne resolution rule solving signed maxsat                                                        called signed maxsat resolution prove soundness    alternative encoding consider signed clauses completeness rule inspired previous works  weights instead allowing multiple copies clause larrosa heras  bonet et al  maxsat  sake clarity use unweighted clauses neverthe completeness proof signed cnf formulas techni  efï¬cient implementation algorithms proposed cally involved proof boolean cnf formu  deal weighted clauses extension las  oretical results weighted clauses straightforward                                                        deï¬nition  signed maxsat resolution rule                                      proposition  solving wcsp instance equivalent ï¬ned follows  solving signed maxsat problem signed encoding  optimal cost coincides minimal number sx âˆ¨ âˆ¨ âˆ¨                                                                   unsatisï¬ed signed clauses signed encoding    âˆ¨ âˆ¨ âˆ¨ bt                                                                                                                                   âˆ© âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ bt                                                                      proof combination values variables   âˆª âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ bt                          s   scope constraint    signed encod        sx âˆ¨ âˆ¨ âˆ¨ âˆ¨  ing contains clauses cost associated sx âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨  combination assignment signed encoding     Â·Â·Â·  stricted variables si coincides combination                                                               sx âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ btâˆ’ âˆ¨ bt  ci cost  clauses signed encoding                                                                âˆ¨ âˆ¨ âˆ¨ bt âˆ¨  introduced ci satisï¬ed clause                                                                 âˆ¨ âˆ¨ âˆ¨ bt âˆ¨ âˆ¨  bidding combination assignment signed en Â·Â·Â·  coding restricted variables si coincides com s âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨ âˆ¨         b                                                             sâˆ’     bination     ik  cost      construction signed encoding clauses inference rule applied multisets clauses           âˆ¨Â·Â·Â·âˆ¨b    form           ik  ik falsiï¬ed places premises rule conclusions  clauses introduced ci                             say rule resolves variable                                                    ijcai                                                     tautologies concluded rule like âˆ¨ multiset clauses sum scores clauses  moved resulting multiset substitute clauses contained     sxâˆ¨s xâˆ¨a    âˆª sxâˆ¨a              âˆ…xâˆ¨a  like                        clauses like                                                                                                      lemma    multiset clauses variable                                                         exists multiset c c saturation    like emphasize rule does add wrt  conclusions premises replaces clauses  premises clauses conclusions           proof proceed applying nondeterministically  deï¬nition  write dwhen multiset clauses ference rule resolving obtain saturated multiset  obtained multiset applying rule ï¬nitely need prove process terminates ï¬nitely                             times write  sequence appli inference steps does exist inï¬nite se  cations resolves variable                 quences        inference                                                        resolve variable sets ci saturated    context maxsat problems inference rule let score  sound iff number falsiï¬ed clauses premises let partition multiset clauses multisets  equal number falsiï¬ed clauses conclusions size domain bbbnâˆ’wherebi  assignment                                       contains clauses cardinality support  theorem  soundness signed maxsat resolution  notice multiset clauses  rule sound                                        contain variable let denote sbi score                                                        multiset bi  proofleti   arbitrary assignment look multisets word length  cases                                                base multiset represented number   falsiï¬es premises falsiï¬es ï¬rst sb sb Â·Â·Â· sbnâˆ’takingsb signiï¬  conclusions                       digit bi subset cfori nâˆ’    satisï¬es premises trivially satisï¬es sbi â‰¤  st clauses conclusion apply inference rule clauses  implied premise second clause say bi bj substitute  conclusion implied each premises set clauses distribute different bkâ€™s  satisï¬ed                             new multiset clauses soundness    ï¬rst clause conclusion implied rule score new multiset  premises premises satisï¬ed look multiset number base mthe  cases sx s satisï¬ed number different argue each infer             âˆ© aiâ€™s bjâ€™s ence step number increases say clauses                                                                                         satisï¬ed ï¬rst clause conclusion inference sx âˆ¨ âˆˆ bs âˆ¨ âˆˆ bsbythe   satisï¬es ï¬rst premise second inference step remove clauses add clause  second clause conclusion following bsâˆ©s maybe clauses bs bs                                                                                                    clauses satisï¬ed implied ï¬rst bsâˆªs deï¬nition saturation âˆ©   premise                                              âˆ© s  s know âˆ© s  s  âˆª s    rest conclusions cases digit bsâˆ©s signiï¬cant dig                                            iâ€™s satisï¬ed let index bs bs bsâˆªs conclude  assignment satisfy ï¬rst clause conclusion                                                       new mbase number inference step larger  conclusions âˆ¨ âˆ¨  âˆ¨ bt âˆ¨ âˆ¨ fore largest possible number obtain  âˆ¨   âˆ¨                                          iâˆ’   falsiï¬ed iâ€™s represented sbsb Â·Â·Â·sbnâˆ’m Â·Â·Â·  satisï¬ed sx satisï¬ed ï¬rst saturation procedure ï¬nish steps  conclusion falsiï¬ed conclusions satisï¬ed        satisï¬es second premise ï¬rst lemma  let saturated multiset clauses wrt  situation analogous previous case              let e subset clauses containing                                                        assignment satisfying e assigning                                 deï¬nition  multiset clauses said saturated extended assignment satisfying  wrt pair clauses  sx âˆ¨      âˆ¨                                                                                                                   âˆª    proofwehavetoextend     satisfy  fact  literals          need set value let partition multiset                                                                                                          eâˆ’e multiset clauses contain variable xinto  ii âˆ©  âˆ©                                                                                                     multisets eâˆ’et multiset satisï¬ed  multiset clauses saturation wrt eâˆ’e                     c    c                            multiset partial assignment  saturated wrt   obtained   doesnâ€™t satisfy clauses aim show  applying inference rule resolving ï¬nitely times                                                                                             intersection supports eâˆ’ef non    assign clause ascoresc equal num way extend assigning value  ber assignments variables falsify score intersection supports                                                    ijcai                                                       saturated pair clauses  sxâˆ¨a  global consistency wcsp        s âˆ¨ eâˆ’e                     condition ii proof theorem  extract following  deï¬nition happens condition happen                                                       exact algorithm solving wcsp  eâˆ’ef  ev                                                                                    ery pair clauses  sx âˆ¨  âˆ¨     input wcsp instance                                                                           eâˆ’ef   âˆ©s  âˆ©s    order         signed encoding                                                                   supports appearing eâˆ’ef decreasing order         cardinality straightforward support  saturationciâˆ’xi  contained equal predecessor particularly  cidi  partitionc xi  support equal intersection supports endfor  nonempty                                                ck                                                              âˆ…  theorem  completeness multiset clauses    downto                                                              âˆª xi â†’ extensionxiidi                                                   output                                                                                    given initial wcsp instance variables                                                        algorithm returns minimal cost optimal  satisï¬able multiset clauses min                                                        solution  imum number unsatisï¬ed clauses                                                          function saturationciâˆ’xi computes saturation                                                        ciâˆ’ wrt xi applying resolution rule resolving  proofletxxn   list variables                                                        gets saturated set lemma  ensures process  construct sequences multisets ccn                                                        terminates particular does cycle  ddn                                                        said saturation multiset unique                                               proof theorem  does depend particular    ci âˆªdi saturation ciâˆ’ wrt xi saturation                                                      function partitionc xi computes partition                                                        saturated subset clauses containing xi    ci multiset clauses contain                                                        subset clauses containing xi      ing xxianddi multiset clauses containing                                                          function extensionxiidi computes assign      variable xi                                                        ment xi extending assignment satisfy clauses    lemma  sequences effectively computed di according lemma  function ï¬lters clauses  saturate ciâˆ’ wrt xiandthenwe  di satisï¬ed computes inter  partition resulting multiset subset di containing xi section supports xi returns  ci containing variable          values intersection returns value    notice cn does contain variable                                                                âˆ©s  sx âˆ¨ âˆˆ              multiset âˆ… contains                  falsiï¬es  clauses                                                                             argumentation proof lemma  ensures    going prove multiset   intersection  satisï¬able constructing assignment satisfying order saturation variables freely  nletei   di âˆª  âˆªdnandleten     âˆ…                                                                     chosen sequence   enumeration  notice                                     variables    multiset ei contains variables xixn similar approach algorithm deï¬ned using                                                                                       ei saturated wrt xiand                     bucket elimination dechter   proce                                                        dures exponential worstcase complexity                     âˆªe     decomposes     clauses believe algorithm rise better perfor                                          contain contains       mance proï¬le sense computation joint       construct  sequence   assignments   operation incremental  iinwherein  assignment  satisï¬es en  âˆ…nowii   constructed ii   local consistency wcsp  follows assume induction hypothesis ii satisï¬es                                                        wcsp number local consistency properties  eisinceei saturated wrt xi decomposes                                                        proposed local properties ensure global  di ei lemma  extend ii                                                        consistency set constraints en  assignment xi obtainii satisfy ei iterating                                                      forced efï¬ciently used ï¬nd lower bound  satisï¬es    di                                                    cost    concluding soundness rule                                                          section focus binary wcsp instances  orem  inference preserves number falsiï¬ed                                                        larrosa schiex  givry et al  clauses assignment  cn minimum num  ber unsatisï¬ed clauses                       assume existence unary constraint variable                                                        xi constraint deï¬ned deï¬ne                                                    ijcai                                                     dummy constraint fakfor ak âˆˆ dxiwe  rule                   rule                                                                                       âˆ¨  use standard notation binary wcsp liter âˆ¨                                                                                                 Â·Â·Â·  ature denote unary constraint variable Â·Â·Â·  cij denote binary constraint variables xi                        âˆ¨                                                             âˆ¨                    xj ciakwhereak âˆˆ dxi denote fakand                                                                                                               cij akblwhereak âˆˆ dxi bl âˆˆ dxj  denote                        Â·Â·Â·                                                             Â·Â·Â·  fakbk                                                                                     inx                                                             inx                                                                                      jy  deï¬nition  variable xi node consistent exists                                                             jy                   Â·Â·Â·  value ak âˆˆ dxi ciak wcsp node              âˆ—                                              isx âˆ¨ jy        jny  consistent nc  variable node consistent     Â·Â·Â·                                                               âˆ¨  deï¬nition  given binary constraint cij thevalueb âˆˆ                         âˆ¨                                                             Â·Â·Â·                                dxj  simple support âˆˆ dxi cij                       Â·Â·Â·                  bc                           âˆ¨  support ij                                                          âˆ¨                                                             Â·Â·Â·                                                                                                                   Â·Â·Â·  deï¬nition  variable xi arc consistent value  âˆ¨                                                                                  âˆ¨  âˆˆ dxi simple support constraint cij                                                             âˆ—                                                           Â·Â·Â·  wcsp arc consistent ac  variable node  arc consistent                                                                     inx âˆ¨ jny    deï¬nition  variable xi arc consistent value lemma  star node consistency nc enforced ap  âˆˆ dxi support constraint cij awcsp plying rule   arc consistent facâˆ— variable node  arc consistent                                       proofsayxi   variable wcsp star node                                                        consistent âˆˆ cij  letbe                    deï¬nition  let  total ordering variables mincij  âˆˆ cikwthis                    wcsp variable directional arc consistent dac means corresponding signed encoding            âˆˆ dx   value      support constraint cij copies jxiforallj âˆˆ rule  applied  cij xj xiitisfull directional arc consistent                                                        encoding times remove copies jxi  fdac addition value âˆˆ dxi simple                                                        âˆˆ copies kxi  support constraint cij xj xiawcsp                                   âˆ—                    wcsp equivalent new encoding star node  directional arc consistent fdac  variable                                                        consistency property variable xi  node directional arc consistent  deï¬nition  let  total ordering variables lemma  arc consistency ac enforced applying  wcsp variable xi existential arc consistent rule   value âˆˆ dxi ciaand                                                                     support constraint cij  wcsp existential arc proofsay variable arc consistent               âˆ—                                                                             consistent eac  variable node existential arc respect constraint ij forsomevariable  means                                                                            âˆˆ                  âˆˆ   consistent wcsp existential directional arc consistent value            âˆ—           âˆ—        âˆ—                                    minc     âˆˆ  edac  ifitisfdac  eac                            ij        letbe             ij                                                                    constrain cij generate cij copies    follows deï¬ne sound inference rules axi âˆ¨ bxj foreveryb âˆˆ applying rule   sublanguage signed formulas just consider clauses times substitute clauses copies axi  literals signs complements cij âˆ’ copies axi âˆ¨ bxj foreveryb âˆˆ  singletons language captures binary wcsp instances value cij âˆ’  bellow rules enforce known local new set clauses indicates variable xi arc  consistency properties lack space show sistent respect cij  value arc consistency  rules derived signed maxsat values obtained way  resolution rule    rules assume  iin     previous lemmas proved domains                                                                                        jjn âˆˆ                                size larrosa heras                                                                                          rule                   rule                       lemma    fixed total ordering variables di                                                        rectional arc consistency dac enforced rule                                                                                xy            ix               ix âˆ¨ jy         applied restriction              Â·Â·Â·                      Â·Â·Â·                                                         roof                   inx               inx âˆ¨ jy             let    total ordering variables say                                                        xi variable directional arc consistent                                     jy              respect restriction cij variable xj                                                    ijcai                                                     

 quantiï¬ed constraint satisfaction problems relaxations explanations                                    alex ferguson     barry oâ€™sullivan                   cork constraint computation centre university college cork ireland                         centre telecommunications valuechain research                             afergusonbosullivancuccie                          abstract                          problem quantiï¬ed csp parallels ad                                                        versarial games qcsp natural model variables      quantiï¬ed constraint satisfaction problem     control using existential quantiï¬ers vari      qcsp generalisation classical csp ables outside control using universal quantiï¬ers chen      variables universally quanti       ï¬ed paper extend wellknown   remainder paper organised follows      cepts classical constraint satisfaction quan section  present formal deï¬nition fundamen      tiï¬ed case problem relaxation explanation tal concepts constraint satisfaction quantiï¬ed csp      inconsistency show generality present new forms problem relaxation sec      qcsp allows number different forms tion  previously considered      laxation available classical cspwefurther literatureâ€™s focus classical csp show forms      present algorithm computing generalisation relaxation captured using notion requirement      conï¬‚ictbased explanations inconsistency relaxation section  presents approach generating ex      qcsp                                         planations conï¬‚ict quantiï¬ed csp based requirement                                                        relaxation show existing explanation generation                                                        algorithm classical csps extended quanti    introduction                                       ï¬ed case review related work section   disadvantages classical csp framework number concluding remarks section   lacks sufï¬cient expressive power modelling par  ticular aspects real world problems example uncer  preliminaries  tainty forms uncontrollability environment                                                        deï¬nition  classical constraint satisfaction problem  set constraints satisï¬ed                                                         constraint satisfaction problem csp tuple    paper concerned quantiï¬ed csp                                                          Ë† x  c ï¬nite set variables  generalisation classical csp allows                                                          Ë†   xxn   set ï¬nite domains  variables universally quantiï¬ed chen                                                         Ë†  dxdxn  domain dxi  mantics universal quantiï¬cation variable                                                        ï¬nite set values variable xi set  set constraints satisï¬able assignment                                                        constraints Ë† ccm each constraint ci deï¬ned  contrast classical csp variables                                                        ordered set varci variables involves  existentially quantiï¬ed assignment existentially                                                        set solci allowed combinations values assignment  quantiï¬ed variable satisï¬es constraints satisfactory                                                        values variables varci satisï¬es ci belongs  classical csp known npcomplete gen                                                        solciasolution csp assignment value  eral qcsp pspacecomplete chen                                                         domain each variable constraint  sider problem relaxing instance qcsp                                                        satisï¬ed  example unsatisï¬able propose novel forms  problem relaxation qcsp present algorithm fundamental notion used reasoning classical csps  generating conï¬‚ictbased explanations inconsistency arc consistency mackworth  logical    motivation comes problems conformant plan conjunction assignment variables locally  ning supplychain management interested inconsistent constraint guaranteed  using constraints support local decisionmaking pro consistent solution  cesses company supply products set cus classical csp regard variables  tomers managing complex network suppli existentially quantiï¬ed wish show exist  ers classical csp sufï¬ciently expressive model signments each variables satisfy constraints  type problem concisely variables simultaneously generalise  control decisionmaker model allowing variables universally quantiï¬ed                                                    ijcai                                                     deï¬nition  quantiï¬ed csp qcsp Ï† form   forms relaxation available                                                        qcsp additional expressiveness access   qc    âˆˆ dx  Â·Â·Â·q  âˆˆ dx  cx                                             qcsp gives rise new forms relaxation  set constraints deï¬nition  deï¬ned available classical csp                    variables      sequence quantiï¬ers  relaxation quantiï¬ed csp  variables xn each qi  â‰¤ â‰¤  existential âˆƒ universal âˆ€ quantiï¬erthe useful viewpoint adopt studying qcsp                                                        consider instance problem adversarial game  expression âˆƒxic means â€œthere exists value âˆˆ dxi                                                        players universal player sets univer  assignment xia satisï¬es câ€ similarly                                                        sally quantiï¬ed variables existential player sets  expression âˆ€xic means â€œfor value âˆˆ dxi                                                        existentially quantiï¬ed variables chen inthese  xia satisï¬es câ€                                                        terms regard relaxations qcsp modiï¬cations  deï¬nition  semantics qcsp based gent et al problem make easier existential player   deï¬ne semantics qcsp qc recursively win perspective universal player relaxation  follows problem trueifq qcsp restrict ways player fal  form âˆƒxqx qnxn qc true iff exists sify formula example restrict domain  value âˆˆ dx qx qnxncâˆªx  values universally quantiï¬ed variables  trueifq form âˆ€xqx qnxn qc true spective existential player relaxation increases set  iff value âˆˆ dx qx qnxncâˆª responses played counteract choices   trueotherwiseqc false             universal player proceed discussing ï¬ve classes                                                        relaxation available context qcsp  example  quantiï¬ed csp consider qcsp deï¬ned                                                        ï¬rst familiar csp remaining  variables dxdx                                                        three particular expressive framework     follows âˆƒxâˆ€xx qcsp false                                                        direct equivalents unquantiï¬ed case  value variable  value domain inconsistent                                                         single constraint relaxation type relax    deals equivalent decision ation equivalent normally considered classical csps  problem qcsps analogous treatment exempliï¬ca example classical approach pcsp frame  tion requires consideration winning strategy generalising work allowed tuples added extensionally  idea solution chen  course order represented constraint principle replacing  quantiï¬ers qcsp critical consider following constraint logically weaker mentioned ear  qcsp âˆƒx âˆˆ âˆ€x âˆˆ   false  âˆ€x  âˆˆ âˆƒx âˆˆ      true                lier complete removal constraint considered                                                special case type relaxation                                                        example  single constraint relaxation consider    relaxation                                         following qcspwhichisfalse  motivation studying relaxations qcsp relates   âˆƒx âˆˆ âˆ€x âˆˆ   observation real world problems                                      â‰¤  constrained accordingly interested relaxing relax constraint    constraints problem ï¬nd solution following  relatively satisfactory scenario problem âˆƒx âˆˆ âˆ€x âˆˆ  â‰¤  relaxation seen way exploring space al qcsp true existential  ternative models given problem furthermore problem player sets  universal longer ï¬nd  relaxations language explain signment falsiï¬es qcsp            overconstrainedness problem moving classical  cspstoqcsps provides richer class relaxations  expressive language explanations relaxation existentially quantiï¬ed domains enlarg    known frameworks reasoning ing domain existentially quantiï¬ed variable                                                        direct equivalent relaxing domains classical frame  problem relaxation classical csp partial constraint  satisfaction freuder wallace  identify work  possible ways relaxing classical csp domain example  relaxation existential domains revisit  variable enlarged relation constraint qcsp presented example  false  set allowed tuples enlarged constraint scenario universal player sets  avail  removed problem variable removed able counter existential player able  problem note strategies play value smaller  suitable relaxation  regarded enlarging domain constraint relations following adds value  domain  domains formulated unary constraints  âˆƒx âˆˆ  âˆ€x âˆˆ                                                                          true    domain variable clear context relaxed qcsp existential player set                                                                                                         write qixi qixi âˆˆ dxi quantiï¬er sequence   universal player falsify formula                                                    ijcai                                                     relaxation universally quantiï¬ed domains aclass     claim set relaxations comprehensive  relaxation corresponding classical cspsis reformulation original problem considered  remove values domains universally quantiï¬ed conjunction relaxation orthogonal ap  variables doing reduces number scenarios ply quantiï¬er relaxation case domain  der existential player ï¬nd satisfying assign singleton sense possible singlestep relax  ments existential variables leading satisï¬ ations result problems mutually incomparable  able problem rationale analysis  â€˜problem valuesâ€™ permissible ignore  qcsp relaxation requirement relaxation  narrowing range probabilistic interpretation present uniform treatment relaxation  example  relaxation universal domains returning quantiï¬ers constraints ï¬rst classes  qcsp example  false avail relaxation identify requirements correspond ei                                                        ther constraint qcsp universal quantiï¬er  ability assignment  existential  player satisfying counterassignment frame relaxation each instances requirement                                                        laxation partial order deï¬ned purpose  relax domain universally quantiï¬ed variable  longer contains value  following deï¬nition  relaxation qcsp deï¬ne relax                                                             Ï†r          Ï†           âˆƒx  âˆˆ âˆ€x  âˆˆ               ation    qcsp   relaxed version single                                                    quirement new value follows  relaxed qcsp true existential player set                                                                                           qx qixi âˆˆ dxi qnxncqixi âˆˆ xi                                                     universal player falsify formula                                                                                                    Ë† qx qixi âˆˆ xi qnxnc                                                                                          quantiï¬er relaxation fourth form relaxation qc cj cmcj Ë† qc cj cm  direct equivalent classical cspistoreverse                                                        extended set relaxations Ï†âˆ…Ï†  quantiï¬cation variable universal existential Ï†râˆªrÏ†rr  relaxation corresponds achieving control factor pre              viously considered environmental relaxes deï¬nition  ordering requirement relaxations  universal domain relaxation                      given set possible relaxations rr requirement                                                        say âˆˆrr    âˆˆrr   iff  example  quantiï¬er relaxation revisit qcsp          Ï†   Ï†r                 Ï†r   presented example  false relax universal problem  satisï¬able  necessarily  quantiï¬er variable existential    require partial order meet                                                        semilattice greatest lower bounds guaranteed          âˆƒx âˆˆ âˆƒx âˆˆ            exist rr âˆˆrrthenr   welldeï¬ned    relaxed qcsp true                              ordering operator property use make                                                        mal notion relaxation seifr  rthenwesay                                                                                  quantiï¬er moving  ï¬fth class problem relaxation cor  strict relaxation  greatest lower bound  responds moving universally quantiï¬ed variable corresponds unique requirement relaxation  left sequence quantiï¬ers equivalently constraining arguments  sider moving existentially quantiï¬ed variable right greatest element relaxation space lat  sequence quantiï¬ers corresponds analysis tice property follows naturally relaxation spaces  oracular knowledge value environment variable shall deï¬ne motivated observation pro  delaying decision better information available gressively tighten approximations downwards                                                        relaxation spaces unique element clar  example  quantiï¬er moving consider example  ity respect deï¬ne meet operator directly  based presented earlier paper following partial order deï¬ned   Ë†   qcsp false                                        note each case straightforward derive           âˆƒx  âˆˆ âˆ€x  âˆˆ                closed form comparison                                                      deï¬ne space relaxations constraints  relax problem moving universally quantiï¬ed ï¬rst form relaxation identiï¬ed essentially  variable left following qcsp true relaxation constraint involves adding additional allowed                                                        tuples relation           âˆ€x âˆˆ âˆƒx âˆˆ                                                          deï¬nition  requirement relaxation constraints  informally relaxed qcsp gives existential player given constraint Ë† varcsolc deï¬ne relax  opportunity react actions universal player  ations terms adding additional allowed tuples solc    noted each relaxations follows                                                                                     sensibly possible given application modelling rcË† sol csolc âŠ† sol âŠ† Î xâˆˆvarcdx  knowledge engineering question each case given  straint domain quantiï¬er inherent problem elements rc form usual lattice using intersec  â€œbackgroundâ€ susceptible relaxation tion   Ë† âˆ©                                                    ijcai                                                     consider universal quantiï¬er relaxation informally deï¬nition  maximally relaxed explanation given  space possible relaxations universal quantiï¬er cor consistency propagator Î amaximally relaxed Î   responds restricting quantiï¬er expo conï¬‚ictbased explanation Î inconsistent qcsp Ï†isa  nentially subsets domain quantiï¬ed vari maximally relaxed qcsp inconsistent respect  able narrowing single choice value Î  Ï†   âŠ¥âˆˆÎ x x  widening existentially quantiï¬ed subsets cor  x âŠ¥ âˆˆ Î x  responds second fourth forms relaxation  identiï¬ed section  course practice limit  explanation algorithms  relaxation space subset tractable size  adopt scheme similar quickxplain  deï¬nition  requirement relaxation universals   â€˜familyâ€™ algorithms junker   modiï¬ed  given requirement universally quantiï¬ed variable extended following way replace removal  xier Ë† âˆ€x âˆˆ dx set relaxations râˆ€x âˆˆ dx spectively addition constraint speciï¬ed require  deï¬ned                                         ment relaxation resp tightening speciï¬ed relaxations      rrË†    âˆ€x âˆˆ dx  âˆ…âŠ†dx âŠ† dx         form semilattice described previous section            âˆªâˆƒx    âˆˆ dx  âˆ…âŠ†dx âŠ† dx        principle possible relaxation min                                                        imum generally wish consider speciï¬ed relaxations  elements râˆ€x âˆˆ dx form following meet corresponding removal resp imposition each  semilattice                                          straint relaxation universal quantiï¬er ex    âˆ€x âˆˆ dx     âˆ€x âˆˆ dx                        istential corresponding relaxation space                 Ë† âˆ€x âˆˆ dx âˆª dx              restrict set speciï¬ed relaxations    âˆƒx âˆˆ dx     âˆƒx âˆˆ dx                        basis constraints variables intrinsi                 Ë† âˆƒx âˆˆ dx âˆ© dx              cally environmental participate    âˆ€x âˆˆ dx     âˆƒx âˆˆ dx                        explanation corresponds using relaxation space                 Ë† âˆ€x âˆˆ dx dx âˆ© dx   âˆ…    consideration possible relaxation general    âˆ€x âˆˆ dx     âˆƒx âˆˆ dx                        completely intractable generally desirable spec                 Ë† âˆƒx âˆˆâˆ… dx âˆ© dxâˆ…         ify smaller set broadly                                                        ways firstly modelling process expert  note existence unique points corre specifying class problem instances considera                                                    sponding trivially unsatisï¬able quantiï¬cations tion sets possible requirement relaxations  âˆ€x âˆˆâˆ… âŠ¥ âˆƒx âˆˆâˆ…                                                       meaningful secondly consider userdriven    deï¬ne space possible relaxations ï¬nement step initial exploration available expla  given qcsp terms constituent requirements nat nations based base step choice available relaxations  ural way terms crossproduct available relax unsatisfactory  ations each similarly associated comparison  meet operations                                        simplequantifiedxplain        algorithm    consider explanations falsity set speciï¬ed relaxations binary require  computed using relaxations consider special cases ments place fully relaxed use  relaxation point point relaxation spaces                                                      equivalent junkerâ€™s algorithms modiï¬ed simply use  denote  contains origi stead imposition removal constraint choice  nal constraint useful wish ensure original relaxed requirement  constraints quantiï¬ers relaxed                                                                                               ï¬rstly reformulate junkerâ€™s replayxplain junker      contains original constraint  maximal terms relaxations algorithm  generalising  relaxation useful wish model case                                                        qcsps distinct relaxation available  maintain requirement completely relax each original requirements requirement ei                                                        ther present fully relaxed modiï¬ed procedure    relaxations explanations                   simplequantifiedxplain provide arguments Ï†a  consider explanations qcsp familiar qcspandr set available relaxations  tion explanation based minimal conï¬‚icts junker contain greatest relaxations allowed each require   considered quantiï¬cation ment ri relaxable speciï¬ed relaxation rsie  readily presentable terms elements conï¬‚ict setand  i  âˆˆ i  rsri rsri    general relaxations constraints welldeï¬ned spaces unique maxi  moval necessary generalise notion min mal relaxation begin maximally relaxed prob  imally conï¬‚icting explanation alternatively maximally lem using available relaxations build  relaxed conï¬‚ictbased explanation henceforth refer working set relaxations iteratively omit  maximal following relaxation ordering previ til Î âˆ’inconsistency occurs point conclude  ously deï¬ned deï¬ne notion respect typ relaxation added removed  ically incomplete consistency propagation method Î such subproblem added set corresponding  qac bordeaux monfroy  similar way partial conï¬‚ict relaxations need  junker junker                                 sidered subset minimal yield                                                    ijcai                                                     inconsistency iteratively continue doing Ï†  Ï†r âˆ’ âˆª          âŠ¥âˆˆÎ Ï†  set possible relaxations exhausted point âˆƒx âˆˆ âˆƒx âˆˆ  âˆ…                                    Ï†    used relax original problem yield max âˆƒx âˆˆ âˆƒx âˆˆ                                  Ï†r âˆ’  imally relaxed inconsistent problem      âˆƒx âˆˆ âˆ€x âˆˆ   yes  explanation                                            âˆƒx âˆˆ âˆ€x âˆˆ  âˆ…                                                                  âˆƒx âˆˆ âˆ€x âˆˆ   yes   algorithm simplequantifiedxplainÏ†    input aqcsp Ï† set available singlestep relaxations figure  simplequantifiedxplain trace example            âŠ†nm    output maximally relaxed conï¬‚ictbased explanation Ï†                                                        lattices arbitrary size follow basic    âŠ¥ âˆˆ Î Ï† return exception â€œno conï¬‚ictâ€      âˆ…          Ï†                                   structure replayexplain key difference        return                                 instead successively adding constraints conï¬‚ict    â†âˆ…                                                        set simplequantifiedxplain removing avail    â†     âˆ…                                    able relaxations instead consider current candidate        â†âˆ…                                           laxation comprising element each relaxation space       âŠ¥ âˆˆ Î Ï†r âˆ’ âˆª                  rmn use  obtain successive approximations          select                       maximally relaxed explanation begin max           â†  âˆªr                                 imal relaxation each requirement progressively           â†  âˆ’r                                                     tighten time select ri       â†  âˆªr                                     assigned new value strictly old tightening       â†  âˆ’r                                    minimal each step ensure maximality    return Ï†r âˆ’                                    ï¬nal relaxation problem inconsis                                                        tency detected eliminate relaxations tighter                                                        incomparable current approximation future    note replayxplain junkerâ€™s                                                        sideration unnecessary maximally relaxed explana  explanation procedures split input background                                                        tion time restrict relaxation space  user constraints restrict output                                                        lastrelaxed requirement ri ensure requirement  user constraints syntax quantiï¬ed problems pre                                                                                     relaxed earlier value  did pro  cludes doing instead able designate                                                                                        duce inconsistency guaranteed value  constraints quantiï¬ed variables relax                                                        explanation currently construc  able regarded playing role                                                        tion repeat process relaxation spaces  background constraints implicitly user requirements                                                        restricted eventually possibility remains  available relaxation difference                                                        each relaxation fully determining chosen explana  form algorithm â€˜backgroundâ€™                                                        tion complexity algorithm simple  straints included explanation background                                                        quantifiedxplain equivalent junkerâ€™s  straints removed output fact                                                        playxplain given consistency operator similar com  sired observe equivalent sense                                                        plexity similar numbers available relaxations  replayxplain   uxandsimplequantifiedx                                                        qcsp case scope each  plain âˆª i  ci âˆˆ uxqandxq  âˆª cas                                                        signiï¬cantly larger  suming similar ordering relaxations constraints each  case remaining algorithms presented junker  reformulated terms relaxations similarly discussion algorithm quantifiedxplainÏ†  correctness complexity algorithm deferred                                                          input aqcsp Ï† set relaxation spaces each  presentation quantifiedxplainofwhich       quantiï¬er constraint râŠ†rÏ†  special case                                  output maximally relaxed conï¬‚ictbased explanation Ï†  example  simplequantifiedxplain     consider     âŠ¥ âˆˆ Î Ï† return exception â€œno conï¬‚ictâ€  execution simplequantifiedxplainÏ†   rwhere       enumerate rmn  Ï† Ë† âˆƒx âˆˆ  âˆ€x âˆˆ    Ë†     âˆ€i âˆˆ nri return Ï†   c   trace progress shown âˆƒi  ri                                                               foreach ri choose ri maximari  figure  note case explanation unique                                    identical original problem relaxation pos âŠ¥âˆˆÎ Ï†  Ï†rrmn return Ï†                                                                   âŠ¥ âˆˆ Î Ï†r   sible introducing consistency different choices           mn                                                                    choose st ri  ri  relaxations different trace oc     r â†                                                                    curred ï¬nal result                              choose ri maximar  âˆˆrir  ri                                                                                                                                          ri â†r   âˆˆriri      quantifiedxplain      algorithm                                                             foreach rj rj â†r  âˆˆrj rj     consider quantifiedxplain   algorithm     return Ï†rrmn  general algorithm allowing requirement relaxation                                                    ijcai                                                     

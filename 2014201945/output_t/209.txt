              qcsp practical virtue restricted quantiï¬cation                          marco benedettiâˆ— arnaud lallouet jerÂ´    emieÂ´ vautard                                        lifo  university orleansÂ´                                bp  â€“ orleansÂ´   cedex  france                                       namesurnameunivorleansfr                          abstract                          âˆƒxâˆˆ  âˆ€yâˆˆ âˆƒzâˆˆ  xyâˆ§xy  âˆ§z x                                                                                                             qcsp    language introduce extends      true intuitive way entering new sce      framework quantiï¬ed constraint satisfaction    nario thinking game players      problems qcsps enabling neatly ex     player associated existential quantiï¬erâ€”we      press restricted quantiï¬cations chain nested âˆƒplayerâ€”the related universal quantiï¬er      csps interpreted alternately conjuncted  âˆ€player goal âˆƒplayer satisfy each      disjuncted restricted quantiï¬ers turn straint satisfy csp goal âˆ€      convenient solution crippling modeling player violate constraint overcoming      issues encounter qcsp andâ€”surprisinglyâ€”     opponentâ€™s effort players play each      help reuse propagation technology                                                       turn ï¬nite ï¬xed number rounds moves      prune search space qcsp solverâ€”which     consist assigning values variables vari      handles arithmetic global constraintsâ€”   ables assigned each step statically decided      exhibits stateoftheart performances           lefttoright order preï¬x problem exam                                                        ple preï¬x â€œâˆƒx âˆˆ  âˆ€y âˆˆ âˆƒz âˆˆ  â€    introduction                                          âˆƒplayer plays ï¬rst given chance  extend qcsp quantiï¬ed constraint satisfaction choose value time âˆ€player  problem framework introducing new language called assign value variable finally âˆƒplayer assigns  qcsp extension motivated difï¬culties game terminates satisfaction set  experienced modelling solving nontrivial prob straints evaluated say quantiï¬ed csp qcsp  lems plain qcsps let start describing qcsp true âˆƒplayer winning strategyâ€”ie  order point modeling weaknesses manage satisfy constraint universal op    csp search problem established giving set ponent doesâ€”and false example  true  variables ranging ï¬nite domains conjunction false change preï¬x âˆ€xâˆƒyâˆ€zas  constraints mentioning variables example given opposed purely existential csp case order quan  âˆˆ   âˆˆ  âˆˆ   csp    tiï¬ers important ï¬‚ipping  play                                                                 âˆƒ âˆƒ âˆ€                    âˆ§         âˆ§                    preï¬x existential player looses game               xy                              qcsp widely believed strictly â€œpowerfulâ€  solved selecting possible value each variable csp entire hierarchy qcsp problems exists  satisfy three constraints example equivalent csp formulation written â€œcom    valid solution   pactlyâ€ qcsp pspacecomplete csp npcomplete   csp formulations naturally suited model problems openly perceived games hu  realworld problems countless applications exist mans board games underlying game    sake paper csp problem best viewed structure camouï¬‚aged section   decision problem variables quanti despite expectation engendered strength  ï¬ed existentially existence single consistent language ï¬nd literature single account real  assignment sufï¬ces answer problem positively world model actually solved qcsp solver  âˆƒxâˆˆ  âˆƒyâˆˆ âˆƒzâˆˆ  xyâˆ§xy  âˆ§z x   partial explanation qcsp solvers                                                        fancy miss quantiï¬ed constraint propagators  seemengly inconsequential amendment making quan forward inference rules vital cut search space  tiï¬ers explicit leads play entirely new ï¬eld bor  deaux monfroy  variables realworld model mean model designed cap  quantiï¬ed universally example means ture preexisting humanintelligible semantics                                                       problemâ€”eg ones section â€”as opposed random models    âˆ—this author supported â€œle studium â€ france obey merely syntactical generation patterns                                                    ijcai                                                     limitation discourages prevents people invest allâ€ reshape formula prenex qcsp  ing production realistic models realize â€œsuch thatâ€ connective stays  recently built fullï¬‚edged qcsp solver benedetti et al junction âˆƒplayer involved implication  manages constraints models âˆ€player concerned actually ask                                                                   âˆ€        âˆƒ        âˆ€        âˆƒ  â€œnaturalâ€ cases stay surprisingly difï¬cult devise âˆ€xl â†’âˆƒyl âˆ§âˆ€xl â†’âˆƒyl âˆ§       pinpoint problem let step qcsp equivalent prenex form explicit disjunction  game âˆƒ âˆ€ let observe games                                                              âˆ€   âˆƒ  âˆ€  âˆƒ    âˆ€ âˆ¨  âˆƒ âˆ§  âˆ€ âˆ¨  âˆƒ âˆ§   invariably come rules choices pre                      cluded function previous choices player statement  shows natural way express  opponent elementary example prohibi stricted quantiï¬ers extend language handle  tion board games play cell occupied disjunctions shift general nonconjunctive csps  qcsp game means players hamper critical opportunity inherit huge  general assign variables arbitrary ways set propagators implemented purely  legal choices dynamically restricted game lifespan conjunctive case fall inability ex  relation moves occurred comply ercise csp tools real problems having nice formalism  underlying game discipline observance disci just proofofconcept implementation  pline precisely plain qcsps ï¬nd difï¬cult enforce solution design limited disjunctive extension    support dynamic ranges variables provided qcsp formalism express  preï¬x  ranges    whichever values disjunctions originating use restricted universal  chosen embed game dis quantiï¬cations ii capable inheriting exer  cipline constraints matter stating cising reasoning core standard qcsp solvers    player chooses forbidden value combination values âˆ€x   fol perspective syntactic shape  looses immediately threat promptly posed       problems introduceâ€”the qcsp prob  âˆƒplayer consider membership set â†’     lems generalizing example â€”is chain  legal moves just additional constraint âˆƒplayer                                                           âˆ€        nested alternated quantiï¬cations  cheats makes constraint false looses game    strictions depicted aside language                                         âˆ€                    âˆƒ    similar expedient used player    cognitively adequate represent gamewith  game loss constraints satisï¬ed     rules scenarios modelerâ€™s viewpoint section  thing simply imposed just conjunct    âˆ§      time amenable  ing additional constraint solve âˆ€  discipline problem slightly modify âˆƒ     cided reusing existing technology solverâ€™s                                                                 viewpoint section  each restric  malization reformulationbased approach pre âˆ€x  sented ansoteguiÂ´ et al  case twoplayers  tion rule standard csp inside  qbf games reasons discussed section    â†’     usual propagation procedures capital  comes unsatisfactory remedy problem          ized designed exter  let introduce different solution based handling âˆ€    nal searchguiding mechanism evaluates  game rules explicitly shall shortly qcsp    truth value alternated chain csps  plainly state new formalization lacks                                                               âˆƒxn  function truth value leaves  support disjunctions constraint sets consider    ii interleaf propagation scheme  following problem rules provisionally absent                                                               âˆ§    reconciles separate csps makes             âˆ€xâˆƒyâˆ€xâˆƒycxxyy                         share information sound way ï¬nal                                                           lâˆƒ  let uppercase letters denote sets variables    note let observe â€œgamewithrulesâ€    single variable domains shown suppose legal cxyxnyn scenario target deï¬nitely marginal  opening moves âˆ€player characterized set     modeling case contrary usage                 âˆ€  straints csp assignment variables restricted quantiï¬ers natural section                                               âˆ€  legal opening iff solution ends wondering nontrivial problems mod  classical csp sense âˆƒplayerâ€™s reply second step eled plain qcsps relation approach                            âˆƒ  constrained csp xy choices recent contributions close ï¬eld qbf decision pro  âˆ€playerâ€™s side known assigment cedures discussed section  implementation                                     âˆƒ  considered solves  likewise rules fullï¬‚edged solver experiments quantiï¬ed models   âˆ€                âˆƒ  xyx xyxy provided cap presented section  section  summarize  ture scenario introduce restricted quantiï¬ers qxl tributions present directions future work  âˆˆâˆƒ âˆ€ quantify span  assignments comply cspbased   motivating examples  rule compact notation example written concepts involved modeling following com         âˆ€          âˆƒ              âˆ€   âˆ€xl âˆƒyl xy âˆ€xl xyx   mon problems naturally captured conjunction                 âˆƒ                                      straints questions ask require universal            âˆƒyl xyxycxxyy                                                        quantiï¬ers disjunctions exactly qcsp style                                                   âˆ€   reads â€œfor assignments problem  suppose partial ordering   established                                        âˆƒ  holds exists assignment holds rank solutions given csp  csp                                                    ijcai                                                     compactly characterize best solutions wrt problem  conformant scheduling consider tasks              qcsp   gives problem elegant onemove game duration Î´ Î´n requiring resource rn  formulation âˆƒxp âˆ€y              subject ordering constraints oâŠ†nÃ—n                                                         jâˆˆo means task end task starts  following example cadoli et al  solutions want schedule tasks ï¬nish time  ii  csp represent sets âŠ† relation creates preferences comply iii instantaneous resource  example  strategic companies given collec sumption exceeds ï¬xed capacity global                                                              cumulative                      tion companies set goods relation prodâŠ† straint   tÎ´rtnÎ´nrn provided  cÃ—g  specify goods each company produces com csp solvers check condition  panies reciprocal ï¬nancial participations subset degree uncertainty actual resources required     âŠ†c  owns  câˆˆc said each task hostile environment impact sub                                                                               em           controlling set company controlling ject certain constraints rrn  possible                                                      devise adversarysafe schedule  sets represented relation contrâŠ† Ã—ca                  âŠ†  set companies â€œproductionpreservingâ€â€”written âˆƒttnâˆ§ijâˆˆotiÎ´i â‰¤ tj  âˆ€rrnemrrn  pp             â€”if covers goods cumulat cumulativer tÎ´rtnÎ´nrn âˆ§ maxtiÎ´i â‰¤  ing goods  gâˆˆprod âˆˆ obtain  ii closed controlling relation          âˆˆ            âŠ†        âˆˆ                    example   consider three tasks completed  each   contrifc     sastrategic set                                              subsetminimal productionpreserving set pp time surpassing capacity   property lost each proper subset strategic set Î´  Î´  Î´     task   company âˆˆ strategic intuition sold ï¬nish task  starts seek attacksafe schedule  impact overall portfolio goods                          assump  trolled companies belongs strategic set                           tion en                                               âˆ€ss âŠ† âˆ§ pps âˆ§ âˆˆ âˆƒs pps  âˆ§ xâˆˆ âŠ‚                                  vironment add                                                                                          unit cost  prod contr relations deï¬ned easily                                tasks  expressed propositional logic adopted restricted                             picture aside  version enable direct comparison boolean reason                              shows opti  ers section  realistic modelsâ€”mentioning explicit                              mal schedule  amounts goods capacity production percentage                              subject critical  participationsâ€”still ï¬t nicely csp vocabulary attacks linear schedule exceeds  solution  lay outside natural reach propositional logic qcsp instance meets requirements  problem  game strategy let set variables xi                                        scribe state step evolving al  formalizing deciding qcsp                               âˆ€     âˆƒ  ternate moves opponents  selected let set variables dvvâˆˆv family  ï¬nite set possibilities game deï¬ned tuple   pa ssa  i                                         domains tacitly assume underlying           csps state pos                              âŠ†                  sible precondition axiom pax satisï¬ed global version  denote                                                             Î   leads new state deï¬ned successor state axiom set vâˆˆw dv tuples  projection tuple            ssax initial winning conditions recog set tuples  variable set variables                                                                                                         nized ix gp respectively âˆˆpâˆ€pâˆƒ denoted  constraint couple                                                               âŠ†          âŠ†                           let âˆ€ denote âˆƒ viceversa ï¬rst player pâˆƒ wins    noted var  game rounds âˆƒxixwsâˆƒ  solcacsps set constraints csp note                                                        varc  câˆˆc varc variables solccâˆˆc     wsqiqximi  paxiâˆ’mi âˆ§ gpqxiâˆ’âˆ§                                                                           ssa            wsq        solc solutions whereâ€”for âŠ†  âŠ†                            xiâˆ’ximi                                       âˆªu                                                        âŠ†  â€”it   tâˆˆd     tw âˆˆa âˆ§ tu âˆˆbwe  ik wsqigpqxiâˆ’          range âŠ† function domain  example shows qcsp escaping intricacies associates each âˆˆ subset rv âŠ† dv  game formalization ï¬nd gent rowley  deï¬nition  restricted quantiï¬er restricted quantiï¬er                                                 nÃ—m  example  connect nÃ—mâˆ’k let bij âˆˆpâˆ€pâˆƒ     tuple qwrc âˆˆâˆƒ âˆ€ set  matrix variables representing board state gen variables range  csp                                    Ã—  eralized connect game played board                           tempt align signs existence winning strategy deï¬nition  qcsp  qcsp free variables  ï¬rst player modeled posing pabxbnx  couple qsg quantiï¬cation structure qs  xâˆˆm column current using ï¬nite possibly sequence qqn restricted                                                      quantiï¬ers qi qivirici holds  âˆ§iâˆˆnjâˆˆmbij bij  â†” jx âˆ§ bij âˆ§ bij âˆ§ biâˆ’j                                                           â€¢ âˆ€i âˆˆ nvi âˆ©  âˆ…  â‡’ vi âˆ© vj  âˆ…               ssabb  âˆˆpâˆ€pâˆƒ current player                                                                                    â€¢ varci âŠ† wi âˆª wi  jâ‰¤i vj  initial condition ib âˆ§ij bij  csp  junction alldifferent constraints excluding each alignment csp called goal varg âŠ† wn âˆª iff  âˆ…                                                        qcsp problem said closed                                                    ijcai                                                     consistently examples presented com base case cascadeg   âŠ¥ âˆˆ                                                                                             pactly denote qcsp writing                       vâˆ…  propgr                                                              cascade              qv âˆˆ cqnvn âˆˆ rn cng                                                                                     inductive case let qwrcqsg    closed qcsp   quantiï¬cation                                         âŠ¥                            propc  âˆˆ âˆª   structure exists           denotes          csp âŠ¥  stands csp contains       vâˆ…  cascadep    âˆ€                                                           cascade  âŠ¥  qâˆƒ  constraint given qcsp     problem                            range                                                                      cascade          qs   qvrc qnvnrncng free vari                 wr                                                                       qs  cascadeqs     ables  result assigning value aâˆˆdv variable                computed using                                                                                             âˆª     qs    âˆˆ  written  deï¬ned qvrcv  new range free variables   aqnvnrncnv  agv  assign intuition propagation level each restricted  ment csp turn obtained collecting result quantiï¬er qwrc â€œauthoritativeâ€ source infor  assignments each constraint given constraint mation new ranges  conversely variables  itiscv  ac vâˆˆ                                                          var private temporary version ranges em   cv  aw    âˆˆ    ployed prunings realized dominating scopes                     âˆƒt âˆˆ  tw  âˆ§ tv notion extends natu cumulated collective result ï¬‚ows through chain                                               rally tupleassignments  âŠ†  tâˆˆd authoritative propagations boost vanishes                                                                                      âŠ†  âˆˆ  range  let write alternated structure qcsp endows cascade prop  tâˆˆw mean âˆ€v âˆˆ wtv âˆˆ rv                       agation intrinsic advantage usual quanti  deï¬nition  evaluation qcsp closed qcsp  ï¬ed arcconsistency qcsp turns global consistency  qsg evaluates value truefalse follows check values universal domains local property           eval  true  eval  âŠ¥false      decidable level single constraints csp rule  base case                                     restricted quantiï¬ers way expunge values                                               inductive case let qs qwrc qsitis    universal existential domains symmetrically just      evalqsg  true iff  âˆ€ âˆˆ reusing quantiï¬cationunaware csp propagators                                                                                                            tâˆˆsolcitisevalqs gw  trueor validity preserving mapping op  qcsp â†’                                                                                         ii qâˆƒ exists tâˆˆw tâˆˆsolc qcsp        âˆ€p âˆˆ qcsp     evalp evalopp                                                                                                      evalqs gw  true                       say op contractor âˆ€p qsg âˆˆ                                                                                                                                                   qcsp    qs  opp  qs â‰¤qs ii  decision procedure implement closely mimics                  eval                                       varp  âŠ† varp  iii qwrc âˆˆqs  deï¬nition   based classical depthï¬rst                              cursive search andor tree associated quantiï¬cation  âˆˆqsifv âˆˆ âˆ© âŠ† rv  structure csp solvers form forwardinference theorem  cascade propagation validitypreserving  called propagation key importance prune search contractor qcsp problems  space exercised each search node peculiar  qcsp exactly way propagation operates property guarantees soundness termination  way builds standard csp propagation decision procedure performs cascade propagation                                                                                                             model csp propagation scheme parametric func each search node details benedetti et al       prop Â·  tion     â€”where parameter cspâ€”whose     discussion related works  main codomain families ranges varp                                                        concerns unsuitability qcsp model real cases  result  propp propagation meant                                                        raised far current random models  contract range each variable reduce                                           branching factor search preserving solu clash issues addressed paper qcsp  tions  means variable âˆˆ varp  designed fact provide crucial beneï¬ts         âŠ† rv time each solution coming development realistic models                                                                          âˆ€  âˆˆ solp iftv âˆˆ rv tv âˆˆ propagation existence â€œ disciplineâ€ issue quantiï¬ed  computed chaotic iteration greatest common ï¬x junctive languages recently identiï¬ed qbf  point domainreduction operators associated each community ansoteguiÂ´ et al  static version  constraint âˆˆ  operator prunes values question discussed case qbf encod  fail local consistency check apt  ings multivalued qcsp variables boolean mapping                                                                                                         range range âˆ© needs avoid â€œillegalâ€ combinations gent et al     âˆ… deï¬ne   rvrv âˆˆ   problem impacts qcsp remarkably  rvrv âˆˆ note projections ranges qbf does bother mod                                                   elerâ€™s viewpoint required human write  subdomains     analogous propagation qcsp follows understand qbf speciï¬cation qbf obtained                                                        through computerassisted compilation starts  deï¬nition  cascade propagation given propagation                                             scheme prop qcsp problem  range                                                              weakness quickly realized witnessed  free variables  qcsp problem cascadep  ob independent proposal framework focusing simplifying  tained cascade propagation deï¬ned follows qcsp modeling twoplayer games bessiere verger                                                     ijcai                                                     higherlevel language terminates process called  cnfization consists casting meaning  structured formula cnf conjuncting clause  based local meaning each subformula through help  auxiliary variables plaisted greenbaum  natural workaround discipline problem comes  mechanism reduce conjunctive matrix entire  meaning  trick adoptedâ€”  tacitlyâ€”in qbf models reason library  realworld instances exists giunchiglia et al     structured qbf encoding techniqueâ€”applied  twoplayer gamesâ€”has proposed ansoteguiÂ´ et al   indicator variables introduced connect  suited qbf satplan propositional encoding pre  conditions effects kautz selman   approach shown lead searchbased solvers ex figure  running time comparison â€œstrategic companyâ€  plore artiï¬cially enlarged search spaces effect family example  section  axis gives number com                                                        panies set compare qecode stateoftheart qbf  mitigated employing encodings tuned trigger                                 synergy topdown search boolean inference solvers qbf formulation qbf  mechanisms feeding solver information plicitly deï¬ned table constraints viable solution ex  special role indicator variables recently dnf rep                                                        ists câˆ’ usually happen sets  resentations boolean constraints adopted possibly arithmeticglobal constraints option                                                    duce search space sabharwal et al  zhang   use reiï¬ed version each constraint bordeaux     approaches involve intricate details intro reiï¬ed version cx consistent constraint                                                                                                    duce explicitly languagesemantics demand search âˆˆ  satisï¬ed                                                                                    based solvers exploit booleanonly concepts dnf cx consistent   focus humanlevel games general                                                                                      write âˆƒxâˆ€yâˆƒa bcx âˆ§ cx âˆ§ cx âˆ§ Â¬a âˆ¨  issue modeling concepts through quantiï¬ed constraints generalized version rewrite shows qcsp    conversely restricted quantiï¬cation fairly general pspace inescapable complications arise practice  neat solution inspired analogous forms quantiï¬cation reiï¬ed version provided csp environment  modeling languages qual constraints ii shift reiï¬ed version  iï¬ed description logic bounded logic programming considerably detrimental solverâ€™s viewpoint  restricted quantiï¬cation logic semantics theory reiï¬ed constraints prune values domains    restricted quantiï¬ersâ€”which allow reuse propaga long donâ€™t know value parameter  tion technology exclusively designed search  based reasonersâ€”can fully â€œback portedâ€ realm  implementation models experiments                               qbf yield qbf language deï¬ned implemented decision procedure qcsp sys  restriction qcsp boolean variables clausal                                                       tem built csp solver gecode schulte tack  straints qbf studied forthcoming paper  solverâ€”called qecodeâ€”accepts wide set  ï¬rst application presented section    constraints input language publically available    qbfinspired techniques mentioned benedetti et al present  terpreted workarounds bypass restricted quantiï¬ers accepts constraint language expressive qecode does  qbf ï¬rst evidences suggest cfr section suited public domain model exists  stricted quantiï¬ers equally rewarding qbf contribute initial test suite devising qcsp gen  introduction qcsp supported compelling arguments erators examples section  example    major obstacles prevent adapting solutions rely nonboolean variablesconstraints straight  modeler responsible captur translation qbf qbf generators produce  ing semantics alternating structure  equivalent propositional formulations enables  threatens fundamental assumptions qcsp exercise qbf solvers noticed  models humanwritable readable second comparison relative signiï¬cance biased  qcsp constraints undergo arbitrary syntactic manipu favor qbf solvers does leverage strengths  lations clauses illustrate problem let consider qecode                                                              nonboolean variables propagators  qcsp  formula âˆƒxcxâˆ€y cx cx  complex semantics important weakness exposed  way attain qcsp version formula data structures tailored boolean reasoning  deï¬ne single constraint âˆª meaning results shown figure   â€œstrategic  cx âˆ§ cx  âˆ¨ cx  processed companiesâ€ case comes qbf solver  quantiï¬ed extension gacscheme nightingale   heavily demanding space time depending actually latest version gecode knows  technique employed feasible small ex eschew restricted quantiï¬ers modeling                                                    ijcai                                                     

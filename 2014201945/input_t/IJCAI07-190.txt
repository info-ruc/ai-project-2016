                              On the Logic of Normative Systems

             Thomas   AgotnesÀö 1,  Wiebe van der Hoek2,JuanA.Rodr¬¥ƒ±guez-Aguilar3,
                                Carles Sierra3,   Michael Wooldridge2
       1Bergen University College      2University of Liverpool        3CSIC-IIIA
        Norway                           United Kingdom                 Catalonia, Spain
        tag@hib.no                      wiebe,mjw@csc.liv.ac.uk         jar,carles@iiia.csic.es

                    Abstract                          normative system Œ∑‚Äù. Here, œï is a temporal logic expres-
                                                                                             g
                                                      sion over the usual CTL temporal operators , ‚ô¶, ,and
    We introduce Normative Temporal Logic (NTL), a    U  (every temporal operator must be preceded by a deontic
    logic for reasoning about normative systems. NTL
                                                      operator, cf. CTL syntax), and Œ∑ denotes a normative system.
    is a generalisation of the well-known branching-
                                                      In NTL, obligations and permissions are thus, Ô¨Årst, contextu-
    time temporal logic CTL, in which the path quan-                           Œ∑
          A                        E                  alised to a normative system and, second, have a temporal
    tiÔ¨Åers  (‚Äúon all paths. . . ‚Äù) and (‚Äúon some      dimension. It has been argued that the latter can help avoid
    path. . . ‚Äù) are replaced by the indexed deontic
                                                      some of the paradoxes of classical deontic logic. NTL gener-
    operators OŒ∑ and PŒ∑, where for example OŒ∑œï                                 Œ∑
           œï                                          alises CTL because by letting ‚àÖ denote the empty normative
    means ‚Äú  is obligatory in the context of norma-   system, the universal path quantiÔ¨Åer A can be interpreted as
    tive system Œ∑‚Äù. After deÔ¨Åning the logic, we give
                                                      OŒ∑ ; much of the technical machinery developed for reason-
    a sound and complete axiomatisation, and discuss    ‚àÖ
                                                      ing with CTL can thus be adapted for NTL [Emerson, 1990;
    the logic‚Äôs relationship to standard deontic logics.
                                                      Clarke et al., 2000]. NTL is in fact a descendent of the Norma-
    We present a symbolic representation language for
                                                      tive ATL (NATL) logic introduced in [Wooldridge and van der
    models and normative systems, and identify four
                                                      Hoek, 2005]:however,NTL is much simpler (and we believe
    different model checking problems, corresponding
                                                      more intuitive) than NATL, and we are able to present many
    to whether or not a model is represented symboli- more technical results for the logic: we Ô¨Årst give a sound and
    cally or explicitly, and whether or not we are given complete axiomatisation, and then discuss the logic‚Äôs rela-
    an interpretation for the normative systems named tionship to standard deontic logics. We introduce a symbolic
    in formulae to be checked. We show that the com-  representation language for normative systems, and investi-
    plexity of model checking varies from P-complete
                                                      gate the complexity of model checking for NTL, showing that
    up to EXPTIME-hard for these variations.
                                                      it varies from P-complete in the simplest case up to EXPTIME-
                                                      hard in the worst. We present an example to illustrate the
1  Introduction                                       approach, and present some brief conclusions.
Normative systems, or social laws, have been widely pro-
moted as an approach to coordinating multi-agent sys- 2   Normative Temporal Logic
tems [Shoham and Tennenholtz, 1996]. Crudely, a norma-
                                                      Kripke Structures: Let Œ¶={p,   q,...} beaÔ¨Ånitesetof
tive system deÔ¨Ånes a set of constraints on the behaviour of
                                                      atomic propositional variables.AKripke structure (over Œ¶)
agents, corresponding to obligations, which may or may not             0
                                                      is a quad K = S, S , R, V,where:S is a Ô¨Ånite, non-empty
be observed by agents. A number of formalisms have been                0       0
                                                      set of states, with S ‚äÜ S (S = ‚àÖ)beingtheinitial states;
proposed for reasoning about normative behaviour in multi-
                                                      R ‚äÜ  S √ó S is a total binary relation on S, which we refer to
agent systems, typically based on deontic logic [Meyer and                               Œ¶
                                                      as the transition relation1;andV : S ‚Üí 2 labels each state
Wieringa, 1993]. However the computational properties of
                                                      with the set of propositional variables true in that state. A
such formalisms ‚Äì in particular, their use in the practical de-
                                                      path over R is an inÔ¨Ånite sequence of states œÄ = s0, s1,...
sign and synthesis of normative systems and the complexity
                                                      which must satisfy the property that ‚àÄu ‚àà N: (s , s +1) ‚àà R.
of reasoning with them ‚Äì has received little attention. In this                               u  u
                                                      If u ‚àà N, then we denote by œÄ[u] the component indexed by u
paper, we rectify this omission. We present Normative Tem-
                                                      in œÄ (thus œÄ[0] denotes the Ô¨Årst element, œÄ[1] the second, and
poral Logic (NTL), a logic for reasoning about normative sys-
                                                      so on). A path œÄ such that œÄ[0] = s is an s-path.
tems, which is closely related to the well-known and widely-
used branching time logic CTL [Emerson, 1990].InNTL,the
universal and existential path quantiÔ¨Åers of CTL are replaced Normative Systems: In this paper, a normative system is
by indexed deontic operators OŒ∑ and PŒ∑,whereOŒ∑œï means a set of constraints on the behaviour of agents in a system.
that ‚Äúœï is obligatory in the context of the normative system
                                                                                          
Œ∑‚Äù, and PŒ∑œï means ‚Äúœï is permissible in the context of the 1A relation R ‚äÜ S √ó S is total iff ‚àÄs ‚àÉs :(s, s ) ‚àà R.

                                                IJCAI-07
                                                  1175More precisely, a normative system deÔ¨Ånes, for every possi- K is a Kripke structure, s is a state in K, I an interpretation
ble system transition, whether or not that transition is con- over K,andœï a formulae of the language, as follows:
sidered to be legal or not. Different normative systems may K, s |= ;
differ on whether or not a transition is legal. Formally, a nor- I
                                           0              K,  |=      ‚àà  ( )          ‚àà Œ¶
mative system Œ∑ (w.r.t. a Kripke structure K = S, S , R, V) s I p iff p V s  (where p   );
is simply a subset of R, such that R \ Œ∑ is a total relation. The K, s |=I ¬¨œï iff not K, s |=I œï;
               \Œ∑
requirement that R is total is a reasonableness constraint: it K, s |=I œï ‚à® œà iff K, s |=I œï or K, s |=I œà;
prevents normative systems which lead to states with no suc-        f
                                                          K, s |= OŒ∑ œï iff ‚àÄœÄ ‚ààC(Œ∑)(s):K,œÄ[1] |= œï;
cessor. Let N(R)={Œ∑ | (Œ∑ ‚äÜ R) & (R \ Œ∑ is total)} be the        I              I             I
                                                          K,  |= P  fœï   ‚àÉœÄ ‚ààC   ( ):K,œÄ[1] |= œï
set of normative systems over R. The intended interpretation s  I Œ∑    iff    I(Œ∑) s         I ;
                              
of a normative system Œ∑ is that (s, s ) ‚àà Œ∑ means transition K, s |= OŒ∑(œï U œà) iff ‚àÄœÄ ‚ààC(Œ∑)(s), ‚àÉu ‚àà N,s.t.K,œÄ[u] |=
                                                               I                I                      I
(s, s ) is forbidden in the context of Œ∑; hence R \ Œ∑ denotes the œà and ‚àÄv, (0 ‚â§ v < u):K,œÄ[v] |=I œï
legal transitions of Œ∑. Since it is assumed Œ∑ is reasonable, we
                                                          K, s |=I PŒ∑(œï U œà) iff ‚àÉœÄ ‚ààCI(Œ∑)(s), ‚àÉu ‚àà N,s.t.K,œÄ[u] |=I
are guaranteed that a legal outward transition exists for every œà and ‚àÄv, (0 ‚â§ v < u):K,œÄ[v] |=I œï
state. If œÄ is a path over R and Œ∑ is a normative system over
                                                                                            ‚àß   ‚Üí    ‚Üî
R,thenœÄ is Œ∑-conformant if ‚àÄu ‚àà N, (œÄ[u],œÄ[u +1]) ‚àà Œ∑. The remaining classical logic connectives (‚Äú ‚Äù, ‚Äú ‚Äù, ‚Äú ‚Äù)
                                                                                                     ¬¨, ‚à®
Let CŒ∑(s) be the set of Œ∑-conformant s-paths (w.r.t. some R). are assumed to be deÔ¨Åned as abbreviations in terms of ,
                                                                                      K|=   œï  K,   |= œï
  Since normative systems are just sets (of disallowed tran- in the conventional manner. We write I if s0 I
                                                              ‚àà  0 K|= œï   K|=  œï            |= œï  K|= œï
sitions), we can compare them, to determine, for example, for all s0 S , if    I  for all I,and  if
                                                            K
whether one is more liberal (less restrictive) than another: if for all . The remaining CTL temporal operators are deÔ¨Åned:
Œ∑ ‚äÇ Œ∑,thenŒ∑ places fewer constraints on a system than Œ∑,
hence Œ∑ is more liberal. Notice that, assuming an explicit rep- OŒ∑‚ô¶œï ‚â° OŒ∑(Uœï)   PŒ∑‚ô¶œï    ‚â°   PŒ∑(Uœï)
resentation of normative systems, (i.e., representing a norma- OŒ∑ œï ‚â°¬¨PŒ∑‚ô¶¬¨œï      PŒ∑   œï  ‚â°¬¨OŒ∑‚ô¶¬¨œï
tive system Œ∑ directly as a subset of R), checking such prop-
erties can be done in polynomial time. We can also operate Recalling that Œ∑‚àÖ denotes the empty normative system, we
on them with the standard set theoretic operations of union, obtain the conventional path quantiÔ¨Åers of CTL as follows:
                                                      AŒ± ‚â°  O  Œ± EŒ±  ‚â° P  Œ±
intersection, etc. Taking the union of two normative systems Œ∑‚àÖ ,       Œ∑‚àÖ .
Œ∑1 and Œ∑2 may yield (depending on whether R \ (Œ∑1 ‚à™ Œ∑2) is
total) a normative system that is more restrictive (less liberal) Properties and Axiomatisation: The following Proposi-
than either of its parent systems, while taking the intersection tion makes precise the expected property that a less liberal
of two normative systems yields a normative system which is system has more obligations (and less permissions) than a
less restrictive (more liberal). Care must be taken when oper- more liberal system.
ating on normative systems in this way to ensure the resulting
                                                      Proposition 1 Let K be a Kripke structure, I be an interpre-
system is reasonable.
                                                      tation over K, and Œ∑1,Œ∑2 ‚àà Œ£Œ∑:IfI(Œ∑1) ‚äÜ I(Œ∑2) then K|=I
                                                      O  œï ‚Üí  O  œï     K|=  P  œï ‚Üí  P  œï
                                                        Œ∑1      Œ∑2 and     I Œ∑2      Œ∑1 .
Syntax of NTL:  The language of NTL is a generalisation of
                                                      We now present a sound and complete axiomatisation for NTL
CTL: the only issue that may cause confusion is that, within                             ‚àí
this language, we refer explicitly to normative systems, which and some of its variants. First, let NTL be NTL without
                                                                                               ‚àí
are semantic objects. We will therefore assume a stock of the empty normative system Œ∑‚àÖ. Formally, NTL is deÔ¨Åned
syntactic elements Œ£Œ∑ which will denote normative systems. exactly as NTL, except for the requirement that Œ£Œ∑ contains
                                                 Œ∑
To avoid a proliferation of notation, we will use the symbol the Œ∑‚àÖ symbol and the corresponding restriction on interpre-
                                                                                   ‚àí          ‚àí
both as a syntactic element for normative systems in the lan- tations. An axiom system for NTL , denoted  ,isdeÔ¨Åned
                                                                                                 ‚àí
guage, and the same symbol to denote the corresponding se- by axioms and rules (Ax1)‚Äì(R2) in Figure 1. NTL can be
mantic object. An interpretation for symbols Œ£Œ∑ with respect
                                 :Œ£  ‚Üí   ( )          seen as a multi-dimensional variant of CTL, where there are
to a transition relation R is a function I Œ∑ N R .When several indexed versions of each path quantiÔ¨Åer.
R is a transition relation of Kripke structure K we say that I
                    K                                   GoingontoNTL, we add axioms (Obl) and (Perm) (Fig-
is an interpretation over . We will assume that the symbol                                         
Œ∑‚àÖ always denotes the emptyset normative system, i.e., the ure 1); the corresponding inference system is denoted .We
normative system which forbids no transitions. Note that this then, have the following chain of implications in NTL (the
normative system will be reasonable for any Kripke structure. second element in the chain is a variant of the deontic ax-
Thus, we require that for all I: I(Œ∑‚àÖ)=‚àÖ. The syntax of NTL iom discussed below). If something is naturally, or physically
is deÔ¨Åned by the following grammar:                   inevitable, then it is obligatory in any normative system; if
                       f                f             something is an obligation within a given normative system
œï ::= |p |¬¨œï | œï‚à®œï | PŒ∑ œï | PŒ∑(œï U œï) | OŒ∑ œï | OŒ∑(œï U œï)
                                                      Œ∑, then it is permissible in Œ∑; and if something is permissible
where p ‚àà Œ¶ and Œ∑ ‚àà Œ£Œ∑. Sometimes we call Œ± occurring in a given normative system, then it is naturally (physically)
in an expression OŒ∑Œ± or PŒ∑Œ± a temporal formula (although possible:
such an Œ± is not a well-formed formula).
                                                       (Aœï ‚Üí  OŒ∑œï)      (OŒ∑œï  ‚Üí PŒ∑œï)      (PŒ∑œï ‚Üí  Eœï)
                                                                     +
Semantic Rules: The semantics of NTL are given with re- Finally, let NTL be the extension of NTL obtained by ex-
spect to the satisfaction relation ‚Äú|=‚Äù. K, s |=I œï holds when tending the logical language with propositions on the form

                                                IJCAI-07
                                                  1176(Ax1) All validities of propositional logic           and require interpretations to interpret  as set union and 
(Ax2) PŒ∑‚ô¶œï ‚Üî PŒ∑ (Uœï)                                 as set intersection. As discussed above, we must then further
                                                                                   \ ( (Œ∑ ) ‚à™ (Œ∑ ))
(Ax2b) OŒ∑  œï ‚Üî¬¨PŒ∑‚ô¶¬¨œï                                  restrict interpretations such that R I 1 I 2 always is
                                                      total. This would give us a kind of calculus of normative sys-
(Ax3) OŒ∑‚ô¶œï ‚Üî  OŒ∑(Uœï)
                                                      tems. Let K beaKripkestructureandI be an interpretation
      P            ‚ô¶¬¨œï
(Ax3b)  Œ∑  œï ‚Üî¬¨OŒ∑                                     with the mentioned properties:
        f             f       f
(Ax4) PŒ∑ (œï ‚à® œà) ‚Üî (PŒ∑ œï ‚à® PŒ∑  œà)
                                                           K|=  PŒ∑Œ∑ œï ‚Üí PŒ∑œï     K|=  PŒ∑œï ‚Üí  PŒ∑Œ∑ œï
     O   fœï ‚Üî¬¨P   f¬¨œï                                          I                      I
(Ax5)  Œ∑        Œ∑                                         K|=   OŒ∑œï ‚Üí  OŒ∑Œ∑ œï    K|=  OŒ∑Œ∑ œï ‚Üí OŒ∑œï
                            f                                  I                      I
(Ax6) PŒ∑(œï U œà) ‚Üî (œà ‚à® (œï ‚àß PŒ∑ PŒ∑(œï U œà)))
                            f                         (all of which follow from Proposition 1). Having such a cal-
(Ax7) OŒ∑(œï U œà) ‚Üî (œà ‚à® (œï ‚àß OŒ∑ OŒ∑(œï U œà)))            culus allows one to reason about the composition of norma-
        f       f
(Ax8) PŒ∑ ‚àßOŒ∑                                        tive systems.
                       f
(Ax9) OŒ∑  (œï ‚Üí (¬¨œà ‚àß PŒ∑  œï)) ‚Üí (œï ‚Üí¬¨OŒ∑(Œ≥ U œà))
                        f
(Ax9b) OŒ∑  (œï ‚Üí (¬¨œà ‚àß PŒ∑  œï)) ‚Üí (œï ‚Üí¬¨OŒ∑‚ô¶œà)            Relationship with Deontic Logic: The two main differ-
      O    (œï  ‚Üí  (¬¨œà ‚àß  (Œ≥ ‚Üí   O  fœï))) ‚Üí   (œï ‚Üí     ences between the language of NTL and the language of
(Ax10)  Œ∑                        Œ∑                    conventional deontic logic (henceforth ‚Äúdeontic logic‚Äù) are,
    ¬¨PŒ∑(Œ≥ U œà))
                                                      Ô¨Årst, contextual deontic operators allowing a formula to refer
       O                  f              ‚ô¶œà)
(Ax10b)  Œ∑  (œï ‚Üí (¬¨œà ‚àß OŒ∑  œï)) ‚Üí (œï ‚Üí¬¨PŒ∑              to several different normative systems, and, second, tempo-
                         f       f
(Ax11) OŒ∑  (œï ‚Üí œà) ‚Üí (PŒ∑  œï ‚Üí PŒ∑  œà)                  ral operators. All deontic expressions in NTL refer to time:
                                                         g
                                                      PŒ∑   œï                              Œ∑     œï
(R1) If  œï then  OŒ∑ œï (generalization)                     (‚Äúit is permissible in the context of that is true at
                                                                        O    œï
       œï     œï ‚Üí œà     œà                           the next time point‚Äù); Œ∑ (‚Äúit is obligatory in the context
(R2) If  and        then    (modus ponens)            of Œ∑ that œï always will be true‚Äù); etc. Deontic logic contains
     O  Œ± ‚Üí O  Œ±
(Obl) Œ∑‚àÖ      Œ∑                                       no notion of time. In order to compare our temporal deon-
      P  Œ± ‚Üí P  Œ±
(Perm)  Œ∑     Œ∑‚àÖ                                      tic statements with those of deontic logic we must take the
                                                     temporal dimension to be implicit in the latter. Two of the
(Obl+) Œ∑  Œ∑ ‚Üí (OŒ∑Œ± ‚Üí OŒ∑ Œ±)
                                                     perhaps most natural ways of doing that is to take ‚Äúobliga-
       Œ∑  Œ∑ ‚Üí  (P  Œ± ‚Üí P Œ±)
(Perm+)           Œ∑     Œ∑                             tory‚Äù (Oœï) to mean ‚Äúalways obligatory‚Äù (OŒ∑ œï), or ‚Äúoblig-
                                                                                      g
                                                      atory at the next point in time‚Äù(OŒ∑ œï), respectively, and
                           ‚àí
Figure 1: The three systems NTL ((Ax1)‚Äì(R2), derived from similarly for permission. In either case, all the principles
an axiomatisation of CTL); NTL ((Ax1)‚Äì(R2),(Obl),(Perm)); of Standard Deontic Logic (SDL) hold also for NDL,viz.,
   +
NTL  ((Ax1)‚Äì(R2),(Obl+),(Perm+)). Œ± stands for a temporal O(œï ‚Üí œà) ‚Üí (Oœï ‚Üí  Oœà)  (K); ¬¨O‚ä• (D); and from œï
formula.                                              infer Oœï (N). The two mentioned temporal interpretations of
                                                      the (crucial) deontic axiom D are (both NTL validities):
                                                                                     g
Œ∑ ‚â° Œ∑  and Œ∑  Œ∑ ( can then be deÔ¨Åned), interpreted in               ¬¨OŒ∑   ‚ä•     ¬¨OŒ∑   ‚ä•
                                                                            and
the obvious way (e.g., K, s |=I Œ∑  Œ∑ iff I(Œ∑) ‚äÇ I(Œ∑ )). An
                  +          +                ‚àí
axiom system for NTL , denoted  , is obtained from  by With these translations, all of the most commonly discussed
adding the schemes (Obl+) and (Perm+) (Figure 1).     so-called paradoxes of deontic logic also holds in NTL.How-
                                                      ever, it has been argued (cf., e.g., [Meyer and Wieringa,
Theorem 1 (Soundness and Completeness) The inference  1993]) that one of the causes behind some of the instances of
          ‚àí
mechanism    is sound and complete with respect to validity the paradoxes (particularly those involving contrary-to-duty
      ‚àí                            œï
of NTL  formulas, i.e., for every formula in the language obligations) is that the language of conventional deontic logic
      ‚àí        |= œï   ‚àí  œï                  
of NTL , we have    iff    . The same holds for with  is too weak, and that by incorporating temporal operators
                            +                  +
respect to formulas from NTL and with respect to NTL . some instances of the paradoxes can be avoided.
Proof:  All three cases are proven by adjusting the tech-
                                            ‚àí
nique presented in [Emerson, 1990].FortheNTL  case,   3   Symbolic Representations
the tableau-based construction of [Emerson, 1990] immedi-
ately carries through: we will encounter, for every generated In practice, explicit state representations of Kripke structures
                                                      are rarely if ever used when reasoning about systems, be-
state, successors of different dimensions. For the case of NTL,
                       Œ∑                              cause of the state explosion problem: given a system with
which includes the symbol ‚àÖ,wehavetoaddclausescorre-                                             2n
sponding to (Obl) and (Perm) to the construction of the clo- n Boolean variables, the system will typically have states.
     (œï)            œï    O  Œ±             P Œ±         Instead, practical reasoning tools provide succinct, symbolic
sure cl  of a formula :if Œ∑‚àÖ  (respectively, Œ∑ )isin
 (œï)         O Œ±             P  Œ±              (œï)    representation languages for deÔ¨Åning Kripke structures. We
cl   then also Œ∑ (respectively, Œ∑‚àÖ ) should be in cl .
                +                                     present such a language for deÔ¨Åning models, and also intro-
In the case of NTL ,wehavetocloseoffcl(œï) under the
                                                      duce an associated symbolic language for deÔ¨Åning normative
implications of axioms (Obl+) and (Perm+).       2
                                                      systems.
                  +
  Going beyond NTL , we can impose further structure on
Œ£Œ∑ and its interpretations. For example, we can add unions A Symbolic Language for Models: We present the SIM-
and intersections of normative systems by requiring Œ£Œ∑ to in- PLE REACTIVE MODULES LANGUAGE (SRML), a ‚Äústripped
                                               
clude symbols Œ∑  Œ∑ , Œ∑  Œ∑ whenever it includes Œ∑ and Œ∑ , down‚Äù version of Alur and Henzinger‚Äôs REACTIVE MODULES

                                                IJCAI-07
                                                  1177                                                                              
LANGUAGE  (RML) [Alur and Henzinger, 1999],whichwas   each rule is enabled in s and s is obtained from executing this
introduced in [Hoek et al., 2006]. SRML represents the core collection of rules on s.
of RML, with some ‚Äúsyntactic sugar‚Äù removed to simplify the
presentation and semantics. The basic idea is to present a
Kripke structure K by means of a number of symbolically A Symbolic Language for Normative Systems: We now
represented agents, where the choices available to every agent introduce the SRML Norm Language (SNL) for representing
are deÔ¨Åned by a number of rules, deÔ¨Åning which actions are normative systems, which corresponds to the SRML language
available to the agent in every state; a transition (s, s) in K for models. The general form of an SNL normative system
corresponds to a tuple of actions, one for each agent in the deÔ¨Ånition is:
system. Here is an example of an agent deÔ¨Ånition in SRML
                                                                   normative-system  id
(agents are referred to as ‚Äúmodules‚Äù in (S)RML):                       œá            ,...,
                                                                        1 disables 11     1k
                                                                          ¬∑¬∑¬∑
              module toggle controls x
                                                                       œá disables   ,...,
                init                                                    m           m1    mk
                 :  ;   := 
                1       x                              Here, id ‚àà Œ£Œ∑ is the name of the normative system; these
                 :  ;   := ‚ä•
                2       x                             names will be used to refer to normative systems in formulae
                update
                                                     of NTL. The body of the normative system is deÔ¨Åned by a set
                3 : x ; x := ‚ä•
                                                     of constraint rules. A constraint rule
                4 :(¬¨x) ; x := 
This module, named toggle, controls a single Boolean vari-
                                                                     œá disables   1,...,
able, x. The choices available to the agent are deÔ¨Åned by                                k
the init and update  rules2.Theinit  rules deÔ¨Åne the  consists of a condition part œá, which is a propositional logic
choices available to the agent with respect to the initialisation formula over the variables of the system, and a set of rule
of its variables, while the update rules deÔ¨Åne the agent‚Äôs labels {1,...,k} (we require [] ‚àà{1,...,k}). If œái is
choices subsequently. In this example, there are two init satisÔ¨Åed in a particular state, then any SRML rule with a label
rules and two update rules. The init rules deÔ¨Åne two  that appears on the r.h.s. of the constraint rule will be illegal
choices for the initialisation of variable x: assign it the value in that state, according to this normative system.AnSNL
 or the value ‚ä•. Both of these rules can Ô¨Åre initially, as interpretation is then simply a set of SNL normative systems,
their conditions () are always satisÔ¨Åed; in fact, only one each with a distinct name.
of the available rules will ever actually Ô¨Åre, corresponding Given SNL normative systems Œ∑1 and Œ∑2,forsomeSRML
to the ‚Äúchoice made‚Äù by the agent on that decision round. system œÅ,wesay:Œ∑1 is at least as liberal as Œ∑2 in system œÅ if
The effect of Ô¨Åring a rule is to execute the assignment state- for every state s ‚àà SœÅ, every rule that is legal according to Œ∑2
ments on the r.h.s. of the rule, which modify the agent‚Äôs con- is legal according to Œ∑1;andtheyareequivalent if for every
trolled variables. (The ‚Äúprime‚Äù notation for variables, e.g., state s ‚àà SœÅ, the set of rules legal according to Œ∑1 and Œ∑2 are
 
x , means ‚Äúthe value of x afterwards‚Äù.) Rules are identiÔ¨Åed the same.
by labels (i); these labels do not form part of the original
RML language, and in fact play no part in the semantics of Theorem 2 The problem of testing whether SNL normative
                                                            Œ∑                                        Œ∑
SRML ‚Äì they are used to identify rules in normative systems, system 1 is at least as liberal as SNL normative system 2 is
as we shall see below. We assume a distinguished label ‚Äú[] ‚Äù PSPACE-complete, as is the problem of testing equivalence of
for rules, which is used to identify rules that should never such systems.
be made illegal by any normative system. With respect to
                                                      Proof:  We do the proof for checking equivalence; the lib-
update  rules, the Ô¨Årst rule says that if x has the value ,
                                                      erality case is similar. For membership of PSPACE, consider
then the corresponding action is to assign it the value ‚ä•, while
                                                      the complement problem: guess a state s, check that s ‚àà SœÅ,
the second rule says that if x has the value ‚ä•, then it can sub-
                                                      (reachability of states in RML is in PSPACE [Alur and Hen-
sequently be assigned the value . In sum, the module non-
                                                      zinger, ]) and check that there is some rule legal in s according
deterministically chooses a value for x initially, and then on
                                                      to Œ∑2 is not legal in s according to Œ∑1, or vice versa. Hence the
subsequent rounds toggles this value. In this example, the
                                                      complement problem is in NPSPACE, and so the problem is
init rules are non-deterministic, while the update rules
                                                      in PSPACE.ForPSPACE-hardness, we reduce the problem of
are deterministic. An SRML system, œÅ, is a set of such mod-
                                                      propositional invariant checking over (S)RML modules [Alur
ules, where the controlled variables of modules are mutually
                                                      and Henzinger, ]. Given an SRML system œÅ and propositional
disjoint.
                              0                       formula œï, deÔ¨Åne normative systems Œ∑1 and Œ∑2 as follows
  The Kripke structure KœÅ = SœÅ, S , RœÅ, VœÅ corresponding
                              œÅ                       (where  does not occur in œÅ):
to SRML system œÅ is given as follows: the state set SœÅ and val-
uation function VœÅ corresponds to states (valuations of vari-
                          œÅ                 0          normative-system   Œ∑1       normative-system   Œ∑2
ables) that could be reached by , with initial states SœÅ being ¬¨œï                     ‚ä•          
states that could be generated by init rules; the transition  disables                   disables
                    ( , ) ‚àà
relation RœÅ is deÔ¨Åned by s s RœÅ iff there exists a tuple of According to Œ∑2,  is always enabled; thus Œ∑1 will be equiva-
update  rules, one for each module in the system, such that lent to Œ∑2 iff œï holds across all reachable states of the system.
                                                      2
  2To be more precise, the rules are guarded commands.

                                                IJCAI-07
                                                  11784  Model Checking                                         s1
                                                            t(x1)     s4 t(x2)                t(xk)
                                                       s0                                           s(3k)
Model checking is an important computational problem for
                                                                             s6     ...
any modal or temporal logic [Clarke et al., 2000]. We con-      s3
sider two versions of the model checking problem for NTL,
                                                            f(x1)        f(x2)                f(xk)
depending on whether the model is presented explicitly or s2          s5
symbolically. For each of these cases, there are two fur-
ther possibilities, depending on whether we are given an in-     Figure 2: Reduction for Theorem 3.
terpretation I for normative systems named in formulae or
not. If we are given an interpretation for the normative sys-
tems named in the formula, then NTL model checking essen- Symbolic Model Checking: As we noted above, explicit
tially amounts to a conventional veriÔ¨Åcation problem: show- state model checking problems are perhaps of limited inter-
ing that, under the given interpretation, the model and asso- est, since such representations are exponentially large in the
ciated normative systems have certain properties. However, number of propositional variables. Thus we now consider the
the uninterpreted model checking problem corresponds to the SRML model checking problem for NTL.Again,wehavetwo
synthesis of normative systems: we ask whether there exist versions, depending on whether we are given an interpreta-
normative systems that would have the desired properties. tion or not.
                                                      Theorem 4  The interpreted SRML model checking problem
                                                      for NTL is PSPACE-complete.
Explicit State Model Checking: The interpreted explicit
state model checking problem for NTL is as follows.   Proof:  PSPACE-hardness is by a reduction from the prob-
                                                                                                    [
                                0                     lem of propositional invariant veriÔ¨Åcation for SRML Alur
    Given a Kripke structure K = S, S , R, V, interpreta- and Henzinger, ]3. Given a propositional formula œï and an
    tion I :Œ£Œ∑ ‚Üí N(R) and formula œï of NTL, is it the case          œÅ      = {Œ∑ }
       K|=  œï                                         (S)RML system  ,letI     ‚àÖ , and simply check whether
    that   I ?                                        K  |=  O     œï
                                                        œÅ  I  Œ∑‚àÖ    . Membership of PSPACE is by adapting the
                                                                                           [          ] 2
The CTL model checking problem is P-complete [Schnoebe- CTL symbolic model checking algorithm of Cheng, 1995 .
len, 2003]. The standard dynamic programming algorithm for
                                                      Theorem 5  The uninterpreted SRML model checking prob-
CTL model checking may be easily adapted for interpreted ex-
                                                      lem for NTL is EXPTIME-hard.
plicit state NTL model checking, and has the same worst case
time complexity. More interesting is the case where we are Proof: By reduction from the problem of determin-
not given an interpretation. The uninterpreted explicit state ing whether a given player has a winning strategy in the
model checking problem for NTL is as follows.         two-player game PEEK-G4 [Stockmeyer and Chandra, 1979,
                               0                           ]                      4          1,  2, 3,œï
    Given a Kripke structure K = S, S , R, V and formula p.158 . An instance of PEEK-G is a quad X X X
                                                              1     2
    œï of NTL, does there exist an interpretation I :Œ£Œ∑ ‚Üí where: X and X are disjoint, Ô¨Ånite sets of Boolean variables
    N(R) such that K|=I œï?                            ‚Äì variables X1 are under the control of agent 1, and X2 are
                                                      under the control of agent 2; X3 ‚äÜ (X1 ‚à™X2) are the variables
Theorem 3 The uninterpreted explicit state model checking true in the initial state of the game; and œï is a propositional
problem for NTL is NP-complete.                       formula over X1 ‚à™ X2, representing the winning condition.
                                                      The agents take try to make œï true, by taking it in turns to
Proof:  For membership in NP, simply guess an interpre- alter the value of at most one of their variables. The deci-
tation I and verify that K|=I œï. Since interpretations are sion problem is to determine whether agent 2 has a winning
polynomial in the size of the Kripke structure and formula, strategy in a given game. The idea of the proof is to deÔ¨Åne an
guessing can be done in (nondeterministic) polynomial time, SRML system that such that the runs of the system correspond
and checking is the interpreted explicit state model checking to plays of the given game instance, and then to deÔ¨Åne an
problem. Hence the problem is in NP.ForNP-hardness, we NTL formula to be model checked, which names a normative
reduce SAT.GivenSAT instance œï over variables x1,...,xk, system Œ∑, such that the transitions legal according to Œ∑ corre-
for each variable xi, create two variables t(xi) and f (xi),and spond to a winning strategy for player 2. The construction of
deÔ¨Åne a Kripke structure with 3k +1states, as illustrated in the SRML system follows that of the EXPTIME-completeness
Figure 2; state s0 is the initial state, and state s3k is a Ô¨Ånal proof of ATL model checking in [Hoek et al., 2006], with
          ‚àó
state. Let œï denote the NTL formula obtained from œï by the difference that player 2‚Äôs update rules are given labels (so
systematically replacing every variable xi with (PŒ∑‚ô¶t(xi)). that they may be disabled). The formula to model check then
DeÔ¨Åne the formula to be model checked as:             deÔ¨Ånes three properties: (i) if it is agent 2‚Äôs turn, then accord-
                                                      ing to Œ∑ at most one of its possible moves is legal; (ii)allof
      V
   ‚àó                                                  agent 1‚Äôs moves are legal according to Œ∑ (i.e, agent 2 must
  œï ‚àß       (PŒ∑‚ô¶(t(x ) ‚à® f (x ))) ‚àß
  V     1‚â§i‚â§k      i     i                            win against all of these); and (iii) the legal paths according to
       (PŒ∑‚ô¶t(x ) ‚Üí¬¨PŒ∑‚ô¶f (x ))(PŒ∑‚ô¶f (x ) ‚Üí¬¨PŒ∑‚ô¶t(x ))
   1‚â§i‚â§k      i           i        i           i      Œ∑ must represent wins for agent 2.                2
This formula is satisÔ¨Åed in the structure by some interpreta-
                                                         3                [                   ]
tion iff œï is satisÔ¨Åable.                        2       In fact, the result of Alur and Henzinger, 1999 is stated for
                                                      RML, but the proof only makes use of features from SRML.

                                                IJCAI-07
                                                  1179
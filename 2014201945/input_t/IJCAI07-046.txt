                   A Logical Framework for Modularity of Ontologies‚àó

            Bernardo Cuenca Grau, Ian Horrocks, Yevgeny Kazakov           and Ulrike Sattler
                                     The University of Manchester
                                      School of Computer Science
                                       Manchester, M13 9PL, UK
                           {bcg, horrocks, ykazakov, sattler }@cs.man.ac.uk

                    Abstract                          ontology itself by possibly reusing the meaning of external
                                                      symbols. Hence by merging an ontology with external on-
    Modularity is a key requirement for collaborative tologies we import the meaning of its external symbols to de-
    ontology engineering and for distributed ontology Ô¨Åne the meaning of its local symbols.
    reuse on the Web. Modern ontology languages,        To make this idea work, we need to impose certain con-
    such as OWL, are logic-based, and thus a useful   straints on the usage of the external signature: in particular,
    notion of modularity needs to take the semantics of merging ontologies should be ‚Äúsafe‚Äù in the sense that they
    ontologies and their implications into account. We do not produce unexpected results such as new inconsisten-
    propose a logic-based notion of modularity that al- cies or subsumptions between imported symbols. To achieve
    lows the modeler to specify the external signature this kind of safety, we use the notion of conservative exten-
    of their ontology, whose symbols are assumed to   sions to deÔ¨Åne modularity of ontologies, and then prove that
    be deÔ¨Åned in some other ontology. We deÔ¨Åne two    a property of some ontologies, called locality, can be used
    restrictions on the usage of the external signature, to achieve modularity. More precisely, we deÔ¨Åne two no-
    a syntactic and a slightly less restrictive, seman- tions of locality for SHIQ TBoxes: (i) a tractable syntac-
    tic one, each of which is decidable and guarantees tic one which can be used to provide guidance in ontology
    a certain kind of ‚Äúblack-box‚Äù behavior, which en- editing tools, and (ii) a more general semantic one which can
    ables the controlled merging of ontologies. Analy- be checked using a DL-reasoner. Additionally, we present an
    sis of real-world ontologies suggests that these re- extension of locality to the more expressive logic SHOIQ
    strictions are not too onerous.                   [Horrocks and Sattler, 2005]. Finally, we analyse existing
                                                      ontologies and conclude that our restrictions to local TBoxes
1  Motivation                                         are quite natural.
                                                        When integrating independently developed ontologies, we
Modularity is a key requirement for many tasks concerning often have to identify different symbols in the ontologies hav-
ontology design, maintenance and integration, such as the ing the same intended meaning. This is a problem known as
collaborative development of ontologies and the merging of ontology matching or mapping,1 which we are not concerned
independently developed ontologies into a single, reconciled with here: we consider ontologies sharing some part of their
ontology. Modular representations are easier to understand, signature, and how we can make sure that that their merge
reason with, extend and reuse. Unfortunately, in contrast (i.e. the union of their axioms) is ‚Äúwell-behaved‚Äù.
to other disciplines such as software engineering‚Äîin which
modularity is a well established notion‚Äîontology engineer-
ing is still lacking a useful, well-deÔ¨Åned notion of modularity. 2 Preliminaries
  Modern  ontology languages, such as OWL    [Patel-  We introduce the description logic SHOIQ, which provides
Schneider et al., 2004], are logic-based; consequently, a no- the foundation for OWL.
tion of modularity needs to take into account the semantics of A SHOIQ-signature is the disjoint union S = R  C  I
the ontologies and their implications.                of sets of role names (denoted by R, S, ¬∑¬∑¬∑), concept names
  In this paper, we propose a logic-based framework for (denoted by A, B, ¬∑¬∑¬∑)andnominals (denoted by i, j, k, ¬∑¬∑¬∑).
modularity of ontologies in which we distinguish between A SHOIQ-role is either R ‚àà R or an inverse role R‚àí with
external and local symbols of ontologies. Intuitively, the ex- R ‚àà R. We denote by Rol(S) the set of SHOIQ-roles for
ternal symbols of an ontology are those that are assumed to the signature S.ThesetCon(S) of SHOIQ-concepts for the
be deÔ¨Åned somewhere externally in other ontologies; the re- signature S is deÔ¨Åned by the grammar
maining, local symbols, are assumed to be deÔ¨Åned within the
                                                      Con(S) ::= A | j | (¬¨C) | (C1 C2) | (‚àÉR.C) | ( nS.C)
  ‚àóThis work is supported by the EU Project TONES (Thinking
ONtologiES) ref: IST-007603 and by the EPSRC Project REOL 1The website http://www.ontologymatching.org
(Reasoning in Expressive Ontology Languages) ref: EP/C537211/1. provides extensive information about this area.

                                                IJCAI-07
                                                   298where A ‚àà C, j ‚àà I, C(i) ‚àà Con(S), R, S ‚àà Rol(S), with S In order to formulate our notion of modularity, we will dis-
a simple role,2 and n a positive integer. We use the following tinguish between the local and external symbols of an ontol-
abbreviations: C D stands for ¬¨(¬¨C ¬¨D);  and ‚ä• stand ogy. We assume that the signature Sig(T ) of a TBox T is
for A ¬¨A  and A ¬¨A, respectively; ‚àÄR.C and  nS.C   partitioned into two parts: the local signature Loc(T ) of T
stand for ¬¨‚àÉR.¬¨C and ¬¨( n+1S.C), respectively.       and the external signature Ext(T ) of T . To distinguish be-
  A SHOIQ-TBox    T , or ontology, is a Ô¨Ånite set of role in- tween the elements of these signatures, we will underline the
clusion axioms (RIs) R1  R2 with Ri ‚àà Rol(S), transitivity external signature elements whenever used within the con-
                                                            T               (T )
axioms Trans(R) with R ‚àà R and general concept inclusion text of . Intuitively, Ext speciÔ¨Åes the concept and role
axioms (GCIs) C1  C2 with Ci ‚àà Con(S).WeuseA ‚â°  C    names that are (or can be) imported from other ontologies,
                                                              (T )                            T
as an abbreviation for the two GCIs A  C and C  A.  while Loc   speciÔ¨Åes those that are deÔ¨Åned in .
The signature Sig(Œ±) (respectively Sig(T )) of an axiom Œ± As a motivating example, imagine a set of bio-medical on-
(respectively of a TBox T ) is the set of symbols occurring in tologies that is being developed collaboratively by a team of
Œ± (respectively in T ). A SHIQ-TBox is a SHOIQ-TBox   experts. Suppose that one group of experts designs an on-
                                                            G
that does not contain nominals.                       tology  about genes and another group designs an ontology
                                                      D
  Given a signature S = R  C  I,anS-interpretation I  about diseases. Now certain genes are deÔ¨Åned in terms of
is a pair I =(ŒîI ,.I ),whereŒîI is a non-empty set, called the diseases they cause. For example, the gene ErbB2 is de-
                               .I                     scribed in G as an Oncogene that is found in humans and is
the domain of the interpretation, and is the interpretation                                     3
function that assigns to each R ‚àà R a binary relation RI ‚äÜ associated with a disease called Adrenocarcinoma
 I     I                       I     I
Œî  √ó  Œî , to each A ‚àà C asetA    ‚äÜ Œî  ,andtoevery         ErbB2  ‚â°   Oncogene ‚àÉfoundIn.Human
j ‚àà I            jI ‚äÜ ŒîI
     a singleton set     . The interpretation function is            ‚àÉassociatedWith.Adrenocarcinoma
extended to complex roles and concepts as follows:
                                                      The concept Adrenocarcinoma is described in D, which is un-
     (R‚àí)I  = {x, y|y,x‚ààRI}                       der the control of a different group of modelers. So, this con-
     (¬¨C)I  =ŒîI   \ CI                                cept is external for G, whereas the remaining concept and role
  (C  D)I  = CI ‚à© DI                                 names are local for G. Now one consequence of these ontolo-
   (‚àÉR.C)I  = {x ‚àà ŒîI |‚àÉy.x, y‚ààRI  ‚àß y ‚àà CI }       gies being modularly ‚Äúwell-behaved‚Äù would be that the gene
 ( nR.C)I  = {x ‚àà ŒîI |                               experts building G should not change the knowledge about
               {y ‚àà ŒîI |x, y‚ààRI  ‚àß y ‚àà CI }‚â•n}     diseases, even if they are using them in their axioms.
                                                        Another example is the integration of a foundational (or
                       I|= Œ±                          ‚Äúupper‚Äù) ontology U and a domain ontology O. Founda-
  The satisfaction relation  between an interpretation                                  4
I and a SHOIQ-axiom  Œ± (read as I satisÔ¨Åes Œ±)isdeÔ¨Åned tional ontologies, such as CYC, SUMO, and DOLCE, pro-
                             I     I                  vide a structure upon which ontologies for speciÔ¨Åc subject
as follows: I|=(R1  R2) iff R1 ‚äÜ R2 ; I|= Trans(R)
iff RI is transitive; I|=(C  D) iff CI ‚äÜ DI.Aninter- matters can be constructed and are assumed to be the result
pretation I is a model of a TBox T if I satisÔ¨Åes all axioms in of an agreement between experts. Suppose that an ontol-
T         T                Œ±        T|= Œ±)   I|= Œ±    ogy developer wants to reuse the generic concept of a Sub-
 .ATBox     implies an axiom (written      if                   U               O
for every model I of T . An axiom Œ± is a tautology if it is stance from in their ontology about Chemicals.Forsuch
satisÔ¨Åed in every interpretation.                     a purpose, they state that the concept Organic Chemical in
                           I I                        their chemical ontology O is more speciÔ¨Åc than Substance
  An S-interpretation I =(Œî, ¬∑ ) is an expansion of an
                                                   in U by using the axiom: Organic Chemical  Substance,
S-interpretation I =(ŒîI , ¬∑I ) if S ‚äá S, ŒîI =ŒîI ,and
                                                     where Substance ‚àà Ext(O). Since foundational ontologies
XI =  XI  for every X ‚àà S.Thetrivial expansion of I to
                                                     are well-established ontologies that one does not control and,
S is an expansion I =(ŒîI , ¬∑I ) of I such that XI = ‚àÖ for typically, does not have complete knowledge about, it is espe-
every X ‚àà S \ S.                                     cially important that the merge O‚à™Udoes not produce new
                                                      logical consequences w.r.t. U‚Äîeven if U changes.
3  Modularity of Ontologies                             In both examples, we have argued that ontology integration
                                                      should be carried out in such a way that consequences of a
                                                                                            
In this section, we propose a logical formalization for the no- TBox T are not changed when elements of T are reused in
tion of modularity for ontologies. In analogy to software en- another TBox T . This property can be formalized using the
gineering, we should be able to compose complex ontologies notion of a conservative extension [Ghilardi et al., 2006].
from simpler (modular) ontologies in a consistent and well- DeÔ¨Ånition 1 (Conservative Extension). Let T and T  be
deÔ¨Åned way, in particular without unintended interactions be- TBoxes. Then T‚à™T is a conservative extension of T  if, for
tween the component ontologies. This notion of modular- every axiom Œ± with Sig(Œ±) ‚äÜ Sig(T ) we have T‚à™T |= Œ±
ity would be useful for both the collaborative development of iff T  |= Œ±.                            ‚ô¶
a single ontology by different domain experts, and the inte- Thus, given T and T , their union T‚à™T does not yield
gration of independently developed ontologies, including the new consequences in the language of T  if T‚à™T is a conser-
reuse of existing third-party ontologies.
                                                         3Example from the National Cancer Institute Ontology http:
  2See [Horrocks and Sattler, 2005] for a precise deÔ¨Ånition of sim- //www.mindswap.org/2003/CancerOntology.
ple roles.                                               4See http://ontology.teknowledge.com.

                                                IJCAI-07
                                                   299 vative extension of T . A useful notion of modularity, how- As discussed in Section 3, the external names are ‚Äúim-
 ever, should abstract from the particular T  under considera- ported‚Äù in order to reuse them in the deÔ¨Ånition of other con-
 tion. In fact, the external signature should be the core notion cepts, and not to further constrain their meaning. Intuitively,
 in a modular representation as opposed to its particular deÔ¨Ån- axioms of type (1) are consistent with this idea, whereas ax-
 ition in a particular ontology T . This is especially important ioms of type (2) are not.
 when T  may evolve, and where this evolution is beyond our The principal difference between these two axioms is that
                                                                                  
 control‚Äîwhich, for example, could well be the case when us- (2) forces the external concept C2 to contain only instances of
 ing the ‚Äúimports‚Äù construct provided by OWL. Consequently, the local concept name A, thus bounding the size of possible
                                                                       
 in order for T to use Ext(T ) in a modular way, T‚à™T should interpretations of C2 once the meaning of A is established.
 be a conservative extension of any T  over Ext(T ).  In contrast, (1) still (in principle) allows for interpretations
                                                           
   Furthermore, it is important to ensure that, whenever two of C1 of unbounded size. Note that this argument does not
 independent parts T1 and T2 of an ontology T under the con- prohibit all inclusion axioms between external concepts and
 trol of different modelers are developed in a modular way, local ones. For example, in contrast to (2), the axiom
 then T remains modular as well.
                                                                         C ¬¨A
   These requirements can be formalized as follows:                       2          (local)           (3)
                               M             T                                                          
 DeÔ¨Ånition 2 (Modularity). Aset    of TBoxes    with   still leaves sufÔ¨Åcient ‚Äúfreedom‚Äù for the interpretation of C2,
 Sig(T )=Loc(T )  Ext(T ) is a modularity class if the fol- even if the interpretation for A is Ô¨Åxed. In fact, this axiom is
                                                                          
 lowing conditions hold:                               equivalent to A ¬¨C2, and thus is of type (1).
M1.  If T‚ààM,thenT‚à™T       is a conservative extension of Our choice of the types of simple axioms to disallow can be
     every T  such that Sig(T ) ‚à© Loc(T )=‚àÖ;         generalized to more complex axioms; for example, all axioms
                                                       below should be forbidden for the reasons given above:
M2.  If T1, T2 ‚àà M,thenT = T1 ‚à™T2 ‚àà M  with Loc(T )=
        (T1) ‚à™   (T2)                             ‚ô¶                               
     Loc      Loc    .                                  C1  A1  A2   and   A ‚â° C2 ‚àÉR.B    (non-local) (4)
   Please note that our framework is independent of the DL
 under consideration. Also, DeÔ¨Ånition 2 does not deÔ¨Åne a The last axiom is disallowed because it implies (2).
 modularity class uniquely, but just states conditions for be- Even if an axiom does not explicitly involve the external
 ing one. When the modularity class is clear from the context, symbols, it may still constrain their meaning. In fact, cer-
 we will call its elements modular ontologies.         tain GCIs have a global effect and impose constraints on all
   In the next section, we focus our attention on the logic elements of the models of an ontology, and thereby on the in-
 SHIQ, and show that it is possible to deÔ¨Åne a reasonable terpretation of external concepts. For example, it is easy to
 modularity class such that (1) checking its membership can see that the axioms
 be done using standard reasoning tools, (2) it has an inex-
                                                               A      and  ¬¨A1   A2  (non-local)    (5)
 pensive syntactic approximation that can be used to guide the
 modeling of ontologies in a modular way, and (3) our analy- imply (2) and the Ô¨Årst axiom in (4) respectively.5 These ob-
 sis of existing ontologies shows that they seem to conform servations lead to the following deÔ¨Ånition:
 ‚Äúnaturally‚Äù with its restrictions.
                                                       DeÔ¨Ånition 3 (Locality). Let S be a SHIQ-signature and let
                                                       E  ‚äÜ S be the external signature. The following grammar
 4  Modularity of   SHIQ    ontologies                                    +      ‚àí
                                                       deÔ¨Ånes the two sets CE and CE of positively and negatively
 In this section we deÔ¨Åne a particular modularity class, the local concepts w.r.t. E:
 class of local ontologies, which captures many practical ex-
                                                          +           ‚àí         +       +           +
 amples of modularly developed ontologies. We Ô¨Årst give a CE ::= A | (¬¨C ) | (C  C ) | (‚àÉR .C) | (‚àÉR.C ) |
                                                                                                     +
 syntactic deÔ¨Ånition of local ontologies and then generalize it                 | ( nR+.C) | ( nR.C  ) .
 to a semantic one. Finally, we prove that our semantic deÔ¨Åni- ‚àí   +     ‚àí    ‚àí
                                                        C   ::= (¬¨C ) | (C1  C2 ) .
 tion leads to a maximal class of modular TBoxes.        E
   DeÔ¨Ånition 2 excludes already many SHIQ-TBoxes. Prop- where A is a concept name from S \ E, R ‚àà Rol(S), C ‚àà
 erty M1, in particular, implies that no modular TBox T can     +    +   ‚àí     ‚àí              +          6
                                                       Con(S), C  ‚ààCE  , C(i) ‚ààCE , i =1, 2,andR ‚àà Rol(E).
 contain the two axioms below at the same time:                                +
                                                         A role inclusion axiom R  R  or a transitivity axiom
                 A  C                                       +
                       1    (local)              (1)   Trans(R  ) is local w.r.t. E.AGCIislocal w.r.t. E if it is
                                                                       +               ‚àí         +     +
                 C2  A     (non-local)          (2)   either of the form C  C or C  C  ,whereC   ‚ààCE  ,
                                                     C‚àí  ‚ààC‚àí      C  ‚àà    (S)    SHIQ        T
 where A is a local concept name and C1, C2 are constructed   E  and     Con   .A        -TBox    is local if
                                                                    T                (T )             ‚ô¶
 using Ext(T ). These axioms imply C2  C1, which indeed every axiom from is local w.r.t. Ext .
                                         C
 changes the meaning of the external concepts i.Atthis   Intuitively, the positively local concepts are those whose
 point, we are faced with a fundamental choice as to the type of interpretation is bounded (i.e. its size is limited) when the
 axioms to disallow. Each choice leads to a different modular- interpretation of the local symbols is Ô¨Åxed. In this respect,
 ity class. We argue that, analogously to software engineering,
                                                          5                                     
 where reÔ¨Ånement is the main application of modularity, ax- ¬¨A1  A2 implies A1A2, which implies C  A1A2.
                                                          6
 ioms of type (1) Ô¨Åt better with ontology integration scenarios, Recall that ‚àÄR.C, ( nR.C) and C1  C2 are expressed using
 such as those sketched in Section 3, than axioms of type (2). the other constructors, so they can be used in local concepts as well.

                                                 IJCAI-07
                                                    300they behave similarly to local concept names. Negatively lo- Lemma 5 tells us that, in Example 4, W‚à™Fdoes not
cal concepts are essentially negations of positively local con- entail new information about food only.EvenifF evolves,
cepts. Please, note that, given E ‚äÜ S, a concept written over say by adding the axiom VealParmesan ‚àÉproducedIn.Italy
                  +        ‚àí
S may be neither in CE , nor in CE .                  using a third ontology C of countries, W will not inter-
  DeÔ¨Ånition 3 can be used to formulate guidelines for con- fere with F. On the other hand, using the imported con-
structing modular ontologies, as illustrated by the following cepts from F allows us to derive some non-trivial proper-
example. Moreover, DeÔ¨Ånition 3 can be used in ontology ed- ties involving the local and mixed signature of W,suchas
itors to detect and warn the user of an a priori ‚Äúdangerous‚Äù Chardonnay  RedWine and Rioja  DeliciousProduct.
usage of the external signature‚Äîwithout the need to perform As we have seen, our notion of locality from DeÔ¨Ånition 3
any kind of reasoning.                                yields a modularity class. This class, however, is not the most
Example 4 Suppose we are developing W, an ontology about general one we can achieve. In particular, there are axioms
                                                F     that are not local, but obviously unproblematic. For example,
wines, and we want to reuse some concepts and roles from ,     A  A  C
an independently developed ontology about food.       the axiom             is a tautology, but is disallowed by
                                                      DeÔ¨Ånition 3 since it involves external symbols only; another
                                                                                      
 F:  VealParmesan  MeatDish ‚àÉhasIngredient.Veal     example is the GCI A1  B  A2  B which is implied by
                                                                                A    A
   DeliciousProduct ‚àÉhasIngredient.DeliciousProduct  the (syntactically) local axiom 1 2. The limitation of
                                                      our syntactic notion of locality is its inability to ‚Äúcompare‚Äù
                Trans(hasIngredient)
                                                      concepts from the external signature.
 W:   Chardonnay  Wine ‚àÉservedWith.VealParmesan       A natural question is whether we can generalize DeÔ¨Åni-
                       ‚àÉ            .               tion 3 to overcome this limitation. Obviously, such general-
            Rioja  Wine    hasIngredient Tempranillo  ization cannot be given in terms of syntax only since check-
        RedWine   Wine ‚àÉservedWith.MeatDish         ing for tautologies in the external signature necessarily in-
      Tempranillo  DeliciousProduct                  volves reasoning. Since our proof of Lemma 5 relies mainly
                                                      on Lemma 6, we generalize our notion of locality as follows:
Here  Ext(W)={hasIngredient,       DeliciousProduct,  DeÔ¨Ånition 7 (Semantic Locality). Let E ‚äÜ S.ASHIQ-
VealParmesan, MeatDish} and W is local.          ‚ô¶    axiom Œ± with Sig(Œ±) ‚äÜ S is semantically local w.r.t. E if
                                                                                                
  The following Lemma shows that our notion of locality sat- the trivial expansion I of every E-interpretation I to S is a
isÔ¨Åes the desired properties from DeÔ¨Ånition 2.        model of Œ±.ASHIQ-TBox    T is semantically local if every
                                                      axiom in T is semantically local w.r.t. Ext(T ). ‚ô¶
Lemma 5 [Locality Implies Modularity]
The set of local SHIQ TBoxes is a modularity class.     Lemma 6 essentially implies that every syntactically local
                                                      TBox is semantically local. Interestingly, both notions coin-
  To prove Lemma 5, we use the following property:
                                                      cide when E = ‚àÖ  or when Œ± is a non-trivial role inclusion
Lemma 6  Let T bealocalSHIQ   TBox with E = Ext(T ),  axiom (not of the form R  R) or a transitivity axiom. It
       
and let I be an E-interpretation. Then the trivial expansion is easy to check that the conditions for a modularity class in
     
I of I to Sig(T ) is a model of T .                   DeÔ¨Ånition 2 hold for semantic locality as well. The following
                                                      proposition provides an effective way of checking whether a
Proof. We need to show that I|= Œ± for every Œ± ‚ààT.
                             Œ±  ‚ààT                    GCI satisÔ¨Åes DeÔ¨Ånition 7:
According to DeÔ¨Ånition 3, every       has one of the                                          
forms: R+  R, Trans(R+), C+   C or C  C‚àí,where     Proposition 8 Let Œ± be a GCI and E ‚äÜ S.LetŒ± be obtained
 +             +    +       ‚àí    ‚àí                         Œ±                                       ‚àÉR.C
R   ‚àà/ Rol(E), C ‚ààC   and C   ‚ààC   . To prove I|= Œ±   from   by replacing every subconcept of the form  ,
                    E            E                     nR.C                         A    Œ±      ‚ä•
it is then sufÔ¨Åces to show that (R+)I = ‚àÖ, (C+)I = ‚àÖ and     , and every concept name  in   with  ,where
(C‚àí)I =ŒîI                                             R/‚àà  Rol(E) and A/‚àà E.ThenŒ±  is semantically local w.r.t.
            for each such axiom. The Ô¨Årst property holds E Œ±
since I is the trivial expansion of an E-interpretation I.The iff is a tautology.
remaining two properties can be easily shown by induction                             ‚àÉR.C    nR.C
                  C+     C‚àí                           Proof. The subconcepts of the form   ,        ,and
over the deÔ¨Ånitions of E and E from DeÔ¨Ånition 3.      A  are interpreted by ‚àÖ in every trivial expansion of every
                                                      E                                              ‚ä•
Proof of Lemma 5. Let M be a set of TBoxes Ti, each of  -interpretation, hence they are indistinguishable from in
which is local w.r.t. Ext(Ti). Property M2 from DeÔ¨Ånition 2 the context of DeÔ¨Ånition 7. Replacing all these subconcepts
                                                        Œ±      ‚ä•       Œ±        (Œ±) ‚äÜ E
follows from DeÔ¨Ånition 3 since every axiom Œ± that is local in with yields with Sig        , and thus DeÔ¨Åni-
                                                                    Œ±                           SHIQ
w.r.t. E is also local w.r.t. every E with (E ‚à© Sig(Œ±)) ‚äÜ E. tion 7 implies that is semantically local iff every -
                                                                         Œ±
  In order to prove Property M1, let T bealocalSHIQ-  interpretation satisÔ¨Åes .
               T  ‚à™T |= Œ±               T 
TBox. Assume ( )            for some TBox    and an     As mentioned above, deciding semantic locality involves
axiom Œ± with Sig(Œ±) ‚äÜ Sig(T ) and Sig(T ) ‚à© Loc(T )=‚àÖ.
                                                     reasoning; in fact, this problem is PSPACE-complete in the
We have to show that T |= Œ±.                                         7
                          T  |= Œ±                   size of the axiom, as opposed to checking syntactic locality,
  Assume to the contrary that     . Then, there exists which can be done in polynomial time. We expect the test
a model I of T  such that I |= Œ±.LetI be the trivial
                                  
expansion of I to Sig(T ).ThenI|= T and I |= Œ± since    7
                                                        This is precisely the complexity of checking subsumption be-
Sig(Œ±) ‚äÜ Sig(T ). Additionally, by Lemma 6, I|= T .So tween SHIQ-concepts w.r.t. the empty TBox and without role in-
     
T‚à™T    |= Œ±, which contradicts our assumption ().   clusions and transitivity axioms [Tobies, 2001].

                                                IJCAI-07
                                                   301from Proposition 8 to perform well in practice since the size over it. Under this assumption, DeÔ¨Ånitions 3 and 7 can be
of axioms in a TBox is typically small w.r.t. the size of the reused for SHOIQ. Such notions of locality still allow for
TBox, and would like to point out that it can be performed non-trivial uses of nominals in T . For example, the following
using any existing DL reasoner.                       axiom is semantically local w.r.t. E = {elvis},evenifelvis
  It is worth noting that both notions of locality provide the is used as a nominal:
‚Äúblack-box‚Äù behavior we are aiming at, and both involve only    ElvisLover ‚â° MusicFan ‚àÉlikes.elvis
the ontology T and its external signature. Finally, a nat-
ural question arising is whether semantic locality can be fur- Indeed, the trivial expansion of every E-Interpretation to S =
ther generalized while preserving modularity. The following {ElvisLover, MusicFan, likes} is a model of this axiom.
lemma answers this question negatively.               DeÔ¨Ånition 11 (Locality for SHOIQ). A SHOIQ-TBox  T
                                                             (T )=RCI
Lemma 9 [Semantic Locality is Maximal]                with Sig              is syntactically (semantically) local
                                                           E   T                                    E ‚à™ I
If a SHIQ-TBox T1 is not semantically local, then there exist w.r.t. if is syntactically (semantically) local w.r.t.
                                                                                                      ‚ô¶
SHIQ-TBoxes   T2 and T such that T2 is local, Loc(T2) ‚äÜ as in DeÔ¨Ånition 3 (DeÔ¨Ånition 7).
                                          
Loc(T1), Loc(T1) ‚à© Sig(T )=‚àÖ,andT1 ‚à™T2  ‚à™T  is not a  Lemma 12 [Semantic Locality Implies Modularity] The
conservative extension of T .                        set of semantically local SHOIQ TBoxes is a modularity
                                                              E
                                                     class for .
Proof. Let T1 be not semantically local, and deÔ¨Åne T2 and T
                                                        The proof is analogous to the one of Lemma 5. Unfortu-
as follows: T2 consists of the axioms of the form A ‚ä•and
                                                     nately, an important use of nominals in DLs, namely ABox
‚àÉR.‚ä•for every   A, R ‚àà Loc(T1); T consists of axioms
                                                  assertions, is non-local according to our deÔ¨Ånition. For ex-
of the form ‚ä•A    and ‚ä•‚àÉR    . for every A ,R ‚àà
                                                      ample, the assertion elvis  Singer (typically written as
Ext(T1). Note that (i) T2 is local, (ii) for every model I of
            I          I                              elvis:Singer) is not local since elvis is treated as an exter-
T2,wehaveA   =  ‚àÖ and R  = ‚àÖ for every A, R ‚àà Loc(T1)
                                                     nal element. In fact, it is not possible to extend the deÔ¨Ånition
and (iii) every Ext(T1)-interpretation is a model of T ,and
                                                     of locality to capture assertions and retain modularity:
(iv) T uses all symbols from Ext(T1).
                                
  In order to show that T1 ‚à™T2 ‚à™T is not a conservative Proposition 13 [Assertions Cannot be Local]
extension of T , we construct an axiom Œ± over the signature For every assertion Œ± =(i  A) there exists a syntactically
                                                           T         T‚à™{Œ±}
of T such that T |= Œ± but T1 ‚à™T2 ‚à™T   |= Œ± .Since    local TBox  such that       is inconsistent.
T                                           Œ± ‚ààT
 1 is not semantically local, there exists an axiom 1 Proof. Take T = {A ‚ä•}.
which is not semantically local w.r.t. Ext(T1),andwhichwe
                                               
use to deÔ¨Åne Œ± .IfŒ± is a role axiom of the form Œ± =(R  Proposition 13 implies that no TBox T1 containing an as-
R),wesetŒ±   =(‚àÄR.‚ä•);ifŒ±       =(R    S) with   sertion Œ± can be declared as local without braking either prop-
R = S or Œ± = Trans(R),wesetŒ± =  Œ±;andifŒ±  is a   erty M1 or M2 of modularity from DeÔ¨Ånition 2. Indeed, by
GCI, we deÔ¨Åne Œ± from Œ± as in Proposition 8. As a result, Œ± taking T as in the proof of Proposition 13, we obtain an in-
                                        
uses Ext(T1)=Sig(T ) only, and T |= Œ± since Œ± is not a consistent merge T1 ‚à™T which should be local according to
tautology (for the last case this follows from Proposition 8). M2 if T1 is local. However, no inconsistent TBox can be local
Since T1 contains Œ± and because of the property (ii) above since it implies all axioms and hence violates condition M1.
                                            
for T2,wehaveT1 ‚à™T2 |= Œ± ,andsoT1 ‚à™T2 ‚à™T  |= Œ± .        Even if the merge of a TBox and a set of assertions is con-
                                                      sistent, new subsumptions over the external signature may
  Lemma 9 shows that semantic locality cannot be general- still be entailed. For example, consider the TBox T consist-
ized without violating the properties in DeÔ¨Ånition 2. Indeed, ing of the axiom:
condition M2 implies that the union T of two local TBoxes T1
                                                            Frog ‚àÉhasColor.green ‚àÄhasColor.Dark
and T2 is a local TBox, and condition M2 implies that T‚à™T
                                  
is conservative over every T with Sig(T ) ‚à© Loc(T )=‚àÖ. which is local w.r.t. E = {green, Dark}.Ifweaddtheasser-
The results in Lemma 5 and Lemma 9 are summarized in the tion kermit  Frog to T , then we obtain that green is a dark
following theorem:                                    color (green  Dark), as a new logical consequence.
Theorem 10 A set of semantically local SHIQ TBoxes is a To sum up, we have shown that locality can be extended
maximal class of modular TBoxes.                      to SHOIQ, but not in the presence of assertions. An open
                                                      question is whether semantic locality for SHOIQ is maxi-
5  Modularity of   SHOIQ     ontologies               mal in the sense of Lemma 9.
When trying to extend the results in the previous section to 6 Field Study
the more expressive logic SHOIQ, we soon encounter difÔ¨Å-
                                                      In order to test the adequacy of our conditions in practice,
culties. Nominals are interpreted as singleton sets and, thus, a
                                                      we have implemented a (syntactic) locality checker and run
straightforward extension of DeÔ¨Ånition 7 fails since nominals
                                                      it over ontologies from a library of 300 ontologies of various
cannot be interpreted by the empty set.
                                                      sizes and complexity some of which import each other [Gar-
  A notion of modularity, however, can still be achieved if
                                                      diner et al., 2006].8 Since OWL does not allow to declare
all nominals in a TBox T are treated as external concepts; the
intuitive reason for this is that the interpretation of nominals 8The library is available at http://www.cs.man.ac.uk/
is already very constrained, and hence we have little control ‚àºhorrocks/testing/

                                                IJCAI-07
                                                   302
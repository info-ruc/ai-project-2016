                                      Dependency       Calculus
                      Reasoning     in  a General    Point  Relation    Algebra

                                 Marco   Ragni  and  Alexander  Scivos
                      Institut fur¬® Informatik, Albert-Ludwigs-Universitat¬® Freiburg
                          Georges-Kohler¬® -Allee 52, 79110 Freiburg, Germany
                          {ragni,scivos}@informatik.uni-freiburg.de

                    Abstract                          ‚Äùfork‚Äù, ‚Äùbefore‚Äù, ‚Äùequal‚Äù, and ‚Äùafter‚Äù are called ‚Äùdependent‚Äù.
                                                      The other case, like (A,B), is called ‚Äùindependent‚Äù (). A
    The point algebra is a fundamental formal calcu-  medical problem is given in Fig. 2.
    lus for spatial and temporal reasoning. We present

    a new generalization that meets all requirements to         A               A             D
    describe dependencies on networks. Applications
    range from trafÔ¨Åc networks to medical diagnostics.              B     C          B    C
    We investigate satisfaction problems, tractable sub-
    classses, embeddings into other relation algebras, Figure 2: A virus transmittance scheme. Arrows indicate direction
    and the associated interval algebra.              of assured, dashed of unassured donorship, dotted lines mean that
                                                      both persons carry the same virus. No lines means that we do not
                                                      have prior knowledge. The situation on the left must be incomplete.
1  The  Dependency    Calculus                        The existence of a fourth person D accounts for this. PAdc concludes
                                                                                           D   A
Reasoning about complex dependencies between events is a that indeed there was indirect transmittance from to .
crucial task. However, qualitative reasoning has so far con- If x, y are points in a partial order hT,‚â§i, then we deÔ¨Åne
centrated on spatial and temporal issues. In contrast, we these relations in terms of the partial order as follows:
present a calculus [Ragni and Scivos, 2005], a proper gener- x ‚â∫ y iff x ‚â§ y and not y ‚â§ x.
alization of the nonlinear relation algebra, created for speciÔ¨Åc x = y iff x ‚â§ y and y ‚â§ x.
questions of reasoning about consequences.                x  y iff y ‚â§ x and not x ‚â§ y.
  This algebra, called dependency calculus (DC), meets all x f y iff ‚àÉz z ‚â§ y ‚àß z ‚â§ x and neither x ‚â§ y nor y ‚â§ x.
requirements to describe dependencies in networks. There  x  y iff neither ‚àÉz z ‚â§ y ‚àß z ‚â§ x nor x ‚â§ y nor y ‚â§ x .
are two aspects: dependencies of points are described by the All relations between nodes in Fig. 1 can be described by
point algebra PAdc, and of intervals by the associated interval these Ô¨Åve basic relations.
algebra IAdc. For these we analyze questions concerning the
satisfaction problems, and show the correspondence to other 2 Computational Complexity
relation algebras. For this, we use an isomorphism preserving Assume that a set of constraints between some points is given.
the tractability of subclasses. This method promises to struc- One question is whether this set is consistent. Is it possible
ture the Ô¨Åeld of relation algebras and to transfer algebraic as- to construct a network in which all constraints are satisÔ¨Åed?
pects and complexity results from one algebra to another.
                                                      This problem is called PAdc-SAT. What is the computational
  If we observe pollution in an ecosystem of Ô¨Çowing water, effort to construct such a network?
we can draw conclusions about pollution at other points (cf.                                 0
Fig. 1). If pollution is found at D, F is polluted as well. It DeÔ¨Ånition 1. For two relation algebras Œì,Œì a homomor-
                                                      phism is a function Œ≥ from Œì to Œì0 such that Œ≥ preserves all
                         ‚Üí
                            D                         operations of the boolean algebra and for all relations R, S:
                       ‚Üí          F
                  A                                     ‚Ä¢                  ( ‚àí1) = ( )‚àí1
                     C   ‚Üí  E                             (converse):     Œ≥ R     Œ≥ R
                  B    ‚Üí                                ‚Ä¢ (composition): Œ≥(R ‚ó¶ S) = Œ≥(R) ‚ó¶ Œ≥(S)
                                                      DeÔ¨Ånition 2. For two relation algebras Œì,Œì0 a tractability-
Figure 1: A pipe network. Flow occurs along the ‚Äùpipes‚Äù from left preserving-homomorphism (tph) is a homomorphism Œ≥ from
to right. Is there a difference between the pairs (A,B) and (D,E)? Œì to Œì0 such that each subset Œ≤ ‚äÜ Œì is tractable iff Œ≥(Œ≤) ‚äÜ Œì0
might be caused from a source at A, but not B, C, or E. If C is tractable. An isomorphic tph is called tpi.
is polluted, D probably is also polluted. Does the same hold Lemma 1. A tpi Œ≥ from PAdc to RCC-5 (Fig. 3) is given by:
true for B and D? No: they have no common point upstream.                                             ‚àí1
DC directly represents such differences. For pairs like (C,D) Œ≥ : ‚â∫ 7‚Üí PP   =  7‚Üí  EQ          7‚Üí  PP
                                                           f
or (D,E), we have the new ‚Äúfork‚Äù relation (f). The relations   7‚Üí  PO         7‚Üí  DR                           X       Y       X          are possible. The situation given in Fig. 4 is described by:
      X   Y       X Y               X       Y
                             Y                              A (‚â∫) A1, A1 (‚â∫) C, A2 (‚â∫) C, B (‚â∫) C,
      X DR Y     X PO Y   X EQ Y  X PP Y X PP‚àí1 Y
                                                           {,‚â∫} ‚â∫         {,f} ‚â∫          {,f} ‚â∫
                                                        B  {‚â∫,‚â∫} ‚â∫ A1,  B  {,f} ‚â∫  A2,  A1   ‚â∫   =  A2
             Figure 3: The RCC-5 Relations                                                     
                                                                                              ‚â∫
                                                      By specifying the latter relation, e.g. to A1 ‚â∫ = A2 , new
        Table 1: The tractable subclasses of PAdc.                                             
                                                      conclusions can be drawn, in this case, A (‚â∫) A2 becomes
                       œÑ28 œÑ20 œÑ17 œÑ14
                    ‚ä•   ‚Ä¢   ‚Ä¢  ‚Ä¢   ‚Ä¢                  impossible. This means, if B is an obstacle on the path from
                  {}   ‚Ä¢   ‚Ä¢                         A to C via A1, then there is no alternative route via A2.
                  {f}   ‚Ä¢   ‚Ä¢
                   f
                 {, }  ‚Ä¢   ‚Ä¢                                     A        A       A         A
                  {‚â∫}   ‚Ä¢          ‚Ä¢
                 {,‚â∫}  ‚Ä¢   ‚Ä¢
                 {f,‚â∫}  ‚Ä¢
               {,f,‚â∫}  ‚Ä¢   ‚Ä¢                                   C   B    C   B    C  B    C  B
                  {}   ‚Ä¢          ‚Ä¢
                 {,}  ‚Ä¢   ‚Ä¢                         Figure 5: In contrast to IA , IA discerns these cases which
                 {f,}  ‚Ä¢                                                   po   dc
               {,f,}  ‚Ä¢   ‚Ä¢                         are speciÔ¨Åcations of the composition A({,f})B ‚ó¶ B()C.
                 {‚â∫,}             ‚Ä¢
               {,‚â∫,}      ‚Ä¢      ‚Ä¢                    For a set of IAdc constraints, we deÔ¨Åne IAdc-SAT analogi-
               {f,‚â∫,}  ‚Ä¢          ‚Ä¢
              {,f,‚â∫,} ‚Ä¢   ‚Ä¢      ‚Ä¢                  cally to PAdc-SAT. How hard is it to decide the satisÔ¨Åability?
                                                      Theorem  3. IAdc-SAT is NP-hard.
The relations including {=} are contained in œÑ , œÑ , œÑ iff R\{=}
                                  28 20  14           DeÔ¨Ånition 4. For a subset S ‚äÜ PA , a relation R is called
is in œÑ (œÑ ,œÑ ). All relations including {=} are in œÑ .                             dc
    28  20 14                           17            S-pointizable if it belongs to the class
                                                                      Rss Rse   ,   ,  ,
  With [Renz and Nebel, 1999] and Lemma 1, we get:             PS =   Res Ree |Res Rse Res Ree ‚àà S
                                                                    n                        o
Theorem 1. PAdc-SAT is NP-complete.                   A  gadget for an IAdc  relation R is a set of points
                                                      p1,..., pm (m ‚â• 4) with PAdc relations that are satisÔ¨Åable iff
Theorem 2. The four classes œÑ28,œÑ20,œÑ17,œÑ14 (cf. Tab. 1) are
                                                      [p1, p2]R[p3, p4] is satisÔ¨Åable. For S ‚äÜ PAdc, an IAdc rela-
the only maximal subclasses of PAdc.
                                                      tion R is called S-gadgetable (R ‚àà GS ) if all PAdc relations
                                                      between the endpoints extended with additional points are re-
3  The  Associated  Interval Algebra                  lations of S. G is an abbreviation for G and P for P .
                                                                                      PAdc          PAdc
There are applications in which it is not sufÔ¨Åcient to com- Theorem 4. G,P are intractable subclasses of IAdc.
pare single points in a network. For instance, pollution in a Not all gadgetable relations are pointizable. For instance,
pipe network is not restricted to single points but extends to
                                                      (‚â∫) ‚à™ () is gadgetable. Hence, B ( P ( G ( IAdc. If S is
whole sections, and automated planning and project manage-
                                                      tractable (in PAdc), then PS is tractable in IAdc. What about
ment deal with tasks that span over time intervals.
                                                      the larger class GS ? Is it still tractable?
DeÔ¨Ånition 3. An interval I = [sI ,eI] is a pair of points satisfy- Theorem 5. If R is a class of S-gadgetable IAdc relations
ing sI ‚â∫ eI . The interval algebra IAdc is the relation algebra and the satisÔ¨Åability problem over S is tractable, then the sat-
generated by quadruples of relations as basic relations isÔ¨Åability problem over R is tractable.
                                                      Corollary 1. B,GœÑ ,GœÑ ,GœÑ  ,GœÑ ( IAdc are tractable.
        Rss  Rse                                                      28   20  17  14
 B =              |Rss,Rse,Res,Ree ‚àà {‚â∫,=,,,f}
     Res   Ree                                    Corollary 2. IAdc-SAT is NP-complete.
closed under ‚à©,‚à™,‚àí ,‚ó¶,‚àí1. For I = [s,e] and I0 = [s0,e0], being 4 Conclusion
             0           0      0     0          0
in relation I R I means sRss s , sRse e , eRes s , and eRee e . We presented and investigated a new algebra for reasoning
  IApo is analogically deÔ¨Åned, based on {‚â∫,=,,{,f}}. about causal relations. Both PAdc and IAdc are NP-complete,
                                                      and we identiÔ¨Åed tractable subclasses. Promising ideas for

                       A2                             future work are introducing probabilities to this calculus to
              A            C
                      B
                       A1                             model reasoning in Bayesian networks and the temporaliza-

              A2                   A2                 tion of DC for modeling dependencies that vary over time.
                  C       A           C
             B                    B
              A1                   A1
           A                                          References
Figure 4: Reasoning with uncertainty. The dashed line indicates [Ragni and Scivos, 2005] M. Ragni and A. Scivos. The De-
                                                          pendency Calculus. Technical report, Institut fur¬® Infor-
that it is unknown if A is before A2. In contrast to IApo, IAdc con-
                                                          matik, Universitat¬® Freiburg, Germany, 2005.
cludes such knowledge: Depending on the IAdc relation between A1
and A2, the obstruction B can or cannot be bypassed using A2. [Renz and Nebel, 1999] J. Renz and B. Nebel. On the com-
                           0           0                  plexity of qualitative spatial reasoning: A maximal
  If Rss = Rse = Res = Ree =: R , we write (R ). Fig. 4 and
Fig. 5 show advantages of the new, Ô¨Åner interval calculus: tractable fragment of the Region Connection Calculus.
More situations can be distinguished and more conclusions AIJ, 108(1-2):69‚Äì123, 1999.
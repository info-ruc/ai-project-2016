     Encoding     formulas    with  partially   constrained    weights    in a possibilistic-like
                                many-sorted      propositional    logic
                     Salem  Benferhat                               Henri  Prade
             CRIL-CNRS,    UniversiteÂ´ dâ€™Artois                  IRIT  (CNRS-UPS)
                     rue Jean Souvraz                          118, Route de Narbonne
                62307  Lens Cedex.  France.              31062  Toulouse  Cedex  04, France.
               benferhat@cril.univ-artois.fr                        prade@irit.fr

                    Abstract                          constraints on these weights is speciï¬ed to express the rel-
                                                      ative importance of these weights. These weights may be
    Possibilistic logic offers a convenient tool for han- compound symbolic expressions (e.g., as the result of formal
    dling uncertain or prioritized formulas and coping computations) involving maximum and minimum operations.
    with inconsistency. Propositional logic formulas    For handling these symbolic weights, we propose an ap-


    are thus associated with weights belonging to a lin- proach that uses a logical encoding of the weights. Indeed,
                                                                                                        Â¡


    early ordered scale. However, especially in case  one may think of expressing that a piece of information
                                                                                    Â¡
    of multiple source information, only partial knowl- is not totally certain, by stating that is true under some (un-


    edge may be available about the relative ordering speciï¬ed) condition, namely â€things are not abnormalâ€. Thus,


                                                                          Â¡             Â¡


    between weights of formulas. In order to cope with the uncertain statement can be written , which can be
                                                           Â¡


    this problem, a two-sorted counterpart of possibilis- read â€ is true or it is abnormal (A)â€. Then note that if one


                                                                         Â¡     Â¡ !"



    tic logic is introduced. Pieces of information are simultaneously asserts and       , i.e. it is somewhat


                                                                Â¡                                     Â¡


    encoded as clauses where special literals refer to certain that is true and it is also somewhat certain that is


                                                           #$
                                                                 "
    the weights. Constraints between weights translate false,     can be derived from the two pieces of informa-


    into logical formulas of the corresponding sort and tion, which expresses that in a way or another we are in an
                                                                                        Â¡%


    are gathered in a distinct auxiliary knowledge base. abnormal situation. In this paper, since will be used


                                                                                           Â 
Â¡&Â£'Â¥(Â§ 


    An inference relation, which is sound and complete as an encoding of the possibilistic formula , may be
                                                                            Â¥


    with respect to preferential model semantics, en- a propositional formula if is a symbolic expression. For in-
                                                                                                    Â¡


    ables us to draw plausible conclusions from the two stance, the case of multiple abnormality situations for will
                                                                   Â¡ )*,+-+.+/021
    knowledge bases. The inference process is charac- be encoded by              .
    terized by using â€forgetting variablesâ€ for handling This suggests a way of dealing with propositional formulas
    the symbolic weights, and hence an inference pro- with partially constrained weights in a purely logical setting.
    cess is obtained by means of a DNF compilation of In possibilistic logic, formulas with a weight strictly greater
    the two knowledge bases.                          than the inconsistency level of the knowledge base are im-
                                                      mune to inconsistency and can be safely used in deductive
                                                      reasoning. In the proposed approach, the weights attached to
1  Introduction                                       the inferred formulas are handled as symbolic expressions, as
Information is often pervaded with uncertainty, and logics of well as the inconsistency level of the base. A procedure is
different types have been developed for handling uncertain described which enables us to determine when the available
pieces of knowledge, some based on probability theory, oth- information is enough for knowing if a symbolic weight is
ers based on non-additive formalisms such as possibility the- greater than another or not.
ory. The lack of total certainty of a piece of information is The paper proposes a uniï¬ed and general framework to
then assessed by means of an evaluation that estimates the represent and handle partially-constrained weighted formu-


degree of certainty of the piece of information under the form las, using propositional logic. Its main contributions are:
                                                        3

of a precise value, or at least of a bound that constrains its to encode available pieces of information 4 using a






value. For instance, a possibilistic logic expression of the propositional knowledge base 56 . Each symbolic
     Â Â¢Â¡Â¤Â£Â¦Â¥Â¨Â§                 Â 
Â¡Â§Â¥     Â¡


                                                                Â¥                                      

form      encodes the constraint Â©     , where is a


          Â¥Â Â£                                   weight  is represented by a propositional expression .

proposition,      , and Â© is a necessity measure [Dubois  Each compound  expression is associated with a propo-


et al., 1994], with the intended meaning that p is certain at sitional formula, obtained by replacing maximum by a
           Â¥


level at least .                                          conjunction, and minimum by a disjunction. An uncer-
                                                                     Â Â¢Â¡Â¤Â£Â¦Â¥Â¨Â§


  In this paper, only partial information is supposed to be tain formula  will be represented by a propositional


                                                                       Â¡78      Â¡    


available about the relative ordering between the weights of logical formula , where and are built using two


                                                                                                    Â¡,
                                                                                       :


the formulas in the base. More precisely, propositional for- different sets of variables: 9 and . Intuitively,
                                                                    Â¡
mulas are associated with symbolic weights, and a set of  means that  is uncertain, and its uncertainty degree is

                                                         Â  Â§KWYXÂ¥nv&ldÂ¥p i$x Â§            X$Â¥nvyjWz


                                                      tuGJI                    s
                                                                       47w


    encoded by a logical formula .                        4                     (by convention        ).


                                                               WqlÂ¦Â¡]`pbÂ Â¢Â¡]oÂ£'Â¥n]LÂ§| Â£ Â¥(]`SÂ¥


                                                                                          s


                                                            4{w               4


  3                                                   where                      and       .


                                                                             Â  Â§|W}      W=lÂ¦Â¡b]FpÂ 
Â¡b]Â¦Â£Â¦Â¥(]QÂ§Â€
                                                                          tuGJI


    to encode constraints ; on symbolic weights with an-
                                                                                       4~


                                                        It can be shown that  4     iff
                                                        s


    other propositional knowledge base 5< . The inequality
    Â¥=?>


          will be represented using material implication. 4 is consistent in the usual sense.


               Â¥                   >


    The fact that is at least as large as , will be encoded
                                       $8B


                          A@CB                         Refutation can be easily extended to possibilistic logic.


                                                              Â Â¢Â¡&Â£'Â¥Â¨Â§                     Â  Â¡Â¤Â£dÂ§


    by a propositional formula   (i.e.,    ). Max-
                                                                                             
    imum  and minimum operations are also encoded here Proving     from 4  amounts to adding      , put in



                                                      clausal form, to 4 , and using the above rules repeatedly until


                                                                 l(Â  Â¡Â¤Â£dÂ§ i=Â LxÂ£Â¦Â¥Â¨Â§


    using respectively conjunctions and disjunctions.                   s
                                                                   


                                                      getting 4ÂM                . Clearly, we are interested
                                                                                 x


  3 to deï¬ne an inference relation in order to draw plausible here in getting the empty clause with the greatest possible


                                                                    Â    l(Â  Â¡&Â£Â‚dÂ§ Â§|ÂÂ¥


                                                                tuGJI          s


                   5      5<


                     6
                                                                          


    conclusions from   and   . This inference is sound weight, i.e., 4kM             . Indeed, the conclusion


                                                      Â Â¢Â¡Â¤Â£Â¦Â¥Â¨Â§         Â¥0Âƒ    Â  Â§
                                                                            tuGJI

    and complete with respect to a semantics based on pref- is valid only if    4 .
    erential models. It extends the possibilistic logic (where Semantic aspects of possibilistic logic, including sound-
    the constraints on symbolic weights induce a total pre- ness and completeness results with respect to the above syn-


    ordering).                                        tactic inference, are presented in [Dubois et al., 1994]. Se-


                                                                                             WÂ„l(Â Â¢Â¡ Â£Â¦Â¥ Â§kp


                                                                                                   ]  ]
  3


                                                      mantically, a possibilistic knowledge base 4


                                                        WÂ„uÂ£
                                                             G`s
    to characterize this inference process by â€forgettingâ€ E


                                                                is understood as a complete pre-ordering on the


               9


                                                                             Âƒ        X$Â¥uv&ldÂ¥(]Â‡pÂ Â¢Â¡b]Â¦Â£Â¦Â¥(]HÂ§P


    variables of , and by â€forgettingâ€ negative literals                          "
                                                                              6Â†Â…


                                                      set of interpretations: Â…    iff


         :


                                                               ÂŠ WÂ‹Â¡] ÂƒÂŒX$Â¥nvJldÂ¥rÂ,pÂ 
Â¡Â¨ÂrÂ£'Â¥VÂdÂ§ ÂŠ WÂ‹Â¡RÂ


                                                             "Â‰Âˆ                                   Âˆ
                                                                                                       s


    from  . The inference process basically comes down             s


                                                            Â…                              4    Â…




                                                      4 and                                  and        .
                          <
                        5
    to infer from 506 and   the strongest positive for-


    mula (that does not contain negation symbol), denoted Thus Â… is all the less plausible as it falsiï¬es formulas of higher


        Â    Â£   Â§


    DFEHGJI                                           degrees.


         5   5<                             :


           6     , that only contains variables from . In-


                Â    Â£   Â§


            DKELGJI


                       <
                     5
    tuitively,   56     represents the logical counter-
    part of the inconsistency degree of the knowledge base. 3 Possibilistic logic with symbolic weights
  3 to use recent results on compilations (e.g., [Darwiche, 3.1 Representing beliefs
    2004]) to compute plausible inferences. More precisely,                                 D{Â


                                                      Let 9 be a set of propositional variables. Let be a propo-
                           <
    the knowledge base 56KMN5 is ï¬rst compiled into DNF.
                                                      sitional language built from 9 using the propositional con-


    These formats allow then to have a linear computation of T|Â£h|Â£


        Â    Â£   Â§


    DFEHGJI
                                                                        Â


                                                      nectors     . Let  be a set of symbolic weights or vari-


                                                                                                    RÂ£Â‚


         5   5<


           6     .
                                                                                                    Â
                                                      ables. Each symbol in Â takes its value in the interval .


  After a brief survey of possibilistic logic in Section 2, Sec- In the following, ordinary propositions are denoted by
                                                                     Â¡&Â£'U(Â£\egÂ£Â‚+.+-+.Â£


tion 3 states the problem of reasoning from possibilistic for- lower case letters symbolic weights are denoted by


                                                                                                  Â¥Â£'>/Â£ +.+-+
                                                                                                      I


mulas with partially constrained uncertainty weights. Section lower case letters from the beginning of the alphabet .


                                                              WÂ„l(Â Â¢Â¡ Â£'Â¥ Â§,p WÂ‘uÂ£+-+.+-Â£


                                                                    ]  ]


                                                                           E        G`s



4 provides its purely logical counterpart as a two-sorted logic Let 4                  be a knowledge base


                                                                                Â 
Â¡Z]\Â£'Â¥n]HÂ§      Â¡]


and deï¬nes a sound and complete inference process from the with symbolic weights, where expresses that is a


                                                                                  Â¥Â¨] Â¥(]
two knowledge bases encoding respectively the pieces of un- believed with a symbolic weight . can be a compound
certain information, and the constraints on the uncertainty expression, namely a max/min expression. More precisely,


levels. The handling of symbolic weights in the inference max/min expressions are obtained only using the two follow-


                                                                Â¥0                             Â¥    >



process is then characterized in section 5 in terms of forget- ing rules: i) Â is a max/min expression, ii) if and are


                                                                             X$Â¥nvÂ¤Â Â¥Â£h>Â§ X Â Â¥Â£'>Â§
ting variables, and in terms of DNF (or d-DNNF compilation) max/min expressions, then and  ELG    are also


of the knowledge bases. This section also brieï¬‚y considers max/min expressions.
                                                                          e
the case of totally ordered information corresponding to stan-      Â¡



                                                      Example 1  Let  and  be two propositional symbols. Let

                                                      Â¥Â£'>/Â£ Â£Â¦Â’bÂ£Â¦Â“
dard possibilistic knowledge bases.                       I
                                                               be ï¬ve symbolic weights. In the following, we will


                                                      use the following base:


                                                            WqlnÂ 
Â¡&Â£\X$Â¥nvÂ¤Â QÂ¥bÂ£h>Â§\Â§Â£Â‚Â  Â¡egÂ£\X Â  Â£Â¦Â’(Â§\Â§Â£Â‚Â  egÂ£Â¦Â“gÂ§\Â§


                                                                                     EHG I          s


                                                                                             


2  Brief background    on possibilistic logic             4                                          ,
                                                                                                        Â¡



                                                      to illustrate the main concepts of the paper. 4 reï¬‚ects that
                                                                                                 >
We start with a brief refresher on possibilistic logic (for more                            Â¥
                                                      is asserted by two sources having reliability and respec-
details see [Dubois et al., 1994]). A possibilistic logic for-       Â¡!$e



                                                      tively, while for  it is unsure if the information should
                                                                                                 Â’


mula is a pair made of a classical logic formula and a weight                              I


Â¥                            Â¥OPÂ QRÂ£       Â¡
 expressing certainty. The weight     of a formula    be considered as having reliability equal to or to .




is interpreted as the lower bound of a necessity measure Â© ,
                                Â Â¢Â¡Â¤Â£Â¦Â¥Â¨Â§


i.e., the possibilistic logic expression is understood as 3.2 Representing constraints


  Â 
Â¡Â§7SÂ¥      Â Â¢Â¡TUVÂ§KWYX Â  Â Â¢Â¡ZÂ§[Â£ Â UVÂ§\Â§


                           ELG


               Â©              Â©    Â©


Â©                                                     Constraints bearing on symbolic weights are described by a




                                                                                                    q>
        . Since                          it is always                                             Â¥


                                                                                                   ]    ]
                                Â 
Â¡&Â£Â¦Â¥Â¨Â§



possible to put a possibilistic formula under the form set of inequalities. A simple form of constraints is: ,

                                                            Â¥(]   >]                              Â¥R]`S>]


                        Â Â¢Â¡Z]Â¦Â£Â¦Â¥Â¨Â§ Â¡P^_T`]aÂ¡b]




of a conjunction of clauses  if         . The basic   where   and   are elements of Â . These constraints

                                                                                Â¥Â¨]   >[]         RÂ£Â‚



inference rule in possibilistic logic put in clausal form is the restrict the possible values that and can take in Â .


              Â  Â¡0,U(Â£Â¦Â¥Â¨Â§[cdÂ Â¢Â¡fegÂ£h>Â§jiYÂ QUkegÂ£\X Â Â¥Â£'>Â§\Â§
                                           ELG

resolution rule:                                 .     More generally, the set of constraints are inequalities be-


Classical resolution is retrieved when all the weights are equal tween max/min expressions of the form:


          WmlnÂ 
Â¡]oÂ£Â¦Â¥(]HÂ§7p WqrÂ£                       WmldÂ¥(]`P>[]`p WmrÂ£Â‚+.+-Â£'Â”


                     E    G`s                                         E
                                                        ;


to 1. Let 4                  be a knowledge base. The                          and


                                                      Â¥(]   >]
                                                                                   s

level of inconsistency of 4 is deï¬ned as:               and   are max/min expressions .                                                                         U



  Note that any set of constraints ; can be equivalently Then, a conclusion is said to be a plausible consequence


                                                         Â  Â£ Â§  U                               Âƒ


                                                            ;                                     6


rewritten into a canonical form:                      of 4     if is true in all preferred models (w.r.t. ).


     W  lÂ‚X$Â¥nvÂ¤Â Â¥(]Â•)/Â£Â‚+.+-+.Â£'Â¥(].1Â§ÂŒÂ–X Â H>[]Â•)/Â£+-+-+.Â£h>[].Â— Â§ÂŒp W


                              EHG              E



  ;                                                     An important result is the complete and soundness result,




rÂ£Â‚+.+-Â£\egÂ£
          Â¥(]Â¢Â  Â£'>'Â'Â˜Â‰ +


                         s
                       Â


      and      Â                                      namely :


                              Â¥SXÂ¥nvÂ¤Â H>/Â£ Â§


                                         I


                                                                      Â     l(Â  Â¡Â¤Â£dÂ§ Â§Âƒ Â  Â§


                                                                                  s    tuGJI


  This follows from the facts that i)      is equiv-               tuGJI


       Â¥,Â™>    Â¥%      X   Â H>/Â£ Â§8Â™Â¥


                    I      ELG I


                                                                                          4


                                                      Proposition 1    4ÂM                    follows from
                                                                                         Âƒ


alent to    and      , ii)            is equivalent to    Â¡


>2ÂÂ¥     ÂÂ¥


         I
                                                                                           6
                                                      ; iff is true in all preferred models w.r.t .
     and     , and iii) max and min are distributive.






                                        ;             Example 3  Let us consider the above example, where :
                                                        Wql(Â Â¢Â¡&Â£Â¦XÂ¥nvÂÂ Â¥Â£'>Â§Â¦Â§[Â£dÂ  Â¡ÂŸegÂ£\X Â  Â£'Â’nÂ§Â¦Â§[Â£Â‚Â  egÂ£Â¦Â“gÂ§\Â§


                                                                                     I           s


  In the following, we assume that constraints in are in this                     ELG


                                                                                          


                                                      4                                           , and


                                                        Wql/Â¥!ÂšÂ“nÂ£ ÂšÂ¥Â£Â¦Â’!SÂ“ +
                                                                            s


canonical form.                                                  I


                                                      ;
                       ;


  Given a set of constraints , we are interested in checking                                 e


                     Â¥Y> Â¥    >
                                                                   ;


                                                        Given 4 and  we are interested to check if follows from


                                                                               Â  Â§


whether a given equality  ( and  are max/min expres-                        tuGJI


                                                            ;                   4


sions) follows from this set of constraints.          4 and  . Let us compute     . By deï¬nition, we have:


                                                                 Â   Â§NWSX  Â XÂ¥nvÂÂ Â¥Â£'>Â§Â£\X Â  Â£'Â’nÂ§Â£Â¦Â“gÂ§[+


                                                              tuGJI      EHG           ELG I



Deï¬nition 1 Let a and b be two max/min expressions.               4                                   (1)
                 t
  3 An assignment is a function that assigns to each sym-
                                 Â QRÂ£Â‚            Let us simplify this expression, with the help of the constraints




    bolic weight a degree belonging to .              in ; , we have:


                                                          Â  Â§KWYX  Â XÂ¥nvÂ¤Â QÂ¥Â£'>Â§Â£\X Â  Â£Â¦Â’(Â§[Â£'Â“gÂ§


                                                      tuGJI      ELG           EHG I


                 t


  3


                                                          4


                                 ;


                                                      WYXÂ¥nvÂ¤Â QÂ“nÂ£\X Â H>/Â£Â¦Â“gÂ§Â¦Â§
    An assignment  is a solution of if it satisï¬es each          EHG
                                                                        , hence:


    constraint of ; .


                                                                              Â  Â§KWzÂ“n+


                                                                          tuGJI


    Â¥m?>


  3


                                                                              4
                                         ;


          follows from ; if each solution of is also a                                                (2)


             Â¥0Âš>


                                                                                 Â    Â  egÂ£/Â§Â¦Â§


    solution of   .                                                          tuGJI
                                                                                      


                                                        We now need to compute   4%M        , we get:


                                                          Â   Â  egÂ£dÂ§'Â§KWYXÂ¥nvÂ¤Â  Â  Â§[Â£Â¦X Â XÂ¥nvÂ¤Â QÂ¥Â£'>Â§Â£\X Â  Â£Â¦Â’(Â§\Â§Â¦Â§


                                                      tuGJI                trGJI    ELG            EHG I


                                                                              4


  The derivation of strict inequality can be deï¬ned recur- 47M




                                                      WYXÂ¥nvÂ¤Â QÂ“nÂ£\X$Â¥uvÂÂ Â¡X Â Â¥Â£ Â£'Â’nÂ§Â£\X Â Q>/Â£ Â£Â¦Â’(Â§\Â§Â¦Â§
                   Â¥     >


                                                                      ELG  I     ELG  I



sively as follows. Let and be two elements of Â , then




                                                      WYXÂ¥nvÂ¤Â QÂ“nÂ£\X Â QÂ¥Â£Â¦Â’(Â§[Â£\X Â Q>/Â£ Â£Â¦Â’(Â§\Â§
Â¥Â›ÂƒÂ‹>                 Â¥Â›Âœ>                  >0ÂœÂ¥


                                                                 EHG      ELG  I



      follows from C iff    follows from ; and


                                            >,ÂÂ¥


                                                      WYXÂ¥nvÂ¤Â X Â QÂ¥bÂ£'Â’nÂ§Â£\X Â Q>/Â£ Â£Â¦Â’(Â§\Â§+


                                                               ELG       ELG I



does not follow from ; (i.e., there is no proof for ).




                                                                                        Â     lnÂ  egÂ£Â‚dÂ§ Â§=Âƒ
        Â¥)   Â¥(1 >)   >[Â—


                                                                                     trGJI          s


                                                                                         4Â™M   
                                                                              ;


Now, let  , ..., ,  , ..., be symbolic weights in Â .   It can be checked from  that




                                                          Â  Â§
     X$Â¥uvÂÂ Â¥ Â£+-+.+-Â£Â¦Â¥ Â§ÂŸÂƒ=X Â Q> Â£Â‚+.+-+-Â£'> Â§                           X   Â Â¥Â£Â¦Â’(Â§|ÂƒÂšÂ“


           )    1          )    Â—




                                                      tuGJI
                       ELG                                                    ELG
                                                          4


Then                               is derived from ;        , since for instance         .


           Â¥     >         Â¥  Âƒm>


            ]     Â         ]    Â
if there exist and such that      . Lastly, the deriva-

tion from ; of strict inequality between two general max/min 4 Propositional logic encoding of
expressions can be deï¬ned using the fact that this derivation


is equivalent to a derivation of a set strict inequalities of the partially-constrained weighted formulas


             XÂ¥nvÂÂ Â¥)/Â£+-+-+.Â£'Â¥n1RÂ§{Âƒ#X Â H>)/Â£Â‚+.+-+-Â£'>[Â—Â§ Â¥(]
                               EHG                    In standard possibilistic logic (recalled in Section 2), the


canonical form                            , with â€™s          Â¥(]
   >[]
and  â€™s as symbolic weights.                          weights  â€™s are assumed to be known. In this section, these
                                                      weights are only partially known. Propositions are then as-
Example 2 With the base of the above example, we will also sociated with symbolic weights or variables. These symbolic


consider the following set of constraints :


    WmldÂ¥!SÂ“nÂ£ ÂÂ¥Â£'Â’!ÂšÂ“ +
                        s


             I                                        weights are related by a set of constraints. The following
  ;

               Â“!qÂ¥                                  subsections describe in detail the representation of uncertain
  Note that since    does not belong to the reï¬‚exive and beliefs and constraints, in a propositional logic setting.

transitive closure of ; , we may consider using a closed world
assumption that the inequality is strict. The same holds for 4.1 Encoding constraints
other inequalities.                                   This subsection presents the encoding of constraints on the


                                                      set of symbolic weights using propositional logic. In the fol-
                                                                                            Â¥


3.3  Plausible inference and semantics                lowing we associate to each symbolic weight of the knowl-


                                               Â   Â§
                                            tuGJI



Given a knowledge base with symbolic weights,   4     edge base a propositional symbol denoted by the correspond-
                                                                    



is now a max/min expression of symbolic weights and the ing capital letter . We denote by : the set of propositional


                   Â¡


                                                                                        W}y


                                                                                                 D7Â£


                                             ;
                                                                                  :fÂ¢$9


plausible inference of amounts to establish from that symbols associated with Â (with      ). Let   be the


   Â     lnÂ  Â¡Â¤Â£/Â§ Â§|Âƒ Â  Â§


tuGJI          s   trGJI


    4,M               4


                          .                           propositional language built from : using the propositional


              
                                                                T|Â£h|Â£



Here the weight continues to be the top certainty level, i.e., connectors  .


 Â¥  Â£Â‚8ÂšÂ¥


                                                                                 Â¥Â›Âœ>


Â 
     Â
            .                                           One possible way to check if   follows from ; is to


  Our semantics is based on preferential models. We use use propositional logic, and encode ; as a set of clauses.




the principle of best-out ordering deï¬ned in [Benferhat Given ; , its encoding in propositional logic is immediate.


                                                                        Â¥%=>                 SkB
                          4


et al., 1993], to derive from a partial pre-order on the Namely, a constraint is translated into   in the


                              Âƒ


                                                                               Â¥     >



set of interpetations, denoted by 6 , in agreement with agreement with the fact that and are lower bounds (of


                             "


                                                                                Â¥
                            Â…


possibilistic logic. Let Â… , and be two interpretations. a necessity measure) and thus refers to the set of numbers


                                                       RÂ£ Â¥Â£JÂ¤ >/Â£ Â¥!P>               Â¥0


                                                              Â      Â


Then:                                                 Â    and           holds iff   . The translation of


                                                             Â‰B
                                                      >



                                                       into      can be read as as â€if the situation is at least very


    Âƒ              Â 
Â¡ Â£'> Â§        ÂŠ WÂ‡Â¡                                           B


                     Â  Â              Â


         "                          Âˆ


  Â…    Â…                          Â…


     6    iff for each    such that     , there exists abnormal ( ), it is at least abnormal ( )â€ (indeed, the greater


Â UÂ‚]\Â£'Â¥(]QÂ§    ÂŠ WzU] Â¥(]`ÂƒP>Â¦Â                    Â¥                Â¡    Â Â¢Â¡&Â£'Â¥Â¨Â§


                "*Âˆ
                                           ;


      such that Â…    and        follows from .         , the more certain in    , and the more exceptional a
                                                                   Â¡
                                                      situation where is false).                                                                                               <



  To refer to the maximum (max), we use the conjunction Deï¬nition 4 An S-prime formula of 56zMm5 is an S-

        T                                 OTÂŸB                                     Â   Â§


                                                                               DFELGJI
                                                                                                    506kM


operator ( ), namely max(a,b) will be encoded by . In- positive formula, denoted by 56 , such that i)


                  Â $T8BÂ§n8    X$Â¥nvÂ¤Â QÂ¥bÂ£h>Â§|SÂ¥    ÂŠ W    Â    Â§


                                                             DKELGJI


                                                     5<         5                     Â¬


deed, the tautology         reï¬‚ects            . To                 6 , and ii) there is no (not equivalent to


                                                           Â   Â§                   ÂŠ W       ÂŠ W   Â    Â§


                                                      DKELGJI                                 DFELGJI


                                                           5            5   M50<   Â¬    Â¬         5


                                                                          6                          6


refer to the minimum (min), we use the disjunctive operator  6 ) such that            and              .


                                   Â›B


                                                                                   Â    Â§


( ), namely min(a,b) will be encoded using . A clause                         DKELGJI


 )V+-+.+- 2Â—NB )/Â€+.+-+.NB21
                                                                                    5


                                                        Up to logical equivalence,   6  is unique.
        


                        will hence encodes a constraint


X$Â¥uvÂÂ Â¥ Â£+-+.+-Â£Â¦Â¥ Â§|ÂX Â Q> Â£Â‚+.+-+-Â£'> Â§


      )    Â—          )    1
                  ELG        . More formally,           This deï¬nition allows to have a sound and complete infer-


                                                      ence relation with respect to the semantics given above. In-


                                                                                               Â    Â§


                                                                                           DKELGJI
              ;


Deï¬nition 2 Let be a set of constraints. The propositional deed, the following proposition shows that 56 is the


                                                                            Â  Â§


                                                                         tuGJI


                                    <


                      ;           5



logic base associated with , denoted by , is deï¬ned by :                     4


        )n8+-+-+ Â€Â—B8)(8+-+.+Â€B21puXÂ¥nvÂ¤Â QÂ¥R)/Â£+-+-+.Â£'Â¥nÂ— Â§|


    Wql                                               logical counterpart of   .


  <


5              


                                                                                      Â  Â§


X   Â H> Â£Â‚+.+-+.Â£h> Â§7


     )     1


  EHG            s


                                                                               <


                                                                             5       Â­ 4
                                                                   Let 506 and   . Let    be a propositional



               ;                                      Proposition 3

                                                                             Â  Â§


                  .                                                       tuGJI


                                                                              4


                        WmldÂ¥ ÂšÂ¥nÂ¥uÂ£Â¦Â¥(Â¥ ÂšÂ¥nÂ¦rÂ£
                            )                         formula obtained from      by replacing maximum by a



          A total order ;






        Â™Â¥                    WÂŒl    k    p  W
Example+-+.+-Â£Â¦Â¥ 4


    1(Â§J)  1                          ]   ]-Â¨Â¤)
                                               E


            s                                         conjunction, minimum by a disjunction, and the symbolic


                                                                                            Â  Â§
                                   


              is encoded by : 50<


                                                                                           Â­ 4


rÂ£Â‚+.+-Â£ 
         s


    GÂ©                                               weights by their associated literals. Then is logically


                                                                      Â    Â§
          .                                                      DKELGJI
                                                      equivalent to    56 given in Deï¬nition 4.
  The following proposition shows that inequalities induced



from ; can be obtained using our propositional encoding: 5 Computing   plausible inference  using DNF


                Â¥     >


Proposition 2 Let , and be two symbolic weights. Then :   formats


Â¥P>                   ÂŠ W #B


                      <


                    5     
     follows from ; iff          .                    We  propose a characterisation of plausible inference using


  This proposition can be easily generalized for any inequal- the idea of forgetting variables (see for instance [Lang et al.,


            Â¥Âš>      Â¥    >


ity of the form  where  and  are max/min expressions, 2003; Darwiche and Marquis, 2004] for more details). For-
                                                                     Â¡



using remarks of Section 3.2. Namely any derivation of in- getting a variable from 5 comes down to remove any ref-
                                                              Â¡

equalities between max/min expressions, can be redeï¬ned in erence of in 5 .



terms of derivations between symbolic weights. For instance,         Â¡


                  Â¥0ÂƒÂš>                   ÂŠ W *B



                                                      Deï¬nition 5 Let be a propositional symbol of 9 . Then :

                                                         edÂ°(Â“dÂ± Â¥ue Â¥Â¨>[Â²Â“(Â  Â£Â¡ZÂ§*W 


                                                      Â®8Â¯       E


                                        <


                                      5     


it can be checked that follows from ; iff


            ÂŠ W BA


                                                             9        5      5Â‰Â³Â´&Âµ 5Â‰Â³Â´&Â¶
              


holds but 5<        does not hold.


                                              :




                                                        5
                                                                      5
                                                          Â³Â´&Âµ


  We call S-positive formulas the formulas built from by       (resp.  Â³Â´Â¤Â¶ ) is the knowledge base obtained
                                                                         Â¡




only using the conjunction and disjunction operator. For in- 5
                                        Âš$B


      Â$B                                           from    by replacing by false (resp. true). To forget a
                                                                                                       



stance,     is an S-positive formula, while  is not  set of variables, we forget variable by variable, namely if


                                                                                     eÂ‚Â°Â¨Â“dÂ± Â¥ne Â¥(>Â²Â“(Â  Â£Â¦2Â§jW


                                                                                  Â®8Â¯       E
                                                                                                 5


an S-positive formula.                                denotes a set of variables, then: 9


                                                         edÂ°(Â“dÂ± Â¥ue Â¥Â¨>[Â²Â“(Â  eÂ‚Â°Â¨Â“dÂ± Â¥ne Â¥Â¨>[Â²QÂ“(Â  Â£QÂ¡Â§Â£Â¦ lÂ¦Â¡ Â§


                                                      Â®8Â¯       E     Â®8Â¯       E           Â©    s


                                                                            9        5
                                                             9                                    .
4.2  Encoding  uncertain information                  It is also possible to only forget literals (atoms or negated
As suggested in the introduction, the idea is to manipulate atoms):


symbolic weights as formulas. Thus, a possibilistic formula


Â Â¢Â¡Â¤Â£Â¦Â¥Â¨Â§                            Â¡,       

     is associated with the classical clause where                   Â²




                                                      Deï¬nition 6 Let be a literal. Then :
                                                         edÂ°(Â“dÂ± Â±oÂ“degÂ¥(Â²\Â  Â£Â¦Â²HÂ§*W kÂ  Â²T Â§
                                                             DFE


means something as â€the situation is abnormalâ€. Interestingly Â®8Â¯


                                                                           5!Â·
Â´Â¤Â¶    5
enough, this view agrees with the qualitative representation of     5
uncertainty in terms of lower bounds of a necessity measure Some properties of ForgetVariable ([Darwiche and Mar-
used in possibilistic logic. The following deï¬nition gives the quis, 2004], [Lang et al., 2003]), viewing a base as a conjunct


propositional logic encoding of possibilistic knowledge base: of its formulas:


                 WÂªl(Â Â¢Â¡]oÂ£'Â¥n]HÂ§


                           s


                                                             edÂ°Â¨Â“Â‚Â± Â¥ne Â¥Â¨>[Â²QÂ“nÂ HÂ¸N Â£Â¦2Â§KW edÂ°(Â“dÂ±ÂºÂ¹(Â¥ne Â¥Â¨>[Â²QÂ“nÂ HÂ¸Â¤Â£Â¦2Â§r


                                                          Â®8Â¯       E               Â®8Â¯      E


               4
                                                                            Â¬


Deï¬nition 3 Let              be a possibilistic knowl-           9
                


                 ]                                     (1)


                                                             Â°Â¨Â“dÂ±ÂºÂ¹nÂ¥ne Â¥(>Â²Â“(Â  Â£Â¦2Â§+


                                                          Â®8Â¯      E




edge base.  Let    be a S-positive formula associated                   Â¬


     Â¥(]               Â¥(]
with   (by replacing in   the minimum  with the dis-



                                                       (2)  if Â¬  does  not  contain any  varaible of  A,


                                                                   eÂ‚Â°Â¨Â“dÂ± Â¥ne Â¥(>Â²Â“(Â QÂ¸Â»T Â£Â¦2Â§ W   T
                                                                          E


junction, and the maximum by the conjunction). Then             Â®8Â¯


                                                                                      Â¬             Â¬


                                                          then         9


                                                             edÂ°Â¨Â“Â‚Â± Â¥ne Â¥Â¨>[Â²QÂ“nÂ HÂ¸Â¤Â£Â¦2Â§


                                                          Â®8Â¯       E


the propositional base associated with 4 , denoted by


                         W   lÂ¦Â¡ Âœ   pÂ«Â Â¢Â¡ Â£'Â¥ Â§Â„


                               ]    ]      ]  ]


                                                                 9


5                   5
                      6


  6 , is deï¬ned by :


     2]                                  Â¥Â¨]


                                            s
                                                              Â¸



4 and   is the S-positive formula associated with      (3) if   is a consistent conjunction of literals, then


                                                             edÂ°Â¨Â“Â‚Â± Â¥ne Â¥Â¨>[Â²QÂ“nÂ HÂ¸Â¤Â£Â¦2Â§


                                                          Â®8Â¯       E



                                                                 9             consists in removing the vari-


                                                                       Â¸
4.3  Characterizing plausible inferences                  ables in from  .


Until now, we have shown how to encode in propositional ForgetLiteral satisï¬es (1) and (2) which is enough for
                                       ;


logic uncertain beliefs 4 and the constraints on weights the purpose of the paper. The following shows that getting


                                                           Â   Â§


associated with these beliefs. This section deï¬nes the notion DKELGJI


                                        Â   Â£ Â§


                                                           56  is equivalent to ï¬rst forget all formulas of the lan-
                                           ;
of plausible conclusions that can be drawn from 4 . The
                                                      guage, and then all negative literals of :



set 5< is used at two stages: ï¬rst it is used for simplifying


                                                                                                    5  M


the expression of the inconsistency degree, and then it is used Proposition 4 Let NegS be the set of negative literals in 6


                                                                W    edÂ°Â¨Â“dÂ± Â¥ne Â¥Â¨>[Â²QÂ“(Â  Â£ Â§    Â    Â§


                                                              Â®   Â®8Â¯       E                 DKELGJI


                                                        <




                                                      5
                                                                                  56 9            506


to check, in the refutation, if the inconsistency degree of the . Let    9              . Then         is


                                                                    edÂ°(Â“dÂ± Â±oÂ“degÂ¥(Â²\Â  T Â£ Â“Â‚Â° Â§[+


                                                                 Â®8Â¯    DKE          Â®


                                                                                 <


                                                                                       Â©   :
augmented base increases.                             equivalent to            5


  This result is very important since it provides an efï¬cient Step 3.2: Forgetting Negated atoms of :

                                                                                                       T


                                                                                                   <


                                      ;                                                           5


way to draw plausible conclusion from 4 and . Indeed, for- Now, let us   forget  literals from


                                                         edÂ°(Â“dÂ± Â¥ue Â¥Â¨>[Â²Â“(Â  Â£ Â§


                                                      Â®8Â¯       E


                                                             9        5  9


getting a variable (resp. literal) can be achieved in a polyno-        6    . We get:


                                                                             Â    Â§FWYÃ…


                                                                         DKELGJI
                                                                              5
mial time if knowledge bases are in some formats like DNF                      6      .


or d-DNNF [Darwiche and Marquis, 2004]. The procedure   Again this is exactly the logical counterpart of the expres-


                        Â¡
                                                 ;


for checking if a proposition can be derived from 4 and sion (2) given in Example 3.
                                                                                 e


can be described as follows:                          We are now interested to check if is a plausible consequence
                                                              ;


                                                      of 4 and  .


                                     <


                 4    ;     506    5


                                                                                      l  e


 Step 1: transform and   into   and                                                       s
                                                                                       


                                                        Step 4 : Putting in DNF form 4%M


                                                                                    l e


                                                                                        s
            5


 Step 2: Put 6 into a DNF (or d-DNNF) form
                                                                                     


                                                      The DNF form associated with 4kM   is:


                                                      Â Â¢Â¡Â‰T T   eVÂ§Â¤%Â 
Â¡TÃ„Â™T eVÂ§Â¤Â #TBzT Â¡T eVÂ§&%Â QÂT


                                                          ;                                 


                          9      506


                                                            T  eVÂ§$Â ,TBÂšTÂ‰Ã„zT eVÂ§b$Â 
Â¡2T TÃ…Â›T eVÂ§b$Â 
Â¡T


 Step 3.1: Forget Variables of from                   BÂT


                                                          ;                           ;       


                                                      Ã„zT!Ã…ÂT  eVÂ§$Â Q%TBÂT Â¡ T!Ã…#T eVÂ§ZfÂ TBÂšT TÃ…ÂT


                               :     5<M!5



 Step 3.2: Forget Negated atoms of from     6 . This

             Â    Â§


         DKELGJI


                                                                                               ;


                                                        eVÂ§&%Â ÂT0BzTÃ„mTÃ…YT eVÂ§


    gives     506 .


                                                                           


                 l Â¡


                     s


                                                                                               l e


                                                                                                  s


            5  M  


             6
                                                                                               




 Step 4: Put          into a DNF (or d-DNNF) form       Step 5.1. : Forgetting variables of V in 4,M
                                                         edÂ°(Â“dÂ± Â¥ue Â¥Â¨>[Â²Â“(Â  l e Â£ Â§KWÂ™Â  T Â§aOÂ QÃ„}T 2Â§a


                                                      Â®8Â¯       E            s


                                      l  Â¡


                                          s


                                                             9        4fM     9     ;            


                          9      506M 
                                                         TÃ…ÂŸÂ§J,Â Ã„Â™TÃ…ÂŸÂ§&,Â Q#TBzTÃ…ÂŸÂ§


 Step 5.1: Forget Variables of from                   Â 


                                             l  Â¡


                                                 s


                                                       ;


                              :     5<FM*5 M 


          Forget Negated atoms of from     6      .


                          Â§
 Step 5.2:       Â 


             DKELGJI                                    Step 5.2 : Forgetting Negative atoms
                  5
    This gives      6Â¼RÂ½'Â¾rÂ³Â‚Â¿ .


                                                      Forgetting negative literals of : gives :


                                                           Â     l  e Â§FW=Â OTBÂTÃ…ÂŸÂ§Â¨Â  TÃ…Â›T2Â§Â¨Â Ã„qTÂŸÃ…ÂŸÂ§


                                                      DKELGJI       s


                                                           5   M                     ;


 Step 6:  Use proposition 2 and results of Section 4.1 to    6
                                           ;


    check if p is a plausible consequence of 4 and or not. Step 6: Checking plausible inference
                                                                                                    e


  Forgetting a variable in a DNF amounts to forget it in each Using results of Section 4.1, it can be checked that is a
                                                                                  ;
term, and forgetting it in a term amounts just to suppress the plausible consequence of 4 and , as we have already seen
term. This clearly shows that this is polyomial in time. A sim- in Example 3 that .
ilar procedure applies as well to d-DNNF format. This for- We ï¬nish this section by brieï¬‚y discussing the case where


mat known as Deterministic, Decomposable Negation Nor- weights associated with constraints are totally ordered. Let


                                                         WCl(Â Â¢Â¡]oÂ£Â¦Â¥(]HÂ§$p WÃ†uÂ£+-+.+-Â£
                                                                              G`s
mal Form has been proposed recently [Darwiche, 2004] is a            E


                                                      4                         . We assume without loss of


                                                                         Â¥


                                                                   Â¥R)$Ã‡Â¥ Ãˆ+-+-+NÃ‡Â¥(1
compact format, and has allowed the computation of gener- generality that            . The knowledge bases


ally intractable logical queries in time polynomial in the form


                                                      5      50<


                                                        6 and    are :


                                                          WmlÂ¦Â¡  pÂ Â¢Â¡ Â£'Â¥ Â§|


                                                              ]    ]   ]  ]


size. An algorithm has been presented in [Darwiche, 2004]                      s


                                                      5                       4


                                                        6                       , and


                                                          Wql  Â€]2].Â¨Â¤) p WÂ™rÂ£Â‚+.+-+.Â£ 


                                                                                 G0Â©  s


for compiling Conjunctive Normal Forms into d-DNNF di-                   E


                                                        <
                                                             
                                                      5                                .


rectly. Our approach can clearly take advantage of this format Ã„
                                                                                        <


                                                        Let   be the result of putting 56M$5 into a DNF form,


                                                              Â    Â£   Â§


as well.                                                  DKELGJI


                                                               5   5<                                 9
                                                      and        6     be the result of forgetting variables of
  Let us illustrate the above procedure with the following ex-
                                                      and negative atoms from Â . Then for totally ordered weights,


ample:                                                it is possible to compute a compiled base (as in standard pos-


                                                                                 Â”uÂ        Â§


                                                                               Â¯/G


                                                                             ;     5  M5<


Example 5 Let us consider again Example 3, where we   sibilistic logic), denoted by  6      , as follows:


       WÃ€l(Â Â¢Â¡Â¤Â£\X$Â¥uvÂÂ Â¥Â£'>Â§\Â§[Â£dÂ  Â¡Â‡SegÂ£\X Â  Â£'Â’nÂ§Â¦Â§[Â£dÂ  egÂ£Â¦Â“gÂ§Â¦Â§


                                  ELG I          s


                                                                                       Â¥            Â  Â§KW


                                                                                        Â


                                                                                                tuGJI


                                                        3


                                          


have: 4                                           ,


       WÃl/Â¥=Ã‚Â“nÂ£ Ã‚Â¥Â£Â¦Â’ÃƒÃ‚Â“ +    ÂŸÂ£Â¦B0Â£ Â£Â¦Ã„OÂ£Â¦Ã…


                                                                                   4                4
                              s


                 I                                        If the inconsistency degree of is (namely


                                                          Â¥rÂ          Â”nÂ         Â§


                                                                     Â¯/G
                                         ;


and ;                           Let             be


                                                                                <
                                                                         506Â›MS5


                                                            ), then ;              is logically equivalent to


                                                             edÂ°Â¨Â“Â‚Â± Â¥ne Â¥Â¨>[Â²QÂ“nÂ  )`T,+-+.+/T {ÂÂ§a)FTÃ„OÂ£ Â§
                                                                    E


the propositional symbols associated with symbolic weights Â®8Â¯


Â¥Â£'>/Â£ Â£Â¦Â’bÂ£Â¦Â“


    I


                                                                 9                           Â


                                                                                  Â   Â£   Â§    Â”nÂ        Â§
                                                                                            Â¯/G




        .                                                                    DFELGJI


                                                        3


                                                            4                     5   5<  ;    5  M|5<


                                                                                    6             6
                        ;


                  4                                       If  is consistent, then


                                                                                  edÂ°(Â“dÂ± Â¥ne Â¥Â¨>[Â²Â“(Â   T+.+-+rT


                                                                                                  )
                                                                                          E


  Step 1 : Encoding and                                                         Â®8Â¯


                                                                                      9        



                ;                                         is logically equivalent to
                                                                     Â§


  The encoding of in propositional logic gives :            21 TÃ„fÂ£


              Wml Â›Ã…!Â£   ÂŸÂ£ Ã„Â™Ã…


                                        s


                                                                  Â


            <


                        *;    


          5                                                           .


                                                                     Â”nÂ        Â§
                                                                  Â¯/G



  The encoding of 4 gives :


                                                                              <


                                                                 ;    506kM5


   WmlÂ¦Â¡j%Â #TBÂ§Â£ Â¡e{ Ã„fÂ£ e{Ã…


                                       s                Note that                is under DNF form, and we


                                                           Â¡                                      Â”uÂ 


                                                                                                Â¯/G


                         ;      


56                                     .


                                                                                         4    ;     5  M


                                                      have:  is a possibilistic consequence of iff    6


                                                         Â§FijÂ¡&+


                5


                  6
                                                        <




  Step 2 : Putting  into a DNF form                   5
          5


We ï¬rst put 6 in a DNF form, which gives :


                                                                      WmlnÂ Â¢Â¡Â¤Â£Â¦+ Ã‰nÂ§[Â£Â‚Â QU(Â£Â¦+ ÃŠuÂ§[Â£Â‚Â  Â¡j U(Â£'R+ Ã‹nÂ§Â£


Â Â¢Â¡Â‰T T  eVÂ§Â¤%Â 
Â¡TÃ„Â™T eVÂ§Â¤Â #TBzT Â¡T eVÂ§&%Â QÂT


                                                                    4                       


                                      


    ;                                                            Let








                                                                    jÂ£'BÂ£ Â£'Ã…
                                                        Â¡Â¤Â£Â¦+ ÃŒuÂ§
                                                      ExampleÂ  6


BPT   T  eVÂ§aOÂ QÂ›TBPTÃ„}T egÂ§akÂ Â¢Â¡jT0eNT0Ã…Â§kÂ Â¢Â¡jT T


                                                              s




                                                                         ;
                                                       


                                             ;


    ;                                                          . Let          be propositional symbols asso-


Ã…ÂŸÂ§fÂ Â¢Â¡8T!Ã„}T!Ã…ÂŸÂ§fÂ TBÂšT Â¡ TÃ…ÂŸÂ§ZfÂ T!BSTeFTÃ…ÂŸÂ§




                                                     ciated respectively with the weights of the knowledge base


                                                             + Ã‰Â£Â¦R+ÃÃŠÂ¨Â£'R+ Ã‹Â£'R+ÃÃŒ


Â ÂTBYT  TÃ…ÂŸÂ§J,Â #TBzTÃ„Â™TÃ…ÂŸÂ§




        ;                                             (namely              ). The two propositional bases are:


                                                          WÃldYÂ¡&Â£'B=%U(Â£  Â¡ U(Â£'Ã…Â™ Â¡          W


                                                                                             s


                                                      5                   ;                     50<


                                                        6                                     , and


                                                         Â0B0Â£ Bz  Â£   Ã…  +


  Step 3.1: Forgetting Variables of V                 l


                                                                              s


                                                                   ;  *;


Now we forget the two variables p and r of V. By using prop- 
                                                                                   <


erties (1)-(3); and after simpliï¬cation, we get:      The DNF associated with 56M05 is:




                                                            Â 
Â¡Â¤T|UÂ¨T T|Ã…T 2Â§Â 
Â¡Â¤T7B0T T7Ã…ÂŸÂ§ Â QT|BT T7Ã…ÂŸÂ§
     eÂ‚Â°Â¨Â“dÂ± Â¥ne Â¥(>Â²Â“(Â  Â£ Â§K^ 0Ã„Â™Ã…P%Â #TBÂ§


  Â®8Â¯       E




                                                                  ;                ;              ;
        9        5   9    ;


                   6                                    D =


                                               Â   Â§


                                            tuGJI


                                                                            9                      Â


Note that this is exactly the logical counterpart of 4 Let us forget variables of , and negative atoms from , we
                                      


given by (1) in Example 3 (after remplacing, by minimum get :


         T                                              TÃ…SBYT   TÃ…S#TBYT   T0Ã…


                                                                  ;               ;
operation, by maximum operation).                     ;